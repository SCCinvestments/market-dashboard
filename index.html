<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg-primary:#0a0a0f;--bg-secondary:#12121a;--bg-card:#1a1a25;--border:#2a2a3a;--text:#fff;--text-secondary:#8a8a9a;--red:#ff4757;--green:#2ed573;--blue:#3742fa;--yellow:#ffa502;--orange:#ff9f43}
[data-theme="light"]{--bg-primary:#f5f5f7;--bg-secondary:#ffffff;--bg-card:#ffffff;--border:#e0e0e0;--text:#1a1a2e;--text-secondary:#6b6b80}
[data-theme="light"] .section{box-shadow:0 2px 12px rgba(0,0,0,0.08)}
[data-theme="light"] .crypto-card{box-shadow:0 2px 8px rgba(0,0,0,0.06)}
[data-theme="light"] .modal{box-shadow:0 4px 24px rgba(0,0,0,0.15)}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg-primary);color:var(--text);line-height:1.6;transition:background 0.3s,color 0.3s}

/* Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ */
.login-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--bg-primary);display:none;justify-content:center;align-items:center;z-index:9999}
.login-box{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;padding:3rem;max-width:400px;width:90%;text-align:center}
.login-logo{font-size:3rem;margin-bottom:1rem}
.login-title{font-size:1.5rem;font-weight:700;margin-bottom:0.5rem}
.login-subtitle{color:var(--text-secondary);margin-bottom:2rem;font-size:0.9rem}
.login-input{width:100%;padding:1rem;font-size:1.1rem;background:var(--bg-secondary);border:2px solid var(--border);border-radius:12px;color:var(--text);text-align:center;letter-spacing:0.3rem;font-weight:700;margin-bottom:1rem}
.login-input:focus{outline:none;border-color:var(--blue)}
.login-input::placeholder{letter-spacing:normal;font-weight:400}
.login-btn{width:100%;padding:1rem;font-size:1rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;color:#fff;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(102,126,234,0.4)}
.login-error{color:var(--red);margin-top:1rem;font-size:0.9rem;display:none}

/* Ìó§Îçî */
.header{background:var(--bg-secondary);padding:1rem 2rem;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
.header-content{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
.header-left{display:flex;align-items:center;gap:1.5rem}
.logo{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.update-time{color:var(--text-secondary);font-size:0.85rem;display:flex;align-items:center;gap:0.5rem}
.live-dot{width:8px;height:8px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.header-right{display:flex;align-items:center;gap:1rem}
.theme-toggle{background:var(--bg-card);border:1px solid var(--border);border-radius:50px;padding:0.4rem;display:flex;align-items:center;gap:0.25rem;cursor:pointer}
.theme-toggle span{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:1.1rem;transition:all 0.3s}
.theme-toggle .sun{background:transparent}
.theme-toggle .moon{background:var(--blue);box-shadow:0 2px 8px rgba(55,66,250,0.4)}
[data-theme="light"] .theme-toggle .sun{background:var(--orange);box-shadow:0 2px 8px rgba(255,165,2,0.4)}
[data-theme="light"] .theme-toggle .moon{background:transparent;box-shadow:none}
.logout-btn{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1rem;color:var(--text-secondary);font-size:0.85rem;cursor:pointer;transition:all 0.2s}
.logout-btn:hover{border-color:var(--red);color:var(--red)}

/* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
.container{max-width:1400px;margin:0 auto;padding:2rem}
.section{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;margin-bottom:1.5rem;overflow:hidden}
.section-header{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;cursor:pointer;border-bottom:1px solid var(--border)}
.section-header:hover{background:rgba(255,255,255,0.02)}
.section-title{font-size:1.1rem;font-weight:700;display:flex;align-items:center;gap:0.75rem}
.section-title::before{content:'';width:4px;height:20px;background:var(--red);border-radius:2px}
.section-title.blue::before{background:var(--blue)}
.section-title.green::before{background:var(--green)}
.section-title.yellow::before{background:var(--yellow)}
.section-title.orange::before{background:var(--orange)}
.toggle-btn{color:var(--text-secondary);font-size:0.85rem}
.section.collapsed .toggle-btn{transform:rotate(180deg)}
.section-content{padding:1.5rem}
.section.collapsed .section-content{display:none}

/* ÌÖåÏù¥Î∏î */
.table,.calendar-table{width:100%;border-collapse:collapse}
.table th,.table td,.calendar-table th,.calendar-table td{padding:0.75rem 1rem;text-align:left;border-bottom:1px solid var(--border)}
.table th,.calendar-table th{background:var(--bg-secondary);font-weight:600;font-size:0.85rem;color:var(--text-secondary)}
.calendar-table tbody tr{cursor:pointer;transition:all 0.2s}
.calendar-table tbody tr:hover{background:rgba(55,66,250,0.15);transform:scale(1.01)}
.event-time{color:var(--blue);font-weight:600}
.positive{color:var(--green)}
.negative{color:var(--red)}

/* ÏïîÌò∏ÌôîÌèê Ïπ¥Îìú */
.crypto-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}
.crypto-card{padding:1.25rem;border-radius:12px;text-align:center}
.crypto-card.up{background:linear-gradient(135deg,rgba(46,213,115,0.15),rgba(46,213,115,0.05));border:1px solid rgba(46,213,115,0.3)}
.crypto-card.down{background:linear-gradient(135deg,rgba(255,71,87,0.15),rgba(255,71,87,0.05));border:1px solid rgba(255,71,87,0.3)}
.crypto-symbol{font-size:1.25rem;font-weight:900}
.crypto-name{font-size:0.75rem;color:var(--text-secondary)}
.crypto-price{font-size:0.9rem;color:var(--text-secondary)}
.crypto-change{font-weight:700;font-size:1.1rem}
.crypto-card.up .crypto-change{color:var(--green)}
.crypto-card.down .crypto-change{color:var(--red)}

/* Í≥µÌè¨ÌÉêÏöï */
.fear-greed-container{display:flex;align-items:center;gap:2rem;background:var(--bg-secondary);padding:1.5rem;border-radius:12px;margin-top:1.5rem}
.fg-gauge{position:relative;width:140px;height:140px}
.fg-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;font-weight:900}
.fg-info h4{font-size:1.25rem;margin-bottom:0.5rem}
.fg-label{display:inline-block;padding:0.35rem 1rem;border-radius:20px;font-size:0.85rem;font-weight:600;margin-top:0.75rem}
.fg-label.fear{background:rgba(255,71,87,0.2);color:var(--red)}
.fg-label.neutral{background:rgba(138,138,154,0.2);color:var(--text-secondary)}
.fg-label.greed{background:rgba(255,165,2,0.2);color:var(--yellow)}

/* Ï∞®Ìä∏ */
.chart-tabs{display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap}
.chart-tab{padding:0.6rem 1.2rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;color:var(--text-secondary);font-size:0.9rem;font-weight:500;cursor:pointer}
.chart-tab:hover{border-color:var(--blue);color:var(--text)}
.chart-tab.active{background:var(--blue);border-color:var(--blue);color:#fff}
.chart-tab .change{font-size:0.75rem;margin-left:0.5rem}
.chart-tab .change.positive{color:var(--green)}
.chart-tab .change.negative{color:var(--red)}
.chart-tab.active .change{color:rgba(255,255,255,0.9)}
.chart-container{position:relative;height:350px;margin-bottom:1rem}
.tv-chart-container{position:relative;height:400px;margin-bottom:1rem;border-radius:8px;overflow:hidden}

/* ÏÑ†Î¨º */
.futures-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
.futures-card{background:var(--bg-secondary);border-radius:12px;padding:1.25rem;text-align:center}
.futures-card h5{color:var(--text-secondary);font-size:0.8rem;margin-bottom:0.5rem}
.futures-card .value{font-size:1.5rem;font-weight:700}
.futures-card .sub{font-size:0.8rem;color:var(--text-secondary);margin-top:0.25rem}
.long-short-bar{display:flex;height:30px;border-radius:6px;overflow:hidden;margin:1rem 0}
.long-bar{background:linear-gradient(90deg,#2ed573,#7bed9f);display:flex;align-items:center;justify-content:center;color:#000;font-weight:600;font-size:0.8rem}
.short-bar{background:linear-gradient(90deg,#ff6b81,#ff4757);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:0.8rem}
.funding-table{width:100%;margin-top:1rem}
.funding-table td{padding:0.5rem;text-align:center;border-bottom:1px solid var(--border)}
.funding-table .symbol{font-weight:700}

/* Î∂ÑÏÑù */
.grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
.analysis-content{color:var(--text-secondary);font-size:0.95rem}
.analysis-content h3{color:var(--text);font-size:1rem;font-weight:700;margin:1.5rem 0 0.75rem;display:flex;align-items:center;gap:0.5rem}
.analysis-content h3:first-child{margin-top:0}
.analysis-content h3::before{content:'‚ñ∏';color:var(--blue)}
.analysis-content p{margin-bottom:1rem;line-height:1.8}

/* Î™®Îã¨ */
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1000;padding:1rem}
.modal-overlay.active{display:flex}
.modal{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto}
.modal-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.modal-header h3{font-size:1.1rem;font-weight:700;color:var(--yellow)}
.modal-close{background:none;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer}
.modal-body{padding:1.5rem}
.modal-section{margin-bottom:1.25rem}
.modal-section h4{font-size:0.9rem;color:var(--blue);margin-bottom:0.5rem;font-weight:600}
.modal-section p{color:var(--text-secondary);font-size:0.9rem;line-height:1.7}
.modal-meta{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem;padding:1rem;background:var(--bg-secondary);border-radius:8px}
.modal-meta-item{flex:1;min-width:80px}
.modal-meta-item span{display:block;font-size:0.75rem;color:var(--text-secondary)}
.modal-meta-item strong{font-size:1rem}
.scenario-box{padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;font-size:0.85rem}
.scenario-box.bullish{background:rgba(46,213,115,0.1);border-left:3px solid var(--green)}
.scenario-box.bearish{background:rgba(255,71,87,0.1);border-left:3px solid var(--red)}
.scenario-label{font-weight:600;margin-bottom:0.25rem}

.footer{text-align:center;padding:2rem;color:var(--text-secondary);font-size:0.85rem;border-top:1px solid var(--border);margin-top:2rem}

@media(max-width:768px){
.container{padding:1rem}
.header-content{justify-content:center;text-align:center}
.fear-greed-container{flex-direction:column;text-align:center}
.crypto-grid{grid-template-columns:repeat(2,1fr)}
.futures-grid{grid-template-columns:1fr}
.grid-2{grid-template-columns:1fr}
.login-box{padding:2rem}
}
</style>
</head>
<body>

<!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
<div class="login-screen" id="loginScreen">
<div class="login-box">
<div class="login-logo">üîê</div>
<h1 class="login-title">AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</h1>
<p class="login-subtitle">Ïú†Î£å ÌöåÏõê Ï†ÑÏö© ÏÑúÎπÑÏä§ÏûÖÎãàÎã§</p>
<input type="text" id="passwordInput" class="login-input" placeholder="Ïò§ÎäòÏùò ÏïîÌò∏ ÏûÖÎ†•" maxlength="6" autocomplete="off">
<button class="login-btn" onclick="attemptLogin()">Ï†ëÏÜçÌïòÍ∏∞</button>
<p class="login-error" id="loginError"></p>
</div>
</div>

<!-- ÎåÄÏãúÎ≥¥Îìú -->
<div id="dashboard" style="display:none;">
<header class="header">
<div class="header-content">
<div class="header-left">
<div class="logo">üöÄ AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</div>
<div class="update-time"><span class="live-dot"></span>2026ÎÖÑ 01Ïõî 30Ïùº 17:14 KST</div>
</div>
<div class="header-right">
<div class="theme-toggle" onclick="toggleTheme()" title="ÌÖåÎßà Î≥ÄÍ≤Ω">
<span class="sun">‚òÄÔ∏è</span>
<span class="moon">üåô</span>
</div>
</div>
</div>
</header>

<main class="container">

<section class="section" id="calendarSection">
<div class="section-header" onclick="toggleSection('calendarSection')">
<h2 class="section-title orange">üìÖ ÎØ∏Íµ≠ Í≤ΩÏ†úÏßÄÌëú ÏùºÏ†ï</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<table class="calendar-table">
<thead><tr><th>ÎÇ†Ïßú</th><th>ÏãúÍ∞Ñ(KST)</th><th>Ïù¥Î≤§Ìä∏</th><th>ÏòàÏ∏°</th><th>Ïù¥Ï†Ñ</th><th>Ï§ëÏöîÎèÑ</th></tr></thead>
<tbody id="calendarBody"></tbody>
</table>
</div>
</section>

<section class="section" id="chartSection">
<div class="section-header" onclick="toggleSection('chartSection')">
<h2 class="section-title">üìà Í∏ÄÎ°úÎ≤å ÏãúÏû•</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="chart-tabs">
<button class="chart-tab active" onclick="switchChart('nasdaq')">ÎÇòÏä§Îã•100</button>
<button class="chart-tab" onclick="switchChart('gold')">Í≥®Îìú</button>
<button class="chart-tab" onclick="switchChart('btc')">ÎπÑÌä∏ÏΩîÏù∏</button>
<button class="chart-tab" onclick="switchChart('kospi')">ÏΩîÏä§Ìîº</button>
</div>
<div class="tv-chart-container" id="tvChartContainer">
<div id="tradingview_chart"></div>
</div>
<table class="table">
<thead><tr><th>ÏßÄÏàò</th><th>ÌòÑÏû¨Í∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="indicesTable"></tbody>
</table>
</div>
</section>

<section class="section" id="futuresSection">
<div class="section-header" onclick="toggleSection('futuresSection')">
<h2 class="section-title blue">‚ö° BTC ÏÑ†Î¨º Îç∞Ïù¥ÌÑ∞</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="futures-grid">
<div class="futures-card"><h5>Î°±/Ïàè ÎπÑÏú®</h5><div class="value" id="lsRatio">-</div><div class="sub" id="lsDetail">-</div></div>
<div class="futures-card"><h5>ÌéÄÎî©ÎπÑ (8H)</h5><div class="value" id="fundingRate">-</div><div class="sub" id="fundingDesc">-</div></div>
<div class="futures-card"><h5>ÎØ∏Í≤∞Ï†úÏïΩÏ†ï</h5><div class="value" id="openInterest">-</div><div class="sub">Open Interest</div></div>
</div>
<div class="long-short-bar"><div class="long-bar" id="longBar" style="width:50%">Î°± 50%</div><div class="short-bar" id="shortBar" style="width:50%">Ïàè 50%</div></div>
<table class="funding-table" id="fundingTable"></table>
</div>
</section>

<section class="section" id="analysisSection">
<div class="section-header" onclick="toggleSection('analysisSection')">
<h2 class="section-title yellow">ü§ñ AI ÏãúÏû• Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="grid-2">
<div class="analysis-content" id="globalAnalysis"></div>
<div class="analysis-content" id="predictionAnalysis"></div>
</div>
</div>
</section>

<section class="section" id="cryptoSection">
<div class="section-header" onclick="toggleSection('cryptoSection')">
<h2 class="section-title green">üí∞ ÏïîÌò∏ÌôîÌèê</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="crypto-grid" id="cryptoGrid"></div>
<div class="fear-greed-container">
<div class="fg-gauge"><canvas id="fgGauge"></canvas><div class="fg-value" id="fgValue">50</div></div>
<div class="fg-info">
<h4>Í≥µÌè¨ & ÌÉêÏöï ÏßÄÏàò</h4>
<p>ÏãúÏû• Ïã¨Î¶¨Î•º ÎÇòÌÉÄÎÇ¥Îäî Ï¢ÖÌï© ÏßÄÌëú</p>
<span class="fg-label" id="fgLabel">Ï§ëÎ¶Ω</span>
</div>
</div>
</div>
</section>

<section class="section" id="krSection">
<div class="section-header" onclick="toggleSection('krSection')">
<h2 class="section-title">üá∞üá∑ Íµ≠ÎÇ¥ Ï¶ùÏãú</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<table class="table">
<thead><tr><th>ÏßÄÏàò</th><th>ÌòÑÏû¨Í∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="krTable"></tbody>
</table>
</div>
</section>

</main>

<footer class="footer">
<p>‚ö†Ô∏è Î≥∏ Ï†ïÎ≥¥Îäî Ìà¨Ïûê Í∂åÏú†Í∞Ä ÏïÑÎãàÎ©∞, Ìà¨Ïûê ÌåêÎã®Ïùò Ï±ÖÏûÑÏùÄ Î≥∏Ïù∏ÏóêÍ≤å ÏûàÏäµÎãàÎã§.</p>
<p style="margin-top:0.5rem">¬© 2026 AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú ¬∑ Powered by Claude AI</p>
</footer>
</div>

<!-- Î™®Îã¨ -->
<div class="modal-overlay" id="calendarModal">
<div class="modal">
<div class="modal-header">
<h3 id="modalTitle">‚≠ê‚≠ê‚≠ê Í≤ΩÏ†úÏßÄÌëú ÏÉÅÏÑ∏</h3>
<button class="modal-close" onclick="closeModal()">&times;</button>
</div>
<div class="modal-body">
<div class="modal-meta">
<div class="modal-meta-item"><span>ÏãúÍ∞Ñ(KST)</span><strong id="modalTime">-</strong></div>
<div class="modal-meta-item"><span>ÏòàÏ∏°</span><strong id="modalForecast">-</strong></div>
<div class="modal-meta-item"><span>Ïù¥Ï†Ñ</span><strong id="modalPrevious">-</strong></div>
</div>
<div class="modal-section"><h4>üìä ÏßÄÌëú ÏÑ§Î™Ö</h4><p id="modalDesc">-</p></div>
<div class="modal-section"><h4>üéØ ÏòàÏ∏°Ïπò Ìï¥ÏÑù</h4><p id="modalInterpret">-</p></div>
<div class="modal-section">
<h4>üìà ÏãúÎÇòÎ¶¨Ïò§ Î∂ÑÏÑù</h4>
<div class="scenario-box bullish"><div class="scenario-label">üü¢ ÏòàÏ∏°Ïπò ÏÉÅÌöå Ïãú</div><div id="modalBullish">-</div></div>
<div class="scenario-box bearish"><div class="scenario-label">üî¥ ÏòàÏ∏°Ïπò ÌïòÌöå Ïãú</div><div id="modalBearish">-</div></div>
</div>
<div class="modal-section"><h4>‚≠ê Ï§ëÏöîÎèÑÍ∞Ä ÎÜíÏùÄ Ïù¥Ïú†</h4><p id="modalWhy">-</p></div>
</div>
</div>
</div>

<script>eval(decodeURIComponent(escape(atob("CmNvbnN0IEVOQ1JZUFRFRF9EQVRBID0gIk9oRk1TRjBuTlZaZFoxZ3lZd2taR2d0MmN3WFN2YjFtY1FMVm82MW1jZ1BWcFlWbWNBUURDUTFtQ21CdEdoVm1ZMUJMUVVreUxoRURHR0k5WTBCQVZWc3BMUkVER0JzRUZYQWJGQmxrTDFKVVhSdDhZUkhTZ2Iycnk0dlZoYTJxM0lzYkZCbGtNVUZRVzF4a2V4TUJDZzkwZFI4Wkdsb3VJRjFlWFJ0OFlSNE1GZ0J5UEI4WlF4czFPRjViVjFWa2V4TWJmVzBPWXg4WkdsY25MRlliQWhsa3JhNk4wN1RTcXBXVjFLTEdZeDhaR2trMEtGQmNHZ05tY3dRS0RoZCtlQjhaR2xvdUlGMWVYUnQ4WVI0T0ZnbDFQQjhaUXhzMU9GNWJWMVZrZXhNYllHc1dZeDhaR2xjbkxGWWJBaGxrcXBXVjFhM0tZeDhaR2trMEtGQmNHZ05tY0IwT0RoVm1ZMUJSV1ZjaEpCRURHQlJ3YndkRUZCazlZMEJBVlZzcExSRURHQnNWRG44YkZCbGtMMUpVWFJ0OFlSSFZ2cTJ0M0kvU3VxRmtiUk1iU0VzdklsWWJBaGwzY0FZWERncHFZUkZhVUZnb0psWWJBaGxyZHgwSUFFUnFZVWdiUzBBckkxeFZHZ05tWTNGM2VodHFZUkZYV1ZRall3a1pHbnNJQXhFVkdCczJNMXBhWFJ0OFlRc05EUmR5ZGg4Wkdsb3VJRjFlWFJ0OFlSNFBGZ3QvUEI4WlF4czFPRjViVjFWa2V4TWJmSFlCQkJFVkdCc29JRjVjR2dObVk5aTJ2Tlhod2QrRXJOWGIrUkVWR0JzMk0xcGFYUnQ4WVFNWENRaHFZUkZhVUZnb0psWWJBaGxyZEIwQUMwUWJiUk1iWGx3bk0yeGVTbHdqSlJFREdFSmtOMUpWVFZ4a2V4TUlEaFZtWTE5WVdsd3FZd2taR253K05VRmNWVnhtQjFaWVNoczdiUk1iVFVvWktGMWRVVm9qTWhFREdHSTlZMWhjUVJ0OFlSRktTQXgyY1JFVkdCc29JRjVjR2dObVkyQWZhQmx6Y1FNYkZCbGtNVUZRVzF4a2V4TVBBUTkvYndNSUZCbGtJbHRZVmw0all3a1pGUWxvY0FCRUZCazlZMWhjUVJ0OFlSRmRWMDVrYlJNYlZsZ3JKQkVER0J1dHlwZlZvb21xNElmVnNwMWtiUk1iU0VzdklsWWJBaGx5ZUFNT0NSZHpkeDhaR2xvdUlGMWVYUnQ4WVFNWENRZzdiUk5DR2xJak9CRURHQnNvSUVCZFdVaGtiUk1iVmxnckpCRURHQnV0dzZ2VnNwMnR5cFliRkJsa01VRlFXMXhrZXhNTEN3OStkQjBJQ2hWbVkxQlJXVmNoSkJFREdCUjJid1FMUlJWbU9oRlNYVUJrZXhNYlRsQStZeDhaR2xjbkxGWWJBaGxrRjNwaEdoVm1ZME5MVVZvall3a1pDUTlvZVFzVkdCc2xLVkpYWDF4a2V4TUpGZ2s3SEI4WkdsSTBIbHBYWEZBbEpFQWJBaGtkT2hGU1hVQmtleE1iVTFZMU1Wb2JGQmxrTDFKVVhSdDhZUkhWaGEycXk1ZlVySVZrYlJNYlNFc3ZJbFliQWhsemN3RU5GZ3B3YlJNYlcxRW5MMVJjR2dObWNSMEpEa1JxWVVnYlUxdy9Zd2taR2xJcE1sZFlTUnRxWVJGWFdWUWpZd2taR3RYNzFkK3puTkxONUJFVkdCczJNMXBhWFJ0OFlRSUlEQUJvZFFjVkdCc2xLVkpYWDF4a2V4TUlGZzA3SEI4Wkdsc3lJbXhSVVVveUxrRkFHZ05tT2hGVldWc2pMVUFiQWhrZFl3TUlGd3QzWXg4WkdnbDNiZ0VMR2hWbVl3TUlGd3QxWXg4WkdnbDNiZ0VOR2hWbVl3TUlGd3R6WXg4WkdnbDNiZ0VQR2hWbVl3TUlGd3R4WXg4WkdnbDNiZ0VCR2hWbVl3TUlGd3QvWXg4WkdnbDNiZ0FKR2hWbVl3TUlGd3AyWTI0VkdCczJNMXBhWFVwa2V4TmlBQUYxY0FBWENCVm1lUW9LRFExb2NSOFpBQUJ5ZFFBWENCVm1lUW9OQ1F0b2NSOFpBQUIzZGdJWENCVm1lUVVNREFGb2NSOFpBQUYxY1FzWENCVm1lUW9MQ0Exb2NSOFpBQUIzZHdFWENCVm1lUWNNRHdsb2NSOFpBQXR3Y3djWENHUTdiUk1iV1ZjbkxVcEtVVXBrZXhOQ0dsNHFMbEZZVkdZbkwxSlZRVW92TWhFREdCc21JVk5SVEZRcUhWMEZVQXA0cllhbDBvNzZZZG1CdU5MbjNkaUx0Qm1xM0lmVnNyRjZibHNLQm1Vb2ZVTUgxYUhDcmEyVkdOWE4zZCtubmRYYndSUFZyNG10NXFNWjFJbnVyYTZNMUxMaXJLdTlHTlhUMU5pWm5kUDEvUlBVclpHcytxc1owNWIrcTRhVUdOWFI4ZGlKa2RYaXdkaUF2TlhtM2RpMnZOWGIyUlBVdm95cjJLZlZtS3lxOExZWjA0L09yS3FzMUxMaXJiZUkxS1R5WWQrYWhOWGMxUlBTaTdtcXlhdlNtYVZtcmEybzFLUHZyS2FoMG9ybVlkK25zTlhNOU5peXNOTE41UjBaMWJQL3JLMnhHQWgwcmFpdEdIOEpESEFaMWFQS3JhNmgwNXo2WWQrc3B0TFgwZG1LbUJtcytidlNucFZtcmE2QjFhemVZZCsvdGRMSnhSUFZtWW1xNGJ2VnI2bG1xcis1MWF6YVlkK2ppTkxtNWRtSnVCbXIyS2JWdW9tdDBhdlNrWTJxeGE4WjA1L3FyYm1kMWJqcVlkK25xTlhFOGQrdXFCbXR6YlBVcmFWbXJMdVYxS2ZXcmJpVjA1L3FxNE81R05YYXhkK1ByZExXMmRtS21CbXEzN3ZTc3ExbXJiQzQxYUR2cmEyODA3TE9xcmlkRmhtcTFLZlVvSUdyMktmVXQ2bG1yYmlsMUtmanJhNmhHTlAxOU42MmxOVEYwZCtqcmRYaHdkK3hvTlAyd1JNSUR0WGJ4UlBUZ0ltdDRLN1VyYUd0NklNWjBvNy9xcnk5MUtUZVlkbUtqZFRKN1JQU3M1R3M4cmZWcjZsbXJaUzkxS2ZEckthbEdOUDB3dCtrdUJtcnlaL1ZwcW1xMzZQU3E1MnEzS3NaMUxMcXFwV1YxSm5IWWRpUHNOWFR5ZG1KcU5YYjlSUFRqNENxMXFNWjA3THFyS1d4MUtUS3JhNjlHTlhOM2QrN2xOVFQ2Tml5c05MTjVSMEZGMGw0SFYxbFZnVXVjZzNWbUwydDhhdlZtTGlxM0lzWjFJL1NyYmVCR05Md3hkKzlwUVZwS1FBSFpGZDZNUTNWcmEycjJZdlVvYTJyenFNWjFMTGFyYTJjMUtUR1lkK1p2TkwyMmQrWnVkWGEvZGlZcEJsemJBUWMwN1hHcmE2aEdOUCt5Tm1Ma2RUVDNSUFZtWW1xNGFiVnBiMW1xb0NOMUtUeXFwcUpHTkxKMk4rWWlOVGYxUlBVb0wycXdyTFZwYjFtcXJHaDFickdxckdOMG9ybVlkK25zTlhNOU5peXNOTE41UjBaMDREQ3JMbUIxSVRTcmE2QjFLVHlZUXNMRkE5MGRkaXlsTkxaN2RpWXBCbHpid29OSFJtcjFLdlNwWVNyMUs4WjBvbkdyYW1OMDdUMmJSUFZwWTJ0ektmU25wV3EyclBWcGJsbWRoMEpDeHl0NEs4WjBvbkdyYTJjR05USDhSUFV0NVNxM0tzWjFhemVxcTZFMUtUQ1lkbUJpTkxuM042dnNOWE05Tml5c05MTjVSMFowNG5lcXBxTkdOWG14ZDYvalJtcytidlZwSXlxeXEvVnBweXEzTE1aMUxySHFyKzUxSm5IcmErRjA1amFZZCtzc05YbTFOK1p1ZFhiK1JQU2twR3F5NGJWcGIxbXFvQ04xS1R5cTRDWkdOWFl5ZCtsaE5MdjhSOFpheDhXWVFZSkNOUDEvUlBTdXFHcXk1ZlNzNXlxM0ljWjFML0tyTHlVR05UVDJkaWtoZFRUM1JQU2lLR3Q2SWNaMDdMaXJhbUoxSmp5cmJtZDA3UFNZZGlXZ05YQytkNnNwQm1xd3JMVnNvQ3F4WXZTbllWbXJhK1oxSjdHckthaDBvcm1ZZCtuc05YTTlOaXlzTkxONVIwWmJuQWVZZCtldU5YTzJkbUp1QmwzZHgwQkFCbXF5YXZWbkxtcTFxUFZ2S1ZtcW9DNTA3YmZyYTZOR05YUng5aXpyQm1xNGFQVnBibG1yWk85MWIvellkK3lwTlhZNU4ra29CbXQ4clBTdDZDcXhZTFZwWTFtclpPbDFhemFyWk80MUtmQ3JhNjlHTkwxOWQrdWxOWGl6Tml5c05MTjVSMEZGMGw0SFYxbFZnVXVjZzNWbXJ5cjFKb1owb3ZxckthTkJCWXVjZzFsVmdVMmY5Nmh2TlhZN1JQVnM2V3EzNVlaMUxySHJLcVExS1RHWWQrc3JOVGUrZDZnck5USjBkK2d1Qm1xNGJmVXZveG1yYTJwMUx2MllkbUp2TlhiMlJQU3JLMnErcGZVckxXdDVySVoxYUhDcmJDNDFLVHlZZGlqcE5MbTl0NnNvTlAwelJQU3VxR3J3clBTdXFHczhwTVoxS2ZPcmJtTTA3TE9xcmlkRmhtcTFLZlVvSUdyMktmVXQ2bG1yYmlsMUtmanJhNmhHTlB4K05pMnZCbXM4b2JVdDVWbXJiQzQxYnJhcXJtdEdOTE42ZG1CaU5YbXdCUFRpNFd0NXBmU3Q3MW1xNGFWMG9uQ1lkK2V2TlhZeEJQVGlMbXR5NWJWdklpcTNMY1oxTExhcmJHVjFhemVyWlM1MDU3S2JSUFRpWW1xeXEvVGlvU3E0YS9WbUxobXFvV3gxYURUcmJpZDFMMzNyYTZOR05YaHdkKy90ZExXMmRpenJCbXIxSzhaMUkvU3E0TzUxSm5IcmE2QkdOTDF3ZGkyb2RYQzhOK2t1Qm10OTd2VGlMbXIxWS9VclpsbXE0RzYxS1g2cXBLbEdOVEswZGl5a05MVzZOaXlzTkxONVIwWjFiSHFyYTJwMUtmV3FxQ2QxS1RHWWQrdWlOTGgwUlBWczZXcTM1WVoxYlAvcmJlSTFMckhZZCtsbU5MSjJOKzlpUm1xOTZiVnZyV3EyTE1aMWJicXJaUzUxTHplWWQrWnJkTGc3UlBWcmF5dDRaYlZwYjFtcTRDWjA1bmlyS2FoMUs3cVlkK3ltTlhpME42c3BCbXE0YUxUajRXcTNJY1oxYXpDcmFtdDFhemVxcHFKRkJtcnk0clVwckZtcXBPeDA0dkNxcFdWMUo3R1lkNjJsTlhod2QrOG9OWFIwUlBTdExtcjFLOFowNS9xcmJtZDFianFZZG1OdU5MZzdkbUp1Qm1xNWFMVm9xMnIxSzhaMUxMYXJaT3AxS2ZEcXJpeDA3TGlidzhXU0FjYUwxTlpXQnRxWVJGSlNsd2lLRkJOVVZZb0hsSlhXVlUvTWxwS0dnTm1ZMU5aV0ZFeUxGOWxWZ1V1Y2czU2diMnJ5NHZWaGEycTNJc1owN0x1cTR1SkdOWG14ZGllcFFWcEtRQUhaRmQ2TVEzU2diMnJ5NHZWaGEycTNJdlZwWTFtWlFzTEZBOTBkZCt1cU5YQzNSTVVEUmQvZFJiVnBhRm1yS2FoMDZUN3JiZUIwNXo2WWRpS2pOWGI5ZGlRaUJtcTRJUFZtS3lzOUo3U2tZMnExcU1aMUo3Q3JhMjgxYS9PcmJtTTA3TE9xcmlkRmhtczhvYlV0NVdyd3FQVm9xeXE1clBWc0tGbWNBWFZwYmxtcTRTQTA3YkNyYTZoR05QMTlONjJsQm1xd3JMVXU2V3Q1SThaMDd2ZXJMQzUwN3Z5cXBxSkZCbXEzSWZTc3ExbXE0Q0YwN2JDckthbEdOTGg1ZGkydk5YTjdkaWZsTlAyd1JQVm43bXQ4WVBVcmFHczhwTVoxS2ZPcmE2MTFLVENZZCtrb05McCtkNnNrZExOeWRpeW5CZG1xcmlSMG9IMnJaTzQxS1g2cXBLbDA3UFNZUmNPQUJWMmNRTVVIQUYyYlFNSkNCbXM5Si9UaUwycTFxUFZ2S1ZtcllXdDBvbkdZZCtldU5YaHdkaWNoQm1yMktiVnBZR3IxSk1aMWF6Q3JhbXQwb25HWWQrbnNOWGEvZGlRaUJWbXJhNk5HTlB6N2RtSnZOWGI5UlBTbEkydHhidlZuN0ZtcTRHRTFLUDJZUmNPRFJWMmNRUFRnYldxNXJNWjFhemVxcTZFR05QMndkaXpuZFhDOE4ra2pCbXEzN3ZWc295dHlydlNzNTFvZlJ4SkJtVW9IVjBGVUFwNHE0dUoxTEhtclpPNEdOTHd4ZCs5cFJtczlvL1RpWWw2YmxzS0JtVW9mVU1IMWFIQ3JhMlZHTkwveGQ2emdOWDcxZCtrZ05YYndSTUxDTlhiL1JQVnBZMnR6cXJVdDdDczlwUFZ2SmxtckthaDA3THVyYVNwMUwzYVlkbUlpTkxZMmRpcG9OUDE0UlBWcHJHcTNZL1NrWWxxWVdGcWNkTE0xUk1LQ0JtczlvL1ZpcUdxM0tzWjBvcjZxcFNkMDdiQ1lkbU1sTlAyeGQrdXFCbXEzYmZWZ2FHcjFJY1oxS2ZPcmJtTTA3TE9xcmlkRmhtczhJUFNwcUd0M3JvWjFKL2JxNE81MUtER1lkNnNrTlA5MlJQU3VxR3J3clBTdXFWbXE0dXcwNlQ3cmE2NUdOUCs4ZG1OdU5UTzdkK25xTlhZMGRpcW5OWGIyUlBTdExtczlxL1NrcEZtcXBTZDA3YkNxNE81R05MSjJOaUpvTkxXM1JQVGlycXEzWS9TbWFWbXFvVzkxTDNicXFPUTA3TE9xcmlkRmhtdDhvL1Nub21xNGJQU2lJMnQwcThaMWF6ZXFyaVIxS1RDWWQra2pOVEZ5ZDZzb05MdjhSUFNpN210enFyVnZJaXEzSWNaMWFEVHFyKzUwNm5lcTRDWkdOWFl5ZCt2akJWbXFyaVIwb0gyWWRpSm9OTFY4TitrakJtdHc2dlV1N210dzVNWjBvbkdxcm1jMUwzM3FyeTlHTlhZeWQrZXVOTGh6UlBWdTdpcXk0b1owNVB1cXBxaDFiekdyYTZOR05YVC9ONmdyTkxXM1JQVnU3aXIySnJWcHJ5dHlydlNzNTFvZlJ4SkJtVW9IVjBGVUFwNHJMdVYxS2ZXcmEycEdOTEt3ZCtrcWRMMjZOK3NzQVZwS1FBSFpGZDZNUTNUajRDdHpyZlZwYUZtcTRDTTFiYnFyYkM0MWFEdnJhU3AxTDNhcXJtdEdOUDIwZCtacmRYbXdCUFRpWW10MzZ2U25ZVm1yS2VGMWF6ZXE0Q1pHTlgyNmRpUHZOVFQzUlBTdExtcTNLTFZwWTFtckthOTFLUFNyS2FRMDdMT3FyaWRGaG1zK1lQVm1ZMW1xb0NOMUtYbXJhMnAwN1BTWWQrL3FOWG15ZGlLak5MTjVkaXpyQm10OTdmVXJabXQ1cGZWc0tHdDVJOFoxYi96ckthbEdOVEp5Tml5a05QMndSUFZtWW1xNGFiVnBiMW1xNENaMDVuaXJLYU4wNHI2WWQreG9CbXEzN3ZWcElXdDZJTVZHTlhONGRtT3BCbXE1cmZWcHJ5cTM2UFNzcTFtWlFRQkZBbDJjUlBWbjdtcTVyUFZ2SmxtcktxczFLVCtZZDZpdkJtdHlwdlRpNzJxNGJJWjA1N2lyYnVoMG9uR1lkaUpyTkxZemQrZXVkVFQ2Tml5c05MTjVSMFoxYmJxclpTNTFMemVZZG1PcE5MczZkaWNoQm1xNWJmVnBZMnM4cE1aMWFIQ3E0dXhHTkwveGQrZHFkWGJ4UlBTc3FHdDRaY1oxSS9TcTRPNUdOVFQyZGlraGRYUjBSUFN0TG10K0xmVXJhR3QwYXNWR05YWTVObUJpTlhtd0JQVGpMbXE0YVBWcjZtcXhhL1NzcTFtcllXczFKbkhyYTZoR05QKzhkNmp0TkxuM1JQVW9hV3EyNXJVclpsbXJidWhHTlhZeWQrempkTE55ZGl5bkJkNmJrTUhaRmNtSVZNYlJSVm1ZMVphVjFjcExGcGFaMW9uTFZaWFhGZzBZd2taWTBKa0pWSk5YUnQ4WVJFSUZ3cDJZeDhaR2swdkxGWWJBaGxrY3dFREN3bGtiUk1iWFU4akwwY2JBaGxrRVdOdzFMckhyYm1BMDV6bWFkK1p2TlhkMWRpQXZCQmtiUk1iWFU4akwwZG1YVmNoWXdrWkdta1dDQk1SZFZZTGFCTVpFSDBqSWhvYkZCbGtKMXhMWFZvbk1rY2JBaGxrY1IwTEhSdHFZUkZKU2x3d0tGeE1TeHQ4WVJFSkZndGpZeDhaR2xBck1WeExURmdvSWxZYkFobGtLVnBlVUJ0cVlSRmRYVW9sTTFwSlRGQXBMeEVER0JzV0VYclZ1N2lxeTRyU25abHVyWk85MUtMU3FvcTlFZFhid1JQVm1LV3E0SVBWcjd5cTg0ZlRpTGxtckwrcDA1N2lyS2FoMDdQU1lkKzZ1ZFRVeWQra29CbXM4YlBUaXBCbXFvQzUwN2JmcmE2OUdOWCs0TitacmRUVDJkaXpyQm1xNXJQVXFhV3Q0SzhWR05McCtkbU1sUm10eEl2U3Q2Q3Q5N01aRlJtdHhJdlN0NkNyeDRiVGk3MnM5SjdWcjZtcXhhOFowNG5hcktLbDFhemFxcmlkRmhtcTNJZlNzcTFtcmJXMTA0RENyYTJwR05QMndkbUxrUm1xM0l2VXJMV3Q0YnZWcFkycXhLdlZwYUZtclpDRjFLUFNZZCs5bU5UUXlCUFZuN21yMEsvU21hVnFZZCtadk5YMDlSUFZwWUdyMWIvU21MR3EzSWZWdmFHcTNLc1owN1hHcW9XNTA0L0NyYTY5R05YMjZkK2V1TlRUM2RpeW5CZG1yYXV4MUxySHFvQ04wN0xpWWRpL3F0WGJ3UlBTaUtXcjBLL1ZnYUd0eTZjWmJXb0NyYTZoR05QMndkK0FvTlhSMFJQVGdMU3E0YWJWbUxpcTNJc1oxS0hIcktXYzFLVENZZGlXZ05YLzJkaVFpQm1xMmJ2VnU3aXQ4b2ZTczUxbXFyR1gxS1RHWWRpSnBOVFgzZCtBb05MTTFSTnNhMzJxM0tzWjBvbkdyWXFoMUs3V1lkaVB1TlhtMU4rWnVkWGI5ZGl5bkJkbXJhNk5HTkxMOGQra2pOVEM4ZGl6ckJtcng0YlRpNzFtcTRHSjBvcjZxcGFGR05UQTlONnNqQmtURW5mVnBhRm1xb1c1MUxySHE0Q0ZHTlRUMmRpa2hkWGJ4UlBWb0xHcStaTFVyYUd0eTZjWjA3VDJZZGkydk5YZHdkK2tqQm10MGEvU3M1MW9ZMDRWR0VKa0pWSk5YUnQ4WVJFSUZ3cDJZeDhaR2swdkxGWWJBaGxrY3dBRERBeGtiUk1iWFU4akwwY2JBaGxrcmJpbDFJRHlxNENaMUs3MnJhNjVHR2tMQ0JFVkdCc2pOMVpYVEdZakwxUWJBaGxrQWx0UVcxZ2hMaE5wZFhCbVlSdHpXVmR2WXg4WkdsOHBNMVphV1VveVl3a1pHZzExYndZYkZCbGtNVUZjVGxBcE5FQWJBaGxrZFFBWERSdHFZUkZRVlVrcE0wZFlWbG9qWXdrWkdsRXZKbHNiRkJsa0pWWktXMHN2TVVkUVYxZGtleE1iMUxMYXJZcU4wb3JtcmFTSjFLVEdZV04wY2RMTTFSTndhM1JyQWx0UVcxZ2hMaDhaY1ZjbHJhU3BHTlhiMmQ2c2pCbXQ4YS9VcWFXdDBhdlNrWWxtcmJpbDFJRHlxNENaR05YaHdkK3VsZFhiMlJQVm1LV3E0SVBWcjd4bXFvVzUwNVgrcmE2aEdOUDAvTitacEJtczhJZlRpS3lxM0xjWjBvdjJyWk9zMWF6YXFyaWRGaG10OGEvVXFhV3ErS3ZUaUxsbWRBTVoxS1R5cmJDNDFLVHlxcHFOR05YbTNkK1lpTlhSeEJQU2pyMnExSS9UaUxsbXJLcXMxS2ZqcXFPaDBvcm1ZZCtuc05YYnpkK2t2QlZtZEFNWjA1YitxcFMxMUtUeXFwcU5HTlh3MU4rL3ROTFcyZG1LbUJtcTM3dlZwYldxM0xjWjA3dmVyTEM1MDd2K3FyaWRGaG1xeXEvVmdZMnM4cE1aYUhRUHFybXRHSEFWREJQVm1LV3E0SVBWcjd4bUVYNXcwNXo2WWQraHNOWCs0TjZzb05MTTFkaTBpQm1xM0kvU2pybG1xcnk5MUtMR3JhNk5HTkxXNFJQVnNLRm1yYTJ4MDdMaWJ4UFRnSW10emJQU2k0MnR5cGNaMDcvVXJhNjVHTkwyM2Q2b3BOWC8yZGl6ckJrVEVuZlZwYUZtcTRPNTFJRGVyYVNwR05QK3pOK1pyZFhtd04ra2pOTHY4UlBUZ0ltdHpiUFNpNDJ0eXBjWjA3dm9yYTY1R05MMjNkNm9wTlgvMmRpenJCbXQ5N1BWbUt5cTRiTFZwWTJ0eXBjWEdrUWJiUk1iWGt3eU5FRmNTMllpSUVkWUdnTm1PaEZWVjFjaEhrQlJWMHN5SGtGWVRGQXBZd2taVmt3cUxSOFpHbDh6TDFkUVZsNFpNMUpOWFJ0OFlWMU1WRlZxWVJGV1NGd29IbHBYVEZ3MEpFQk5HZ05tTDBaVlZCVm1ZMVZNVmwwdkwxUm1TbGd5SkVBYkFoa2RIRTVFIjsKCmxldCBkZWNyeXB0ZWREYXRhID0gbnVsbDsKbGV0IGN1cnJlbnRDaGFydCA9IG51bGw7CgpmdW5jdGlvbiBkZWNyeXB0KGVuY3J5cHRlZCwgcGFzc3dvcmQpIHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgYmluYXJ5U3RyID0gYXRvYihlbmNyeXB0ZWQpOwogICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5U3RyLmxlbmd0aCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHIuY2hhckNvZGVBdChpKTsKICAgICAgICB9CiAgICAgICAgY29uc3Qga2V5Qnl0ZXMgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGtleUJ5dGVzLnB1c2gocGFzc3dvcmQuY2hhckNvZGVBdChpICUgcGFzc3dvcmQubGVuZ3RoKSk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGRlY3J5cHRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMubGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGRlY3J5cHRlZEJ5dGVzW2ldID0gYnl0ZXNbaV0gXiBrZXlCeXRlc1tpXTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTsKICAgICAgICBjb25zdCBqc29uU3RyID0gZGVjb2Rlci5kZWNvZGUoZGVjcnlwdGVkQnl0ZXMpOwogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpmdW5jdGlvbiBhdHRlbXB0TG9naW4oKSB7CiAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZElucHV0JykudmFsdWUudG9VcHBlckNhc2UoKTsKICAgIGNvbnN0IGVycm9yRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5FcnJvcicpOwogICAgCiAgICBpZiAoIXBhc3N3b3JkKSB7CiAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9ICfslZTtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqUJzsKICAgICAgICBlcnJvckVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgY29uc3QgZGF0YSA9IGRlY3J5cHQoRU5DUllQVEVEX0RBVEEsIHBhc3N3b3JkKTsKICAgIAogICAgaWYgKGRhdGEgJiYgZGF0YS5jcnlwdG8pIHsKICAgICAgICBkZWNyeXB0ZWREYXRhID0gZGF0YTsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdkYXNoYm9hcmRBdXRoJywgcGFzc3dvcmQpOwogICAgICAgIHNob3dEYXNoYm9hcmQoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9ICfslZTtmLjqsIAg7Jis67CU66W07KeAIOyViuyKteuLiOuLpCc7CiAgICAgICAgZXJyb3JFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRJbnB1dCcpLnZhbHVlID0gJyc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkSW5wdXQnKS5mb2N1cygpOwogICAgfQp9CgpmdW5jdGlvbiBjaGVja1NhdmVkQXV0aCgpIHsKICAgIGNvbnN0IHNhdmVkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZGFzaGJvYXJkQXV0aCcpOwogICAgaWYgKHNhdmVkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IGRlY3J5cHQoRU5DUllQVEVEX0RBVEEsIHNhdmVkKTsKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNyeXB0bykgewogICAgICAgICAgICBkZWNyeXB0ZWREYXRhID0gZGF0YTsKICAgICAgICAgICAgc2hvd0Rhc2hib2FyZCgpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGxvZ291dCgpIHsKICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2Rhc2hib2FyZEF1dGgnKTsKICAgIGRlY3J5cHRlZERhdGEgPSBudWxsOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwp9CgpmdW5jdGlvbiBzaG93RGFzaGJvYXJkKCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlbmRlckFsbCgpOwp9CgpmdW5jdGlvbiB0b2dnbGVUaGVtZSgpIHsKICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5OwogICAgY29uc3QgY3VycmVudFRoZW1lID0gYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKTsKICAgIGlmIChjdXJyZW50VGhlbWUgPT09ICdsaWdodCcpIHsKICAgICAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10aGVtZScpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsICdkYXJrJyk7CiAgICB9IGVsc2UgewogICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgJ2xpZ2h0Jyk7CiAgICB9CiAgICBpZiAoY3VycmVudENoYXJ0KSB1cGRhdGVDaGFydENvbG9ycygpOwp9CgpmdW5jdGlvbiBsb2FkVGhlbWUoKSB7CiAgICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpIHx8ICdkYXJrJzsKICAgIGlmIChzYXZlZCA9PT0gJ2xpZ2h0JykgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnbGlnaHQnKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2hhcnRDb2xvcnMoKSB7CiAgICBjb25zdCBpc0xpZ2h0ID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKSA9PT0gJ2xpZ2h0JzsKICAgIGNvbnN0IHRleHRDb2xvciA9IGlzTGlnaHQgPyAnIzFhMWEyZScgOiAnI2ZmZic7CiAgICBjb25zdCBncmlkQ29sb3IgPSBpc0xpZ2h0ID8gJ3JnYmEoMCwwLDAsMC4xKScgOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEpJzsKICAgIGlmIChjdXJyZW50Q2hhcnQpIHsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueC50aWNrcy5jb2xvciA9IHRleHRDb2xvcjsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueS50aWNrcy5jb2xvciA9IHRleHRDb2xvcjsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueC5ncmlkLmNvbG9yID0gZ3JpZENvbG9yOwogICAgICAgIGN1cnJlbnRDaGFydC5vcHRpb25zLnNjYWxlcy55LmdyaWQuY29sb3IgPSBncmlkQ29sb3I7CiAgICAgICAgY3VycmVudENoYXJ0LnVwZGF0ZSgpOwogICAgfQp9CgpmdW5jdGlvbiB0b2dnbGVTZWN0aW9uKGlkKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LnRvZ2dsZSgnY29sbGFwc2VkJyk7Cn0KCmZ1bmN0aW9uIHJlbmRlckFsbCgpIHsKICAgIGlmICghZGVjcnlwdGVkRGF0YSkgcmV0dXJuOwogICAgcmVuZGVyQ2FsZW5kYXIoKTsKICAgIHJlbmRlckZ1dHVyZXMoKTsKICAgIHJlbmRlckNoYXJ0VGFicygpOwogICAgcmVuZGVyQ3J5cHRvKCk7CiAgICByZW5kZXJJbmRpY2VzKCk7CiAgICByZW5kZXJGZWFyR3JlZWQoKTsKICAgIHJlbmRlckFuYWx5c2lzKCk7Cn0KCmNvbnN0IGluZGljYXRvckluZm8gPSB7CiAgICAnUFBJJzogewogICAgICAgIGRlc2M6ICfsg53sgrDsnpDrrLzqsIDsp4DsiJgoUFBJKeuKlCDsg53sgrDsnpDqsIAg7YyQ66ek7ZWY64qUIOyDge2SiOqzvCDshJzruYTsiqTsnZgg6rCA6rKpIOuzgOuPmeydhCDsuKHsoJXtlanri4jri6QuJywKICAgICAgICB3aHk6ICfsl7DspIAoRmVkKeydmCDquIjrpqwg6rKw7KCV7JeQIOyngeygkeyggSDsmIHtlqXsnYQg66+47LmY66mwLCDquLDsl4Ug7IiY7J217ISx6rO8IO2Wpe2bhCDshozruYTsnpDrrLzqsIAg67Cp7Zal7J2EIOyYiOy4oe2VmOuKlCDtlbXsi6wg7KeA7ZGc7J6F64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+uLrOufrCDqsJXshLgsIOq4iOumrCDsnbjsg4Eg6riw64yA6rCQIOyDgeyKuSwg7KO87Iud7Iuc7J6lIOuLqOq4sCDtlZjrnb0g6rCA64qlLCDtgazrpr3thqAg7JW97IS4JywKICAgICAgICBiZWFyaXNoOiAn64us65+sIOyVveyEuCwg6riI66asIOyduO2VmCDquLDrjIDqsJAg7IOB7Iq5LCDso7zsi53si5zsnqUg7Zi47J6sLCDtgazrpr3thqAg6rCV7IS4JwogICAgfSwKICAgICdQTUknOiB7CiAgICAgICAgZGVzYzogJ+q1rOunpOq0gOumrOyekOyngOyImChQTUkp64qUIOygnOyhsOyXhS/shJzruYTsiqTsl4XsnZgg6rK96riwIOyDge2ZqeydhCDrgpjtg4DrgrTripQg7ISg7ZaJ7KeA7ZGc7J6F64uI64ukLiA1MCDsnbTsg4HsnbTrqbQg6rK96riwIO2ZleyepSwgNTAg66+466eM7J2066m0IOqyveq4sCDsiJjstpXsnYQg7J2Y66+47ZWp64uI64ukLicsCiAgICAgICAgd2h5OiAn6rK96riwIO2dkOumhOydhCDqsIDsnqUg67mg66W06rKMIOuwmOyYge2VmOuKlCDsp4DtkZzroZwsIEdEUCDshLHsnqXrpaDsnYQg7JiI7Lih7ZWY64qUIOuNsCDtlbXsi6zsoIHsnbgg7Jet7ZWg7J2EIO2VqeuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfqsr3soJwg7ISx7J6lIOq4sOuMgCwg7JyE7ZeY7J6Q7IKwIOyEoO2YuCwg7KO87IudL+2BrOumve2GoCDqsJXshLgnLAogICAgICAgIGJlYXJpc2g6ICfqsr3quLAg7Lmo7LK0IOyasOugpCwg7JWI7KCE7J6Q7IKwIOyEoO2YuCwg64us65+sL+q4iC/ssYTqtowg6rCV7IS4JwogICAgfSwKICAgICdDUEknOiB7CiAgICAgICAgZGVzYzogJ+yGjOu5hOyekOusvOqwgOyngOyImChDUEkp64qUIOqwgOqzhOqwgCDqtazrp6TtlZjripQg7IOB7ZKI6rO8IOyEnOu5hOyKpOydmCDqsIDqsqkg67OA64+Z7J2EIOy4oeygle2VqeuLiOuLpC4nLAogICAgICAgIHdoeTogJ+yXsOykgOydmCDthrXtmZTsoJXssYUg6rKw7KCV7JeQIOqwgOyepSDspJHsmpTtlZwg7KeA7ZGc7J2066mwLCDquIjrpqzsmYAg66qo65OgIOyekOyCsCDqsIDqsqnsl5Ag7KeB7KCR7KCBIOyYge2WpeydhCDrr7jsuanri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn6riI66asIOyduOyDgSDihpIg64us65+sIOqwleyEuCwg7KO87IudL+2BrOumve2GoCDslb3shLgnLAogICAgICAgIGJlYXJpc2g6ICfquIjrpqwg7J247ZWYIOq4sOuMgCDihpIg64us65+sIOyVveyEuCwg7KO87IudL+2BrOumve2GoCDqsJXshLgnCiAgICB9LAogICAgJ+qzoOyaqSc6IHsKICAgICAgICBkZXNjOiAn67mE64aN7JeFIOqzoOyaqeyngO2RnChORlAp64qUIOuvuOq1rSDrhbjrj5nsi5zsnqXsnZgg6rG06rCVIOyDge2DnOulvCDrgpjtg4Drg4Xri4jri6QuJywKICAgICAgICB3aHk6ICfsl7DspIDsnZgg65GQIOqwgOyngCDrqqntkZwg7KSRIO2VmOuCmOyduCDsmYTsoITqs6DsmqnsnYQg7KeB7KCRIOy4oeygle2VmOuKlCDsp4DtkZzsnoXri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn6rK97KCcIOqwleyEuCDsi6DtmLgsIOq4iOumrCDsnbjsg4Eg6rCA64ql7ISxLCDri6zrn6wg6rCV7IS4JywKICAgICAgICBiZWFyaXNoOiAn6rK96riwIOuRlO2ZlCDsmrDroKQsIOq4iOumrCDsnbjtlZgg6riw64yALCDsnITtl5jsnpDsgrAg7JW97IS4JwogICAgfSwKICAgICdGT01DJzogewogICAgICAgIGRlc2M6ICdGT01D64qUIOuvuOq1reydmCDquLDspIDquIjrpqzsmYAg7Ya17ZmU7KCV7LGF7J2EIOqysOygle2VmOuKlCDsl7DspIDsnZgg7ZW17IusIOydmOyCrOqysOyglSDquLDqtazsnoXri4jri6QuJywKICAgICAgICB3aHk6ICfsoIQg7IS46rOEIOq4iOycteyLnOyepeydmCDrsKntlqXsnYQg6rKw7KCV7KeT64qUIOqwgOyepSDspJHsmpTtlZwg7J2067Kk7Yq47J6F64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+q4iOumrCDsnbjsg4Ev66ek7YyM7KCBIOuwnOyWuCDihpIg64us65+sIOqwleyEuCwg7KO87IudL+2BrOumve2GoCDslb3shLgnLAogICAgICAgIGJlYXJpc2g6ICfquIjrpqwg7J247ZWYL+u5hOuRmOq4sO2MjOyggSDrsJzslrgg4oaSIOuLrOufrCDslb3shLgsIOyjvOyLnS/tgazrpr3thqAg6rCV7IS4JwogICAgfQp9OwoKZnVuY3Rpb24gZ2V0SW5kaWNhdG9ySW5mbyhuYW1lKSB7CiAgICBmb3IgKGNvbnN0IGt3IG9mIE9iamVjdC5rZXlzKGluZGljYXRvckluZm8pKSB7CiAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoa3cpKSByZXR1cm4gaW5kaWNhdG9ySW5mb1trd107CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIGRlc2M6ICfsnbQg7KeA7ZGc64qUIOuvuOq1rSDqsr3soJzsnZgg7Yq57KCVIOu2gOusuOydhCDsuKHsoJXtlZjripQg7KSR7JqU7ZWcIOqyveygnCDrjbDsnbTthLDsnoXri4jri6QuJywKICAgICAgICB3aHk6ICfsi5zsnqUg7LC47Jes7J6Q65Ok7J20IOyjvOuqqe2VmOuKlCDtlbXsi6wg7KeA7ZGc66GcLCDsl7DspIDsnZgg7Ya17ZmU7KCV7LGF6rO8IOyekOyCsCDqsIDqsqnsl5Ag7JiB7Zal7J2EIOuvuOy5qeuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfsmIjsg4Hrs7Tri6Qg6rCV7ZWcIOyImOy5mCDihpIg6rK97KCcIOuCmeq0gOuhoCcsCiAgICAgICAgYmVhcmlzaDogJ+yYiOyDgeuztOuLpCDslb3tlZwg7IiY7LmYIOKGkiDqsr3soJwg67mE6rSA66GgJwogICAgfTsKfQoKZnVuY3Rpb24gb3BlbkNhbGVuZGFyTW9kYWwoaWR4KSB7CiAgICBjb25zdCBpdGVtID0gZGVjcnlwdGVkRGF0YS5lY29ub21pY19jYWxlbmRhcltpZHhdOwogICAgaWYgKCFpdGVtKSByZXR1cm47CiAgICBjb25zdCBpbmZvID0gZ2V0SW5kaWNhdG9ySW5mbyhpdGVtLmV2ZW50KTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRpdGxlJykudGV4dENvbnRlbnQgPSAn4q2Q4q2Q4q2QICcgKyBpdGVtLmV2ZW50OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsVGltZScpLnRleHRDb250ZW50ID0gaXRlbS5kYXRlICsgJyAnICsgaXRlbS50aW1lOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRm9yZWNhc3QnKS50ZXh0Q29udGVudCA9IGl0ZW0uZm9yZWNhc3QgfHwgJy0nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsUHJldmlvdXMnKS50ZXh0Q29udGVudCA9IGl0ZW0ucHJldmlvdXMgfHwgJy0nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRGVzYycpLnRleHRDb250ZW50ID0gaXRlbS5kZXNjcmlwdGlvbiB8fCBpbmZvLmRlc2M7CiAgICBsZXQgaW50ZXJwcmV0ID0gJyc7CiAgICBpZiAoaXRlbS5mb3JlY2FzdCAmJiBpdGVtLmZvcmVjYXN0ICE9PSAnLScgJiYgaXRlbS5wcmV2aW91cyAmJiBpdGVtLnByZXZpb3VzICE9PSAnLScpIHsKICAgICAgICBjb25zdCBmID0gcGFyc2VGbG9hdChpdGVtLmZvcmVjYXN0LnJlcGxhY2UoL1teMC05Li1dL2csICcnKSk7CiAgICAgICAgY29uc3QgcCA9IHBhcnNlRmxvYXQoaXRlbS5wcmV2aW91cy5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJykpOwogICAgICAgIGlmICghaXNOYU4oZikgJiYgIWlzTmFOKHApKSB7CiAgICAgICAgICAgIGludGVycHJldCA9IGYgPiBwID8gJ+yYiOy4oey5mOqwgCDsnbTsoITsuZjrs7Tri6Qg64aS7Iq164uI64ukLicgOiBmIDwgcCA/ICfsmIjsuKHsuZjqsIAg7J207KCE7LmY67O064ukIOuCruyKteuLiOuLpC4nIDogJ+yYiOy4oey5mOqwgCDsnbTsoITsuZjsmYAg64+Z7J287ZWp64uI64ukLic7CiAgICAgICAgfQogICAgfQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsSW50ZXJwcmV0JykudGV4dENvbnRlbnQgPSBpbnRlcnByZXQgfHwgJ+uNsOydtO2EsCDtmZXsnbgg7KSRJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJ1bGxpc2gnKS50ZXh0Q29udGVudCA9IGluZm8uYnVsbGlzaDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJlYXJpc2gnKS50ZXh0Q29udGVudCA9IGluZm8uYmVhcmlzaDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFdoeScpLnRleHRDb250ZW50ID0gaW5mby53aHk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJNb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwp9CgpmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKfQoKZnVuY3Rpb24gcmVuZGVyQ2FsZW5kYXIoKSB7CiAgICBjb25zdCBjYWwgPSBkZWNyeXB0ZWREYXRhLmVjb25vbWljX2NhbGVuZGFyIHx8IFtdOwogICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJCb2R5Jyk7CiAgICBpZiAoIWNhbC5sZW5ndGgpIHsKICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoycmVtOyI+7JiI7KCV65CcIOqyveygnOyngO2RnOqwgCDsl4bsirXri4jri6Q8L3RkPjwvdHI+JzsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgY29uc3Qga3N0ID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDkqNjAqNjAwMDApOwogICAgY29uc3QgdG9kYXlTdHIgPSAoa3N0LmdldE1vbnRoKCkrMSkgKyAnLycgKyBrc3QuZ2V0RGF0ZSgpOwogICAgdGJvZHkuaW5uZXJIVE1MID0gY2FsLm1hcCgoaXRlbSwgaWR4KSA9PiB7CiAgICAgICAgY29uc3QgaW1wID0gaXRlbS5pbXBvcnRhbmNlID09PSAnaGlnaCcgPyAn4q2Q4q2Q4q2QJyA6ICfirZDirZAnOwogICAgICAgIGNvbnN0IGlzTmV4dCA9IGl0ZW0uZGF0ZSAhPT0gdG9kYXlTdHI7CiAgICAgICAgY29uc3QgYmcgPSBpc05leHQgPyAnYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpOycgOiAnJzsKICAgICAgICByZXR1cm4gJzx0ciBzdHlsZT0iJytiZysnIiBvbmNsaWNrPSJvcGVuQ2FsZW5kYXJNb2RhbCgnK2lkeCsnKSI+PHRkPicraXRlbS5kYXRlKyc8L3RkPjx0ZCBjbGFzcz0iZXZlbnQtdGltZSI+JytpdGVtLnRpbWUrJzwvdGQ+PHRkPicraXRlbS5ldmVudCsnPC90ZD48dGQ+JysoaXRlbS5mb3JlY2FzdHx8Jy0nKSsnPC90ZD48dGQ+JysoaXRlbS5wcmV2aW91c3x8Jy0nKSsnPC90ZD48dGQgc3R5bGU9ImNvbG9yOnZhcigtLXllbGxvdykiPicraW1wKyc8L3RkPjwvdHI+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiByZW5kZXJGdXR1cmVzKCkgewogICAgY29uc3QgZiA9IGRlY3J5cHRlZERhdGEuZnV0dXJlc19kYXRhIHx8IHt9OwogICAgaWYgKGYubG9uZ19zaG9ydF9yYXRpbykgewogICAgICAgIGNvbnN0IGxzID0gZi5sb25nX3Nob3J0X3JhdGlvOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsc1JhdGlvJykudGV4dENvbnRlbnQgPSBscy5yYXRpby50b0ZpeGVkKDIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsc0RldGFpbCcpLnRleHRDb250ZW50ID0gJ+uhsSAnK2xzLmxvbmcudG9GaXhlZCgxKSsnJSAvIOyIjyAnK2xzLnNob3J0LnRvRml4ZWQoMSkrJyUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb25nQmFyJykuc3R5bGUud2lkdGggPSBscy5sb25nKyclJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9uZ0JhcicpLnRleHRDb250ZW50ID0gJ+uhsSAnK2xzLmxvbmcudG9GaXhlZCgxKSsnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0QmFyJykuc3R5bGUud2lkdGggPSBscy5zaG9ydCsnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0QmFyJykudGV4dENvbnRlbnQgPSAn7IiPICcrbHMuc2hvcnQudG9GaXhlZCgxKSsnJSc7CiAgICB9CiAgICBpZiAoZi5mdW5kaW5nX3JhdGUgIT09IG51bGwgJiYgZi5mdW5kaW5nX3JhdGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IGZyID0gZi5mdW5kaW5nX3JhdGU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdSYXRlJykudGV4dENvbnRlbnQgPSAoZnI+PTA/JysnOicnKStmci50b0ZpeGVkKDQpKyclJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ1JhdGUnKS5zdHlsZS5jb2xvciA9IGZyPj0wPyd2YXIoLS1ncmVlbiknOid2YXIoLS1yZWQpJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ0Rlc2MnKS50ZXh0Q29udGVudCA9IGZyPj0wPyfrobHsnbQg7IiP7JeQ6rKMIOyngOu2iCc6J+yIj+ydtCDrobHsl5Dqsowg7KeA67aIJzsKICAgIH0KICAgIGlmIChmLm9wZW5faW50ZXJlc3QpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlbkludGVyZXN0JykudGV4dENvbnRlbnQgPSBmLm9wZW5faW50ZXJlc3QudG9Mb2NhbGVTdHJpbmcoKSsnIEJUQyc7CiAgICB9CiAgICBpZiAoZi5mdW5kaW5nX3JhdGVzICYmIGYuZnVuZGluZ19yYXRlcy5sZW5ndGgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ1RhYmxlJykuaW5uZXJIVE1MID0gJzx0cj4nK2YuZnVuZGluZ19yYXRlcy5tYXAoeCA9PiB7CiAgICAgICAgICAgIGNvbnN0IGMgPSB4LnJhdGU+PTA/J3ZhcigtLWdyZWVuKSc6J3ZhcigtLXJlZCknOwogICAgICAgICAgICByZXR1cm4gJzx0ZD48ZGl2IGNsYXNzPSJzeW1ib2wiPicreC5zeW1ib2wrJzwvZGl2PjxkaXYgc3R5bGU9ImNvbG9yOicrYysnIj4nKyh4LnJhdGU+PTA/JysnOicnKSt4LnJhdGUudG9GaXhlZCg0KSsnJTwvZGl2PjwvdGQ+JzsKICAgICAgICB9KS5qb2luKCcnKSsnPC90cj4nOwogICAgfQp9Cgpjb25zdCB0dlN5bWJvbHMgPSB7CiAgICBuYXNkYXE6IHsgc3ltYm9sOiAnRk9SRVhDT006TlNYVVNEJywgbmFtZTogJ+uCmOyKpOuLpTEwMCcgfSwKICAgIGdvbGQ6IHsgc3ltYm9sOiAnT0FOREE6WEFVVVNEJywgbmFtZTogJ+qzqOuTnCcgfSwKICAgIGJ0YzogeyBzeW1ib2w6ICdCSU5BTkNFOkJUQ1VTRFQnLCBuYW1lOiAn67mE7Yq47L2U7J24JyB9LAogICAga29zcGk6IHsgc3ltYm9sOiAnVFZDOktPU1BJJywgbmFtZTogJ+y9lOyKpO2UvCcgfQp9OwoKbGV0IGN1cnJlbnRUdkNoYXJ0ID0gJ25hc2RhcSc7CgpmdW5jdGlvbiBzd2l0Y2hDaGFydChjaGFydElkKSB7CiAgICBjdXJyZW50VHZDaGFydCA9IGNoYXJ0SWQ7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcnQtdGFiJykuZm9yRWFjaCh0ID0+IHQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgbG9hZFRyYWRpbmdWaWV3Q2hhcnQoY2hhcnRJZCk7Cn0KCmZ1bmN0aW9uIGxvYWRUcmFkaW5nVmlld0NoYXJ0KGNoYXJ0SWQpIHsKICAgIGNvbnN0IGluZm8gPSB0dlN5bWJvbHNbY2hhcnRJZF07CiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHZDaGFydENvbnRhaW5lcicpOwogICAgY29uc3QgaXNMaWdodCA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJykgPT09ICdsaWdodCc7CiAgICBjb25zdCB0aGVtZSA9IGlzTGlnaHQgPyAnbGlnaHQnIDogJ2RhcmsnOwogICAgCiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgaWQ9InRyYWRpbmd2aWV3X2NoYXJ0Ij48L2Rpdj4nOwogICAgCiAgICBuZXcgVHJhZGluZ1ZpZXcud2lkZ2V0KHsKICAgICAgICAid2lkdGgiOiAiMTAwJSIsCiAgICAgICAgImhlaWdodCI6IDQwMCwKICAgICAgICAic3ltYm9sIjogaW5mby5zeW1ib2wsCiAgICAgICAgImludGVydmFsIjogIjYwIiwKICAgICAgICAidGltZXpvbmUiOiAiQXNpYS9TZW91bCIsCiAgICAgICAgInRoZW1lIjogdGhlbWUsCiAgICAgICAgInN0eWxlIjogIjEiLAogICAgICAgICJsb2NhbGUiOiAia3IiLAogICAgICAgICJ0b29sYmFyX2JnIjogIiNmMWYzZjYiLAogICAgICAgICJlbmFibGVfcHVibGlzaGluZyI6IGZhbHNlLAogICAgICAgICJoaWRlX3RvcF90b29sYmFyIjogZmFsc2UsCiAgICAgICAgImhpZGVfbGVnZW5kIjogZmFsc2UsCiAgICAgICAgInNhdmVfaW1hZ2UiOiBmYWxzZSwKICAgICAgICAiY29udGFpbmVyX2lkIjogInRyYWRpbmd2aWV3X2NoYXJ0IiwKICAgICAgICAiaGlkZV92b2x1bWUiOiB0cnVlCiAgICB9KTsKfQoKZnVuY3Rpb24gcmVuZGVyQ2hhcnRUYWJzKCkgewogICAgbG9hZFRyYWRpbmdWaWV3Q2hhcnQoJ25hc2RhcScpOwp9CgpmdW5jdGlvbiByZW5kZXJDcnlwdG8oKSB7CiAgICBjb25zdCBjcnlwdG8gPSBkZWNyeXB0ZWREYXRhLmNyeXB0byB8fCBbXTsKICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3J5cHRvR3JpZCcpOwogICAgZ3JpZC5pbm5lckhUTUwgPSBjcnlwdG8ubWFwKGMgPT4gewogICAgICAgIGNvbnN0IGNscyA9IGMuY2hhbmdlID49IDAgPyAndXAnIDogJ2Rvd24nOwogICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iY3J5cHRvLWNhcmQgJytjbHMrJyI+PGRpdiBjbGFzcz0iY3J5cHRvLXN5bWJvbCI+JytjLnN5bWJvbCsnPC9kaXY+PGRpdiBjbGFzcz0iY3J5cHRvLW5hbWUiPicrYy5uYW1lKyc8L2Rpdj48ZGl2IGNsYXNzPSJjcnlwdG8tcHJpY2UiPiQnK2MucHJpY2UudG9Mb2NhbGVTdHJpbmcoKSsnPC9kaXY+PGRpdiBjbGFzcz0iY3J5cHRvLWNoYW5nZSI+JysoYy5jaGFuZ2U+PTA/JysnOicnKStjLmNoYW5nZS50b0ZpeGVkKDIpKyclPC9kaXY+PC9kaXY+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiByZW5kZXJJbmRpY2VzKCkgewogICAgY29uc3QgdXMgPSBkZWNyeXB0ZWREYXRhLnVzX2luZGljZXMgfHwgW107CiAgICBjb25zdCBrciA9IGRlY3J5cHRlZERhdGEua3JfaW5kaWNlcyB8fCBbXTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmRpY2VzVGFibGUnKS5pbm5lckhUTUwgPSB1cy5tYXAoaSA9PiB7CiAgICAgICAgY29uc3QgY2xzID0gaS5jaGFuZ2UgPj0gMCA/ICdwb3NpdGl2ZScgOiAnbmVnYXRpdmUnOwogICAgICAgIHJldHVybiAnPHRyPjx0ZD4nK2kubmFtZSsnPC90ZD48dGQ+JytpLnByaWNlLnRvTG9jYWxlU3RyaW5nKCkrJzwvdGQ+PHRkIGNsYXNzPSInK2NscysnIj4nKyhpLmNoYW5nZT49MD8nKyc6JycpK2kuY2hhbmdlLnRvRml4ZWQoMikrJyU8L3RkPjwvdHI+JzsKICAgIH0pLmpvaW4oJycpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tyVGFibGUnKS5pbm5lckhUTUwgPSBrci5tYXAoaSA9PiB7CiAgICAgICAgY29uc3QgY2xzID0gaS5jaGFuZ2UgPj0gMCA/ICdwb3NpdGl2ZScgOiAnbmVnYXRpdmUnOwogICAgICAgIHJldHVybiAnPHRyPjx0ZD4nK2kubmFtZSsnPC90ZD48dGQ+JytpLnByaWNlLnRvTG9jYWxlU3RyaW5nKCkrJzwvdGQ+PHRkIGNsYXNzPSInK2NscysnIj4nKyhpLmNoYW5nZT49MD8nKyc6JycpK2kuY2hhbmdlLnRvRml4ZWQoMikrJyU8L3RkPjwvdHI+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiByZW5kZXJGZWFyR3JlZWQoKSB7CiAgICBjb25zdCBmZyA9IGRlY3J5cHRlZERhdGEuZmVhcl9ncmVlZCB8fCB7dmFsdWU6IDUwfTsKICAgIGNvbnN0IHZhbCA9IGZnLnZhbHVlOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZnVmFsdWUnKS50ZXh0Q29udGVudCA9IHZhbDsKICAgIGNvbnN0IGxhYmVsID0gdmFsIDw9IDI1ID8gJ+q3ueuPhOydmCDqs7Xtj6wnIDogdmFsIDw9IDQ1ID8gJ+qzte2PrCcgOiB2YWwgPD0gNTUgPyAn7KSR66a9JyA6IHZhbCA8PSA3NSA/ICftg5DsmpUnIDogJ+q3ueuPhOydmCDtg5DsmpUnOwogICAgY29uc3QgY2xzID0gdmFsIDw9IDQ1ID8gJ2ZlYXInIDogdmFsIDw9IDU1ID8gJ25ldXRyYWwnIDogJ2dyZWVkJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0xhYmVsJykudGV4dENvbnRlbnQgPSBsYWJlbDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0xhYmVsJykuY2xhc3NOYW1lID0gJ2ZnLWxhYmVsICcgKyBjbHM7CiAgICAKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0dhdWdlJyk7CiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGNvbnN0IHNpemUgPSAxNDA7CiAgICBjYW52YXMud2lkdGggPSBzaXplOwogICAgY2FudmFzLmhlaWdodCA9IHNpemU7CiAgICBjb25zdCBjZW50ZXIgPSBzaXplIC8gMjsKICAgIGNvbnN0IHJhZGl1cyA9IDU1OwogICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzaXplLCBzaXplKTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMoY2VudGVyLCBjZW50ZXIsIHJhZGl1cywgMC43NSAqIE1hdGguUEksIDAuMjUgKiBNYXRoLlBJKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMmEyYTNhJzsKICAgIGN0eC5saW5lV2lkdGggPSAxMjsKICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJzsKICAgIGN0eC5zdHJva2UoKTsKICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIHNpemUsIDApOwogICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICcjZmY0NzU3Jyk7CiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC41LCAnI2ZmYTUwMicpOwogICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICcjMmVkNTczJyk7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBjb25zdCBlbmRBbmdsZSA9IDAuNzUgKiBNYXRoLlBJICsgKHZhbCAvIDEwMCkgKiAxLjUgKiBNYXRoLlBJOwogICAgY3R4LmFyYyhjZW50ZXIsIGNlbnRlciwgcmFkaXVzLCAwLjc1ICogTWF0aC5QSSwgZW5kQW5nbGUpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gZ3JhZGllbnQ7CiAgICBjdHgubGluZVdpZHRoID0gMTI7CiAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7CiAgICBjdHguc3Ryb2tlKCk7Cn0KCmZ1bmN0aW9uIHJlbmRlckFuYWx5c2lzKCkgewogICAgY29uc3QgYW5hbHlzaXMgPSBkZWNyeXB0ZWREYXRhLmFuYWx5c2lzIHx8IHt9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsb2JhbEFuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMuZ2xvYmFsX2FuYWx5c2lzIHx8ICc8cD7rtoTshJ0g642w7J207YSwIOyXhuydjDwvcD4nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWRpY3Rpb25BbmFseXNpcycpLmlubmVySFRNTCA9IGFuYWx5c2lzLnByZWRpY3Rpb25fYW5hbHlzaXMgfHwgJzxwPuu2hOyEnSDrjbDsnbTthLAg7JeG7J2MPC9wPic7Cn0KCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7CiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSBjbG9zZU1vZGFsKCk7CiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSBhdHRlbXB0TG9naW4oKTsKICAgIAogICAgLy8g6rCc67Cc7J6QIOuPhOq1rCDssKjri6gKICAgIGlmIChlLmtleSA9PT0gJ0YxMicpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KICAgIGlmIChlLmN0cmxLZXkgJiYgZS5zaGlmdEtleSAmJiAoZS5rZXkgPT09ICdJJyB8fCBlLmtleSA9PT0gJ2knKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IHJldHVybiBmYWxzZTsgfQogICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gJ0onIHx8IGUua2V5ID09PSAnaicpKSB7IGUucHJldmVudERlZmF1bHQoKTsgcmV0dXJuIGZhbHNlOyB9CiAgICBpZiAoZS5jdHJsS2V5ICYmIGUuc2hpZnRLZXkgJiYgKGUua2V5ID09PSAnQycgfHwgZS5rZXkgPT09ICdjJykpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KICAgIGlmIChlLmN0cmxLZXkgJiYgKGUua2V5ID09PSAnVScgfHwgZS5rZXkgPT09ICd1JykpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KfSk7CgovLyDsmKTrpbjsqr0g7YG066atIOywqOuLqApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybiBmYWxzZTsKfSk7CgovLyDthY3siqTtirgg7ISg7YOdIOywqOuLqApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfSk7CgovLyDrk5zrnpjqt7gg7LCo64uoCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybiBmYWxzZTsKfSk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJNb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzKSBjbG9zZU1vZGFsKCk7Cn0pOwoKbG9hZFRoZW1lKCk7CmlmICghY2hlY2tTYXZlZEF1dGgoKSkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKfQo="))))</script>
</body>
</html>