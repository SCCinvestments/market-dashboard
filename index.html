<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg-primary:#0a0a0f;--bg-secondary:#12121a;--bg-card:#1a1a25;--border:#2a2a3a;--text:#fff;--text-secondary:#8a8a9a;--red:#ff4757;--green:#2ed573;--blue:#3742fa;--yellow:#ffa502;--orange:#ff9f43}
[data-theme="light"]{--bg-primary:#f5f5f7;--bg-secondary:#ffffff;--bg-card:#ffffff;--border:#e0e0e0;--text:#1a1a2e;--text-secondary:#6b6b80}
[data-theme="light"] .section{box-shadow:0 2px 12px rgba(0,0,0,0.08)}
[data-theme="light"] .crypto-card{box-shadow:0 2px 8px rgba(0,0,0,0.06)}
[data-theme="light"] .modal{box-shadow:0 4px 24px rgba(0,0,0,0.15)}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg-primary);color:var(--text);line-height:1.6;transition:background 0.3s,color 0.3s}

/* Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ */
.login-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--bg-primary);display:none;justify-content:center;align-items:center;z-index:9999}
.login-box{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;padding:3rem;max-width:400px;width:90%;text-align:center}
.login-logo{font-size:3rem;margin-bottom:1rem}
.login-title{font-size:1.5rem;font-weight:700;margin-bottom:0.5rem}
.login-subtitle{color:var(--text-secondary);margin-bottom:2rem;font-size:0.9rem}
.login-input{width:100%;padding:1rem;font-size:1.1rem;background:var(--bg-secondary);border:2px solid var(--border);border-radius:12px;color:var(--text);text-align:center;letter-spacing:0.3rem;font-weight:700;margin-bottom:1rem}
.login-input:focus{outline:none;border-color:var(--blue)}
.login-input::placeholder{letter-spacing:normal;font-weight:400}
.login-btn{width:100%;padding:1rem;font-size:1rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;color:#fff;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(102,126,234,0.4)}
.login-error{color:var(--red);margin-top:1rem;font-size:0.9rem;display:none}

/* Ìó§Îçî */
.header{background:var(--bg-secondary);padding:1rem 2rem;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
.header-content{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
.header-left{display:flex;align-items:center;gap:1.5rem}
.logo{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.update-time{color:var(--text-secondary);font-size:0.85rem;display:flex;align-items:center;gap:0.5rem}
.live-dot{width:8px;height:8px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.header-right{display:flex;align-items:center;gap:1rem}
.theme-toggle{background:var(--bg-card);border:1px solid var(--border);border-radius:50px;padding:0.4rem;display:flex;align-items:center;gap:0.25rem;cursor:pointer}
.theme-toggle span{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:1.1rem;transition:all 0.3s}
.theme-toggle .sun{background:transparent}
.theme-toggle .moon{background:var(--blue);box-shadow:0 2px 8px rgba(55,66,250,0.4)}
[data-theme="light"] .theme-toggle .sun{background:var(--orange);box-shadow:0 2px 8px rgba(255,165,2,0.4)}
[data-theme="light"] .theme-toggle .moon{background:transparent;box-shadow:none}
.logout-btn{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1rem;color:var(--text-secondary);font-size:0.85rem;cursor:pointer;transition:all 0.2s}
.logout-btn:hover{border-color:var(--red);color:var(--red)}

/* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
.container{max-width:1400px;margin:0 auto;padding:2rem}
.section{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;margin-bottom:1.5rem;overflow:hidden}
.section-header{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;cursor:pointer;border-bottom:1px solid var(--border)}
.section-header:hover{background:rgba(255,255,255,0.02)}
.section-title{font-size:1.1rem;font-weight:700;display:flex;align-items:center;gap:0.75rem}
.section-title::before{content:'';width:4px;height:20px;background:var(--red);border-radius:2px}
.section-title.blue::before{background:var(--blue)}
.section-title.green::before{background:var(--green)}
.section-title.yellow::before{background:var(--yellow)}
.section-title.orange::before{background:var(--orange)}
.section-title.red::before{background:var(--red)}
.one-liner{background:linear-gradient(135deg,rgba(102,126,234,0.15),rgba(118,75,162,0.15));border:1px solid rgba(102,126,234,0.3);border-radius:12px;padding:1.25rem 1.5rem;margin-bottom:1.5rem;font-size:1.1rem;font-weight:600;text-align:center}
.futures-summary{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.toggle-btn{color:var(--text-secondary);font-size:0.85rem}
.section.collapsed .toggle-btn{transform:rotate(180deg)}
.section-content{padding:1.5rem}
.section.collapsed .section-content{display:none}

/* ÌÖåÏù¥Î∏î */
.table,.calendar-table{width:100%;border-collapse:collapse}
.table th,.table td,.calendar-table th,.calendar-table td{padding:0.75rem 1rem;text-align:left;border-bottom:1px solid var(--border)}
.table th,.calendar-table th{background:var(--bg-secondary);font-weight:600;font-size:0.85rem;color:var(--text-secondary)}
.calendar-table tbody tr{cursor:pointer;transition:all 0.2s}
.calendar-table tbody tr:hover{background:rgba(55,66,250,0.15);transform:scale(1.01)}
.event-time{color:var(--blue);font-weight:600}
.positive{color:var(--green)}
.negative{color:var(--red)}

/* ÏïîÌò∏ÌôîÌèê Ïπ¥Îìú */
.crypto-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}
.crypto-card{padding:1.25rem;border-radius:12px;text-align:center}
.crypto-card.up{background:linear-gradient(135deg,rgba(46,213,115,0.15),rgba(46,213,115,0.05));border:1px solid rgba(46,213,115,0.3)}
.crypto-card.down{background:linear-gradient(135deg,rgba(255,71,87,0.15),rgba(255,71,87,0.05));border:1px solid rgba(255,71,87,0.3)}
.crypto-symbol{font-size:1.25rem;font-weight:900}
.crypto-name{font-size:0.75rem;color:var(--text-secondary)}
.crypto-price{font-size:0.9rem;color:var(--text-secondary)}
.crypto-change{font-weight:700;font-size:1.1rem}
.crypto-card.up .crypto-change{color:var(--green)}
.crypto-card.down .crypto-change{color:var(--red)}

/* Í≥µÌè¨ÌÉêÏöï */
.fear-greed-container{display:flex;align-items:center;gap:2rem;background:var(--bg-secondary);padding:1.5rem;border-radius:12px;margin-top:1.5rem}
.fg-gauge{position:relative;width:140px;height:140px}
.fg-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;font-weight:900}
.fg-info h4{font-size:1.25rem;margin-bottom:0.5rem}
.fg-label{display:inline-block;padding:0.35rem 1rem;border-radius:20px;font-size:0.85rem;font-weight:600;margin-top:0.75rem}
.fg-label.fear{background:rgba(255,71,87,0.2);color:var(--red)}
.fg-label.neutral{background:rgba(138,138,154,0.2);color:var(--text-secondary)}
.fg-label.greed{background:rgba(255,165,2,0.2);color:var(--yellow)}

/* Ï∞®Ìä∏ */
.chart-tabs{display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap}
.chart-tab{padding:0.6rem 1.2rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;color:var(--text-secondary);font-size:0.9rem;font-weight:500;cursor:pointer}
.chart-tab:hover{border-color:var(--blue);color:var(--text)}
.chart-tab.active{background:var(--blue);border-color:var(--blue);color:#fff}
.chart-tab .change{font-size:0.75rem;margin-left:0.5rem}
.chart-tab .change.positive{color:var(--green)}
.chart-tab .change.negative{color:var(--red)}
.chart-tab.active .change{color:rgba(255,255,255,0.9)}
.chart-container{position:relative;height:350px;margin-bottom:1rem}
.tv-chart-container{position:relative;height:400px;margin-bottom:1rem;border-radius:8px;overflow:hidden}
.heatmap-container{position:relative;height:500px;margin-bottom:1.5rem;border-radius:8px;overflow:hidden}
.chart-select-table tbody tr{cursor:pointer;transition:all 0.2s}
.chart-select-table tbody tr:hover{background:rgba(55,66,250,0.15)}
.chart-select-table tbody tr.active{background:rgba(55,66,250,0.25);border-left:3px solid var(--blue)}

/* ÏÑ†Î¨º */
.futures-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
.futures-card{background:var(--bg-secondary);border-radius:12px;padding:1.25rem;text-align:center}
.futures-card h5{color:var(--text-secondary);font-size:0.8rem;margin-bottom:0.5rem}
.futures-card .value{font-size:1.5rem;font-weight:700}
.futures-card .sub{font-size:0.8rem;color:var(--text-secondary);margin-top:0.25rem}
.long-short-bar{display:flex;height:30px;border-radius:6px;overflow:hidden;margin:1rem 0}
.long-bar{background:linear-gradient(90deg,#2ed573,#7bed9f);display:flex;align-items:center;justify-content:center;color:#000;font-weight:600;font-size:0.8rem}
.short-bar{background:linear-gradient(90deg,#ff6b81,#ff4757);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:0.8rem}
.funding-table{width:100%;margin-top:1rem}
.funding-table td{padding:0.5rem;text-align:center;border-bottom:1px solid var(--border)}
.funding-table .symbol{font-weight:700}

/* Î∂ÑÏÑù */
.grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
.analysis-content{color:var(--text-secondary);font-size:0.95rem}
.analysis-content h3{color:var(--text);font-size:1rem;font-weight:700;margin:1.5rem 0 0.75rem;display:flex;align-items:center;gap:0.5rem}
.analysis-content h3:first-child{margin-top:0}
.analysis-content h3::before{content:'‚ñ∏';color:var(--blue)}
.analysis-content p{margin-bottom:1rem;line-height:1.8}

/* Î™®Îã¨ */
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1000;padding:1rem}
.modal-overlay.active{display:flex}
.modal{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto}
.modal-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.modal-header h3{font-size:1.1rem;font-weight:700;color:var(--yellow)}
.modal-close{background:none;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer}
.modal-body{padding:1.5rem}
.modal-section{margin-bottom:1.25rem}
.modal-section h4{font-size:0.9rem;color:var(--blue);margin-bottom:0.5rem;font-weight:600}
.modal-section p{color:var(--text-secondary);font-size:0.9rem;line-height:1.7}
.modal-meta{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem;padding:1rem;background:var(--bg-secondary);border-radius:8px}
.modal-meta-item{flex:1;min-width:80px}
.modal-meta-item span{display:block;font-size:0.75rem;color:var(--text-secondary)}
.modal-meta-item strong{font-size:1rem}
.scenario-box{padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;font-size:0.85rem}
.scenario-box.bullish{background:rgba(46,213,115,0.1);border-left:3px solid var(--green)}
.scenario-box.bearish{background:rgba(255,71,87,0.1);border-left:3px solid var(--red)}
.scenario-label{font-weight:600;margin-bottom:0.25rem}

.footer{text-align:center;padding:2rem;color:var(--text-secondary);font-size:0.85rem;border-top:1px solid var(--border);margin-top:2rem}

@media(max-width:768px){
.container{padding:1rem}
.header-content{justify-content:center;text-align:center}
.fear-greed-container{flex-direction:column;text-align:center}
.crypto-grid{grid-template-columns:repeat(2,1fr)}
.futures-grid{grid-template-columns:1fr}
.grid-2{grid-template-columns:1fr}
.login-box{padding:2rem}
}
</style>
</head>
<body>

<!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
<div class="login-screen" id="loginScreen">
<div class="login-box">
<div class="login-logo">üîê</div>
<h1 class="login-title">AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</h1>
<p class="login-subtitle">Ïú†Î£å ÌöåÏõê Ï†ÑÏö© ÏÑúÎπÑÏä§ÏûÖÎãàÎã§</p>
<input type="text" id="passwordInput" class="login-input" placeholder="Ïò§ÎäòÏùò ÏïîÌò∏ ÏûÖÎ†•" maxlength="6" autocomplete="off">
<button class="login-btn" onclick="attemptLogin()">Ï†ëÏÜçÌïòÍ∏∞</button>
<p class="login-error" id="loginError"></p>
</div>
</div>

<!-- ÎåÄÏãúÎ≥¥Îìú -->
<div id="dashboard" style="display:none;">
<header class="header">
<div class="header-content">
<div class="header-left">
<div class="logo">üöÄ AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</div>
<div class="update-time"><span class="live-dot"></span>Îç∞ÏùºÎ¶¨ Î¶¨Ìè¨Ìä∏ ¬∑ 2026ÎÖÑ 01Ïõî 31Ïùº 11:44 KST</div>
</div>
<div class="header-right">
<div class="theme-toggle" onclick="toggleTheme()" title="ÌÖåÎßà Î≥ÄÍ≤Ω">
<span class="sun">‚òÄÔ∏è</span>
<span class="moon">üåô</span>
</div>
</div>
</div>
</header>

<main class="container">

<!-- ÌïúÏ§Ñ ÏΩîÎ©òÌä∏ -->
<div class="one-liner" id="oneLiner">üìä ÏãúÏû• Î∂ÑÏÑùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</div>

<!-- Í∏ÄÎ°úÎ≤å ÏãúÏû• -->
<section class="section" id="chartSection">
<div class="section-header" onclick="toggleSection('chartSection')">
<h2 class="section-title">üìà Í∏ÄÎ°úÎ≤å ÏãúÏû•</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="tv-chart-container" id="tvChartContainer">
<div id="tradingview_chart"></div>
</div>
<table class="table chart-select-table">
<thead><tr><th>Ï¢ÖÎ™©</th><th>09:30 Í∏∞Ï§ÄÍ∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="indicesTable"></tbody>
</table>
</div>
</section>

<!-- ÎØ∏Íµ≠ Í≤ΩÏ†úÏßÄÌëú ÏùºÏ†ï -->
<section class="section" id="calendarSection">
<div class="section-header" onclick="toggleSection('calendarSection')">
<h2 class="section-title orange">üìÖ ÎØ∏Íµ≠ Í≤ΩÏ†úÏßÄÌëú ÏùºÏ†ï</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<table class="calendar-table">
<thead><tr><th>ÎÇ†Ïßú</th><th>ÏãúÍ∞Ñ(KST)</th><th>Ïù¥Î≤§Ìä∏</th><th>ÏòàÏ∏°</th><th>Ïù¥Ï†Ñ</th><th>Ï§ëÏöîÎèÑ</th></tr></thead>
<tbody id="calendarBody"></tbody>
</table>
</div>
</section>

<!-- ÎØ∏Íµ≠ Ï¶ùÏãú Î∂ÑÏÑù -->
<section class="section" id="usMarketSection">
<div class="section-header" onclick="toggleSection('usMarketSection')">
<h2 class="section-title blue">üá∫üá∏ ÎØ∏Íµ≠ Ï¶ùÏãú Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="heatmap-container" id="heatmapContainer">
<div id="tradingview_heatmap"></div>
</div>
<div class="analysis-content" id="usMarketAnalysis"></div>
</div>
</section>

<!-- ÏïîÌò∏ÌôîÌèê Î∂ÑÏÑù -->
<section class="section" id="cryptoSection">
<div class="section-header" onclick="toggleSection('cryptoSection')">
<h2 class="section-title yellow">ü™ô ÏïîÌò∏ÌôîÌèê Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="crypto-grid" id="cryptoGrid"></div>
<div class="fear-greed-container">
<div class="fg-gauge"><canvas id="fgGauge"></canvas><div class="fg-value" id="fgValue">50</div></div>
<div class="fg-info">
<h4>Í≥µÌè¨ & ÌÉêÏöï ÏßÄÏàò</h4>
<p>ÏãúÏû• Ïã¨Î¶¨Î•º ÎÇòÌÉÄÎÇ¥Îäî Ï¢ÖÌï© ÏßÄÌëú</p>
<span class="fg-label" id="fgLabel">Ï§ëÎ¶Ω</span>
</div>
</div>
<div class="futures-summary">
<div class="futures-grid">
<div class="futures-card"><h5>Î°±/Ïàè ÎπÑÏú®</h5><div class="value" id="lsRatio">-</div><div class="sub" id="lsDetail">-</div></div>
<div class="futures-card"><h5>ÌéÄÎî©ÎπÑ (8H)</h5><div class="value" id="fundingRate">-</div><div class="sub" id="fundingDesc">-</div></div>
<div class="futures-card"><h5>ÎØ∏Í≤∞Ï†úÏïΩÏ†ï</h5><div class="value" id="openInterest">-</div><div class="sub">Open Interest</div></div>
</div>
<div class="long-short-bar"><div class="long-bar" id="longBar" style="width:50%">Î°± 50%</div><div class="short-bar" id="shortBar" style="width:50%">Ïàè 50%</div></div>
<table class="funding-table" id="fundingTable"></table>
</div>
<div class="analysis-content" id="cryptoAnalysis" style="margin-top:1.5rem;"></div>
</div>
</section>

<!-- ÏõêÏûêÏû¨ Î∂ÑÏÑù -->
<section class="section" id="commoditiesSection">
<div class="section-header" onclick="toggleSection('commoditiesSection')">
<h2 class="section-title">ü•á ÏõêÏûêÏû¨ Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="analysis-content" id="commoditiesAnalysis"></div>
</div>
</section>

<!-- Íµ≠ÎÇ¥ Ï¶ùÏãú Î∂ÑÏÑù -->
<section class="section" id="krSection">
<div class="section-header" onclick="toggleSection('krSection')">
<h2 class="section-title green">üá∞üá∑ Íµ≠ÎÇ¥ Ï¶ùÏãú Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="heatmap-container" id="kospiHeatmapContainer">
<div class="tradingview-widget-container"><div class="tradingview-widget-container__widget"></div></div>
</div>
<table class="table" style="margin-bottom:1.5rem;">
<thead><tr><th>ÏßÄÏàò</th><th>09:30 Í∏∞Ï§ÄÍ∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="krTable"></tbody>
</table>
<div class="analysis-content" id="koreaMarketAnalysis"></div>
</div>
</section>

<!-- Ìà¨Ïûê Ï†ÑÎûµ -->
<section class="section" id="strategySection">
<div class="section-header" onclick="toggleSection('strategySection')">
<h2 class="section-title red">üí° Ìà¨Ïûê Ï†ÑÎûµ</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="analysis-content" id="strategyAnalysis"></div>
</div>
</section>

</main>

<footer class="footer">
<p>‚ö†Ô∏è Î≥∏ Ï†ïÎ≥¥Îäî Ìà¨Ïûê Í∂åÏú†Í∞Ä ÏïÑÎãàÎ©∞, Ìà¨Ïûê ÌåêÎã®Ïùò Ï±ÖÏûÑÏùÄ Î≥∏Ïù∏ÏóêÍ≤å ÏûàÏäµÎãàÎã§.</p>
<p style="margin-top:0.5rem">¬© 2026 AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú ¬∑ Powered by Claude AI</p>
</footer>
</div>

<!-- Î™®Îã¨ -->
<div class="modal-overlay" id="calendarModal">
<div class="modal">
<div class="modal-header">
<h3 id="modalTitle">‚≠ê‚≠ê‚≠ê Í≤ΩÏ†úÏßÄÌëú ÏÉÅÏÑ∏</h3>
<button class="modal-close" onclick="closeModal()">&times;</button>
</div>
<div class="modal-body">
<div class="modal-meta">
<div class="modal-meta-item"><span>ÏãúÍ∞Ñ(KST)</span><strong id="modalTime">-</strong></div>
<div class="modal-meta-item"><span>ÏòàÏ∏°</span><strong id="modalForecast">-</strong></div>
<div class="modal-meta-item"><span>Ïù¥Ï†Ñ</span><strong id="modalPrevious">-</strong></div>
</div>
<div class="modal-section"><h4>üìä ÏßÄÌëú ÏÑ§Î™Ö</h4><p id="modalDesc">-</p></div>
<div class="modal-section"><h4>üéØ ÏòàÏ∏°Ïπò Ìï¥ÏÑù</h4><p id="modalInterpret">-</p></div>
<div class="modal-section">
<h4>üìà ÏãúÎÇòÎ¶¨Ïò§ Î∂ÑÏÑù</h4>
<div class="scenario-box bullish"><div class="scenario-label">üü¢ ÏòàÏ∏°Ïπò ÏÉÅÌöå Ïãú</div><div id="modalBullish">-</div></div>
<div class="scenario-box bearish"><div class="scenario-label">üî¥ ÏòàÏ∏°Ïπò ÌïòÌöå Ïãú</div><div id="modalBearish">-</div></div>
</div>
<div class="modal-section"><h4>‚≠ê Ï§ëÏöîÎèÑÍ∞Ä ÎÜíÏùÄ Ïù¥Ïú†</h4><p id="modalWhy">-</p></div>
</div>
</div>
</div>

<script>eval(decodeURIComponent(escape(atob("CmNvbnN0IEVOQ1JZUFRFRF9EQVRBID0gIlNCWk1RRkFsUjFGZGIxVXdFUTRaRWdaMEFRTFN0YkJrQXdYVnE2QmtBQVhWclloa0FnVURCQUJrZUdkdEVoaGtFVUZKVkZVd1ZsQm1SRjBwVmtkTlVWazBFUTRaRWdaMEFRSVVBQVZwQUFWdEFRVitCd0FEQkFScUJnRU5DUVIzR0FRQUNnUjBFUmdaRWxjMlNrUk5YeForRTI5Q0VrYzlYbFpXWEJaK0V4WjdaSGRtSHhRYlhsVXBWaFlERUJhdmlyRFV1b3lvanFEVnJZeG1IeFFiUUVZdFVGRWJDaFI4QUEwQkJCaGtFVmRSVVZvalZoWURFQVpxQmdGRUhCUS9FVWRBWFZZclh4WURFQllCWjN3YkhCUm1YVlZVVlJaK0V4YlZyWUN2dnFEU2xwaW9xTFFiSEJSbVEwWlFVMUZtQ1JRTEJ3UjFIUUlWRUJZblcxVlhWMUZtQ1JRVUFScDJCVWtWRUU5bVFFMVVVbHNvRVE0WkVtd1dZeFlWRUJZcVVsbGNFZzVrRWQrZm5OblF2eFlWRUJZMFFWMWFWUlorRXdVWEJ3Rm9FeFphV0ZVcVZGRWJDaFIwSFFRT1RSaGtTQlpLU1ZrbVhGZ2JDaFJtWUh0MUVoaGtFVnBZWFZGbUNSUWIzTExRMkttRjI3YmNFUmdaRWtRMldsZGNFZzVrQWdVQkhnUnpIeFFiVTF3bFhWTmNFZzVrQnhvSkEwbG9FMDhiUTAwcFVWdFZFZzVrRVhaM2NoWm9FeFpYVVZraEVRNFpFbllLY1JZVkVCWTBRVjFhVlJaK0V3d01BeHB3QlJnWkVsY3NVbHBlVlJaK0V3VVhBd1U1SHhSQ0VrYzlYbFpXWEJaK0V4WjlmM01CRVJnWkVsb2xYbEViQ2hSbTJMdTkzSlBFMzRtdDNLbjhFUmdaRWtRMldsZGNFZzVrQXhvSUFoaGtFVmRSVVZvalZoWURFQVJxQmdaRWJSaGtFVkpjVVVZYlZFWmNWVkJtQ1JSQ0VrSWxYMEZjRWc1a0FRUVZFQllvVWxaY1hCWitFeFo4U0VBMlZsbGNFSEloVWtZYlRSaGtFVUZLYjEwcVYxMWFWVWRtQ1JSaVN4WXZWazBiQ2hSbVFFUU1BQVJtSHhRYlhsVXBWaFlERUJZWEZXUVpCUVIwRVJnWkVrUTJXbGRjRWc1a0JRMEtDUnAwQUJnWkVsY3NVbHBlVlJaK0V4a0pIZ0IzVGhnWlN4WXZWazBiQ2hSbVYxdE9FaGhrRVZwWVhWRm1DUlFiMjcvZzM2NkozSlh3Mzc2ZEVoaGtFVVJMV1ZjaEVRNFpCQXg4Q2dZWEJBTm9FeFphV0ZVcVZGRWJDaFJwQXhvS0JrbG9FMDhiVzFFOUVRNFpFbG9sUUZCWVFSWm9FeFpYVVZraEVRNFpFdC9HcTlpemxOL1BsaFlWRUJZMFFWMWFWUlorRXdZS0JBSjFIUXdMSEJSbVVGeFlYbE1oRVE0WkhRUnFDZ0JFSEJRL0VWOWNTUlorRXhaWFVVY2dVa1VJQUFSbUh4UWJYbFVwVmhZREVCYXZzYXpWdXBDdnVKRUlBQVJtSHhRYlFFWXRVRkViQ2hSMkJnRU1BaHAzQ2hnWkVsY3NVbHBlVlJaK0V4a0lIZ1o4VGhnWlN4WXZWazBiQ2hSbVJWMUJFaGhrRVZwWVhWRm1DUlFiWm4wY0VSZ1pFa1EyV2xkY0VnNWtBZ01YQUFWb0V4WmFXRlVxVkZFYkNoUjBIUU1PVFJoa1NCWlNWVTFtQ1JRYlYxc29WeFlWRUJZcVVsbGNFZzVrRWQ2S21OL1hyeFlWRUJZMFFWMWFWUlorRXdFSkJnTnFCaGdaRWxjc1VscGVWUlorRXhrTUhnZHpUaGdaU3hZdlZrMGJDaFJtUUYxVlJsRTJFUmdaRWxvbFhsRWJDaFJtMzZtNUVoaGtFVVJMV1ZjaEVRNFpDUXhxQmhnWkVsY3NVbHBlVlJaK0V4a0lBeHA5QVVrVkVFOW1XRkZBRWc1a0VVTk5XUlpvRXhaWFVWa2hFUTRaRW1NUWVoVFZySlN1ZzdRYkhCUm1RMFpRVTFGbUNSUVBCUnB4QmhnWkVsY3NVbHBlVlJaK0V3UVhBa2xvRTA4YlcxRTlFUTRaRWxBOFNoWVZFQllxVWxsY0VnNWtFZCt5bk4vYm45aWtpTi9KZ3RpemxCWm9FeFpKUWwwblZoWURFQTF6SFFVTUhCUm1VRnhZWGxNaEVRNFpBQnAxQlVrVkVFOW1XRkZBRWc1a0VVRktWRjgyUkJZVkVCWXFVbGxjRWc1a0VkaWlvQnV2dUpqU3I1aG1IeFFiUUVZdFVGRWJDaFIxQndBTUhnVnpIeFFiVTF3bFhWTmNFZzVrQWhvSkNFbG9FMDhiVzFFOUVRNFpFa0UzQWdSQUVoaGtFVnBZWFZGbUNSUWIyNXY4MllHVUVBVjAyTEc5MjVqNEU5NkJ1Ti9pbnhZVkVCWTBRVjFhVlJaK0V3QVhBZ0ZvRXhaYVdGVXFWRkViQ2hSMEhRRUxUV2xvRXhaU1Ftc3RYVkJRVTFFM0VRNFphMDltV0ZGQUVnNWtFVjlXUTBRdEVSZ1pFbG9sWGxFYkNoUm0zNG10M0w3ZzNxQ0ZFaGhrRVVSTFdWY2hFUTRaQlFaMkJ4b0tCaGhrRVZkUlVWb2pWaFlERUFScUF3SkVIQlEvRVY5Y1NSWitFeFpTWDBjZ1VrVWJIQlJtWFZWVVZSWitFeGJWamFDb3VaRFN1NUZtSHhRYlFFWXRVRkViQ2hSMUFnQUFIZ0J3SHhRYlUxd2xYVk5jRWc1a0Fob05UV2xvRXhaYlJGY2JXMTFLUkZzMlNoWURFRTltWDFWYlZWZzNFUTRaYXhaMEFoc0xBaFpvRXhZSkFSdDJBQllWRUJaMEFoc0xCQlpvRXhZSkFSdDJCaFlWRUJaMEFoc0xCaFpvRXhZSkFSdDJCQllWRUJaMEFoc0xDQlpvRXhZSkFSdDJDaFlWRUJaMEFoc0tBQlpvRXhZSkFSdDNBaFlWRUJaMEFoc0tBUllaSHhRYlFFWXRVRkZLRWc1a2FBd0FBd0Z3SFFRVkVBeDlCd0FLSGdSb0V3d0FCQVYySFFRVkVBeDlBZ01JSGdSb0V3d1BCUUI4SFFRVkVBeDhBQVFCSGdSb0V3d0FBZ1J3SFFRVkVBeDlBZ0lMSGdSb0V3d05CUU4wSFFRVkVBeHdBZ0FMSGdSb0V3d0tDUXh3SFFSa1RSaGtFVkZhWDFvclhsMWFiMWNsWDFGWFZGVTJFUTRaYTJsb0V4WmZSVUF4UVZGS2IxQWxSMVViQ2hRL0VWaFdYbE1iUUZ4V1FrQWJRVlZOV1Z0bUNSUlhSVmdvSHhRYlZrRXFWMTFYVjJzMlVrQmNFZzVrWFVGVlhCaGtFVnRKVlZvYldscE5WVVloUUVBYkNoUXFSbGhWSEJSbVZVRlhWRjBxVkd0TFVVQWhRQllERUc4WlRoZ1pFbFVxVWxoQVExMDNFUTRaU3hZclhWRm1YRjBxVmtZYkNoUm1Bd1hWcTZCa0FBWFZyWWhrVHhUYnFwVmszckcxM2JYb0U5aXlsTmprc2hUVnFvU3ZrNURTa2FoazJMYWgzTDdnMkwrY0VONzh1dCtralJoazJJMjkzYjc4MzRtdDNLbjgySk8xRU5uZHM5K1lyQlN1ZzZIVnRJeG1IeFFiUlVjYlhsVkxXMUV3RVE0WkVnZ3NCd3JKcjZmT0U5NkJ1TmpaanhUU240eXVocGtaM0pMWjM3K2xFTm5jdDltZ21RaHJXd0FIYkZwNFF3clRpTHlvcm9nWjI1djgyWUdVRU5qaXJ0aXlyTi9PcHhUVmtMQ3ZnNnpWa0xXb3I0alNrYWhrM3FHaDI2bjUzN0NCMjVINEU5K0toTmpaaDk2S2tCU29yYnpWdW9HdnVMelN1NUJxRTJjZllCUnhBd1RWcmJSa0JRMEtDUnAwQU5pbGpOL2xyeFRWa0xDb3JvalN2TFN2aXJBWkFCcHdBQkVaM2FIYzJLbUUzYUxNMzZpRjI1MzBIeFRTc3F5b3VaRFN1NUdvcnJRWkFnZHdCUVVYQ0FhdmtxZ1pBQnA5QnhFWjI2THMzNktOM0pYSTM3Nk0yNy9NMkwrZEhoU3B1WTNVcnJ4azJMYWgzTDdnMkwrY0FRUjAzNm01RUFaeEJnRUxIZ2Q5MkpXbEVBVnFBUXdjRU43OHV0K2tqZG5ScTkrUWdCU3VpNFRWdUpTb2tJZ1ozSkRWMzcrVjNLbmNFOWlZZ05qa3B0aWtoQlN2b3FUU282aXZySmpWbDZXdnVMelN1NUJxRTkreWxOamVnOWlZaE5qT2w5K3pwQlJ3Q3d3QUFocHdCTitZckJTb3NMWFN2TFNvazdYVnJJaXZrcWdaM0szQTJKTzEzYUhZRXdRWEF3SmhFOW1zcU4vWmp0aWt0QlN1aTRUU2thbXBwYnpWdW9HdnVMelN1NUJxRTlpeXJOamFsaFRTaHJ5b3ByelRnS1NvcnJBWjI3YmMzcmU1MjdidzJMNnRFR0lOYXhUVmw3U291NnpTdXFCa0FnTVhBQVd2a3FnWkFCcHpCQkVaM0xmRjM3NkEzYUxNMzZpRjI1MzBIeFRTbjR5dWhwa1pBUVN2dHJEU25JaGsyWXl4MjVMbzJMNnRFQUJxQVFFY0hCU3Z1SmpTcjVpb3JvelN2WVdvdVpEU3VxQmtDZ01YQVFHdmxvZ1oyb3owMkpXazNhSGMyWWVaRU5qYXU5aXpoZC9QdTkreWxCcDRIRVFIYkZvWVhRaFJCQXEwcktleEVOakFpdG05Z04vM3R4VFN2NjJwcFpFRkgxeHdEV2hYREVSNjM2eWQyNzdjRTk2QmdOak1rOWlhakJTb3Q0M1V0SVN1ZzdRWjJvVEUzNnFjRU5uRmd4VFVzN1N1Z1ozVnJiQmsySVNpMm9ma0U5aW51TmpPaHQreXVOL1BseG9aMjRUYzJMdTkzSWJ3MzVlRjI2ZmczNm1ORU5qa3Q5K0pxTmprc3RpbGpOL2xyeFRWcFltb3Q0elNsWWhrMkllTjNLbncySjJKRU4vR3E5aXpsTi9QbGdVSkFCU29sTFRWdUt5b3Jxd1ozYlgwRTltMm5SU3BwcXpTclltb3JyQVozSmY0Mkx1OTNhSGMyWWVaRU5qYXU5aXpoZC9QdTkreWxCcGszNk9wMjdETTM1TzVFTmpBaXRtOWdOL09weFRWckpTdWc3UVozTGZGMzc2QUVOamNzdG12bGRqWWo5K1lyQlNvc0xYU3ZMU29rN1VaMm9UUjM3Q0IyNUg0RTlpbGtOampzOW1zcU43M2t4VFZycnlvcjRqU21ZUm9FOTZCdU5qWWh0aWFqTi9YbDlpa3NCU3Z0YWJWcmJSazJZeXgyNUxvRTltZ3FONzJqdGl1b05qQXJ4VFVxSWlva29UVnRJeXZsb2daMjdiYzNyZTUyN2J3MlllWkVOamF1OWl6aGQvUHU5K3lsQnBrMzdLMTI0M0EzNnFWRU5qQWl0bTlnTi9PcHhUVnRyaXB2SmtaM2FIYzJLbUUzYUhjMkoySkVOamt0OWlMaE5qa3N0aWtpQlNvdUtqVnJwRmsySUs5M0tqQTJZeUozS1BVRTkrMnFkamxnOW1zcU4vT3B4VFNtcHlvdVlIVnJyR3Z1THpTdTVCcUR4dEpEbWdxYjFvRldBQjYwYTZZRU43OHU5aWtqQlNva0lqVnFxQmszNm1OM0w3TUR4dFJCQW9ZWFFoSkR0ajJtTmllaUJoazM2T0oyNFR0MzVDNTI0M0EzNVNsMjd2QTM2bWhFTm5DaHRtZ3BOamtwdGlJdFJTdWg3VFNrSnhrMklTbDNLTDgzNm1ORU5qUHI5aW5sZGpUb3hUVnFMV3BwWkhWcmJCazJKdUIzSTNjMlllWkVOamF1OWl6aGQvUHU5K3lsQnBrQnhvTEJSR29ycXdaMjdMVzM2bTVFQVYwMkxHOTI1ajRFOTZCdU4vaW45NkpzQlNwdTVqVnJxU291SmpTbHBpdmxvZ1ozS0hSMklTczNhSGMySjJKRU5uT2l0bW51QlNvdDRYVnJwR29rSWdaM0pEVjM3K1YzS25jRTkrZWxOL0x0OWk5aU43MHN4VFNzcXlwc0xUU3NxeXVnSlFaM0tyTTM3Nk0yNy9NMkwrZEhoU3ZvcXpWbDR4b0U5aWFqTmplcHhUVGlJU29wTEhTbzVDb3Jxd1ozTC9nMzVTNEVOLzByOW1vckJTb3VLalZscmlvcm9BWjI0ZjgyWWFRM2EzUTJLU2gyNTN3MzdDbEVONzByOStLdEJTb2tiSFNtcDFrMkllNTI3dmQzN0NJM0tud0U5bWdwZC9JczkrcHFONzNreFRWcnJ5b3BZQVozYnpvMzZxcDNLclUyS2VkM0tuY0U5Nk5zTmpQbjlpa2hCU29sS1hWbEtXdm82elRnNVJrMzZxeDNMN3gyTCt4MjcvZ0hSVFZyWUN2ckpqVXBhaGszNjZ0M0tuODJLZWQzS253RTkrS2hkblJtdGlac2RqWWo5K1lyQlNvcmFYVnFwMnBwcXpTbVlSazM2eWQyNzdjRTlpeXJOamFsdGlrcUJTb2s3RFNnS3lvazdYVnJZeGszNVdKM0pUUkU5aXNwZC9rbHRpbGpOL2xyeFRWcnFXb3FaM1VwYXl1Z0pRWjNLck0zNzZNMjcvTTJMK2RIZ2hyUXdvYkhCUm1VRVpBUUVBckVRNFpFZ2dzQndySnI2RHlFOTZCdU5qWmp4VFNpYkNwdVl6VmphQ29yb3daM2F6QTNxMlFEQnNzQndwbFhnZzBEZDZCdU5qWmp4VFNpYkNwdVl6VmphQ29yb3pWcmJSa0Z3d0tIQTE4QjkrY2pCU3VpNFRTa2FtcHBxelNtWVJrMzVTOTNLbjQyTGk1MjQzQUV4OExIZ0Z4RnRpa3FCU29zTFhWdW8yb3Q0elNsWWhrMkllTjNLbncyWWVaRU5qYXU5aXpoZC9QdTkreWxCcGtDd0FWQUFSMDJMK1YyNnZvRTk2T2pOajJxOWl1b05qQXJ4VFZrTFNwcHBuVnJiQmsySVNpMm9ma0U5aW51TmpZajkrN3FCaGszN2U0M0w3OUU5K1RtTi90cTltOHNOalpoeFRWckpTb2xMVFNvS3l1Z0pRWjNLck0zNktORUF4eEh3UUpBTi9QbjkrbW5CU3Z2TGpVdkxoazM3K2wyN3ZBMllTNUVOamN1OWk2c2QvVW10K3l1Ti9QbHhvWjNKZjQzNjZ0RU5qanM5aWVzTmpBazlpa3NCUjhBUmdKQUFTdnVKalNyNWhvRTlpWnNOblJudGk5a05qWnN4UUJCUmgwQXdUU3U1aXZySmpTa2FoazNyaXAyNy9zMktTUTI3L00yTCtkSGdoclF3cGxYbWdxRDF3TkRzVGJ2N3daMm96TTM2bUZFTmpSdjltemlOajVwOWlraUJTdnZLM1VwcEY0SEZ3TkRtZ3FEMFFIM0tISTNyNkIzSW5RMzZtQkVOalByOWlubGRqWnN4VFVxSWlvclpqU29LaGsySjZSM0w3eDM2bTlFTi8zaDlpbnRkL1B1OSt5bEJwazM3S3QyNm40MkxhaDJvVEVFeEFJQVF4cUF3UFNrYWhrR0FBWEFBZGgzNm1oRU43MHB0bXNyQlNvc0xYVnVvMm90NHpTbFloazJZeUoyNVhaM3FHaDI1MzBFOWlhak4vTHQ5bXNxTjcza3hUVnJyeXVnSlFWRU4vaW45bXR2Tmpac3hRZEFScHpCdCtZckJSdkF4b0pCeEZrMzdLMTNidnBFOWk2c2RqT2l0bXZ1TmpPaHQreXVOL1BseG9aMjRUYzJKMk5FTmpaaDkrMHBOL2luOWlpc05qWnN4UWRBaGh6QXdVWEJ0allqOStZckJScEFob0xCaEZrM3FHaDI2bjUzcUdoMjUzMEU5aVlnTmprcHRpa3RCU3ZnNi9UZzVSazM2cXgzS0x3RTk2SnJOLzN0eFRWamFDb3JvelNnN0JrMzRTUjI0ZkEzcTJ0MjZUWUU5bWtvTi9pdDlpa2hCU3ZzYXpVczdTdnNhelRnNVJrMzZxeDNMN3gyTCt4MjcvZ0hRZ1dRQW9ZWFdoWERGeHdEY1NtbzcxazJZeXgzS240RTlpOWtOL29qeFRWdTZpb3JaRUZIMXh3RFdoWERFUjYzcXk5M0tyb0U5NktoZG5MbjltNm9OamVwdGllc05qTXE5NkpzQlIyQTlpa3RCU3VpNFRTa2FtcHBxelNtWVJrMllPQTI3dkEzNm1oRU43M2h0bTJuQlN1aHBqVGdMQ29wS1FaM0pQQTM2cTgzYUxNMzc2TTI3L00yTCtkSGhTcHZiVFNwSjJ2aXJEVGdMUmtBeG9KQUFSMEZ0K1lyQlNvbDZYU2xvbW9rN1hWcllDdWdKUVoyNXY4MllhSjNKVFkzNkdFM0pUUjM2bU5FQVJrY1dCNjI1WFlFOW1vck5qUHI5K3BxTmpTaHhUVnRKU3ZuNGdaM0wvWTM2cWMzS25jRTltZ3JOL0xxdGlraEJTb2s2alVwYWlvazdYVnJZeGszN2U0M2EzdDM2cTgyNy9NMkwrZEhoU29yb0RTdXFCazNxeTkyNWo0RTlpZG9kalBuOWlrcUJTdWdvVFNycXl1ZzdRWjNKUEEzcUt3MjZUYzJZZVpFTmphdTlpa3ZOalp0eFRWdTZpb3NaalVwYXl2bW9RVkVOL1BtOTZCZ05qa3N0aWxqTi9scnhUU2c3U3Z2SzNWdElWazNxMnMyN2pFRTk2SnNOL09sdGk5Z2RqWmh4VFN0cWFvdVlIU3U3eXZ1SkFYREJzMERSWVZFQlluWEZsVVgxQXRSMTFjUXhaK0V4WUZXQUI2dzZ1Y3R4U3VpN3pWclloazJZeXhHSE1yWDFBUUVObmN0OW1nbVFocld3QUhiRnA0UXdyVGlMeGszcXk5M0tybzJZUzVFQkJ4SHdRUEJ4cHgySldsRU5qa3Q5aWtqTi9JczkrQXRCUnBCaG9LQnhGazJZeXcyNm41M3FLeDNMN3gyTCt4MjcvZ0hSVFN1NWl2ckpqVnJZeXZ2b1hWdXBCa0NnTVhBUUZrMzd5aDNKREUyWWVGRU4vcmk5Nk1uUlIxQTkrOHROL29qeFRUaUx5dmxaZ1pCQnAyQmhIVnJheGsyTEtyM0tuRUU5aXhxTmpnczlpa2hCU3VpN3daMm9URTJZYVEzS1BVRTltc3FOLzBtaFRWcGFHdms1SFZySWl2a3FnWjNLclYzNjZRM2FIYzJZZVpFTmphdTlpemhkL1B1OSt5bEJwazJZU3MyNy9vMkt1VjNLM0VFOSsvb3RqWnN4VFZ1NUNvbEx6VGlMeXZsWmdaM2EzYzJZYUUzS1BVMzdDbEVOL29oOWl4cU5qWmhoVFZycVNvc1lUVnJZeGsyWXl4M0tuY0U5K2VsTi9rbHQrMnRONzBzeFRVc1ppdWdiZ1oyb1RVMzdLMTNhSFlFOWk2c2RuZG10aW50ZC9QdTkreWxCcDRIRVFIYkZvWVhRaFJCQXEwckpHeEVONzh1OWlrakJTb3JyUVczSy9VMzZpWkVObmN0OW1nbVFocld3QUhiRnA0UXdyVnJiU29yclFaRkExOEhRSFNrYWhrMzVTOTNLbjQyTGk1MjQzQUV4a0lBeHA5QVJFWjNidnAyS21FM2FIYzJKMkpFTjc4dTkrS2hOL1BseFRTdmFCazNyV0pFTm5ScTkra2pkbkxudGlrdEJTdWk0VFNrYW1wcGJ6VnVvR3Z1THpTdTVCcUU5aTdnTmpUdHRpam1SU3VpN3pWdHJsazM3Q0kyb2J0MzZtTkVONzBwdG1zckJTb3JyVFZyYXhrMllhRTNLNzBFOTZMamQ3OGc5K29wTm5kcHhUVnFvU3ZrNURUZ0xSazJJU2gzS3pGMktTbEVONzJzTmlsak4vbHJ4VFNnNENvcmJIU3U3eXZ1SkFYRU4vMHE5K1FoQlFUWjMwWjNLL1UzNmlaMjc3UUV4QVBCUnB4QnQrWXJCU29rN0RWcllpdnY3VFNpYkJrR0FRWEFnUmhFOWkvdk5uTG5oVFZzN1dvdVkzVXBheXZtb1FaM0xmRjJMaTUzSlRGRTlpc3VOamtwdGk5aU4vaGp4VFNnNENvcm9EVGc1UmszNnF4M0w3eDJMK3gyNy9nSFFnV1FBb1lYV2hYREZ4d0RkYWprUlN1aTd6VnJZaGszNWVGM0s3UUU5aWtoTmpPdXdnV1dBQjZiMW9GUUFxdWk3elZyWWhrMzYrcDNLclUzNnFWRU5qUHI5aW5sZGpacXhUVXBZR291SmdaM0tudzM3NngyNzdRRTk2T3NONzh1OWkvdlJTb3VLalZycEdvcnF3WjI3akUyWU9sMjU3c0U5aVlnTmprcHRpbnRkL1B1OSt5bEJwazJKdUIyb0hwRTk2TGpkamtyOWllc05uVnJ4VFVxSXlva29UVnA2UmsyS0NKMjVIOEU5NkJ1Ti9pbnhUVnM3V291WTBaM0tIUjJKU2Myb2Y0RTkreW5OL2JueFRUZ0tHb3Q0elRnTFJrMzVPNTNMTEoyS1NoMjUzdzM3Q2xFTmpSdTlpWnROamFvOWk3Z0JTb3U2elZxcUN1ZzdRWjJvek4yWWFRM2FyTUU5NkpvTmpDdjltdnVOak9odCt5dU4vUGx4b1ozYjc5M3FxeEVOalpzOWlrcUJTdm9xUVozS3JVMkpLRzNMemNFOW1zcU4vWmp0aWtzQlNvc1lUVnA3R291NnpWcXFCazJLV3QzYTNRRTlpamdOL2tsOWlnc0JTcHBwelRpNnhrM3J5VjJvejAzNVM0RU4vamw5KzJ0Tjcwc3hUVmw2V29sNlhTb0toazJZYTYzS2o0MkpXbEVOL3l0OWk5cmQvVW10K3l1Ti9QbHhvRkgwUjZFUmdaRWw4clFWRlliMWtsUVY5Y1JCWitFeFlGV0FCNnc2dStnTVRidElNWjJvek0zNm1GRU5qNXA5aXpsTm5Ranh2VmphQ291WkRTdTVGazNxeTkzYTN0RHh0UkJBb1lYUWhKRHRqNXA5aXpsTm5RajkrenBCUnhId1lMQkJwM0JVUk4yNVhZRTlpWnROalpqOSsxc04vOXR4VFZ0cmlwdkprWjNMZkYzNzZBR0I5MEhRUVBGUjJwcHF6U21ZUmsySVNzM0w3ZzJZSzFFTmpmczlpZXNkamF0OWlrdEJTdmdJRFZyWUN1Z0pRWjNLck0zNzZNMjcvTTJMK2RIaFNvanFEVnVwQ3Z1SkhWcmJSa0FoZ0lCQTFxQndCSlJOL2xyeFFJSGdCMEZoVFZzN1dvdVkzVXBheXZtb1FaM0xmRjJMaTUzSlRGMzZpRjI1WFlFOTZKcGRqQWk5K2NqQlN2c2F6VXM3U3ZzTHpWdW9HdnVMelN1NUJxRTlpaW9CdXZ1SmpTcjVoazNxMmgzS2pzMzZtNUVBVm9Cd0FNSGdWejM2K3AzS2o0MkpXbEVObmNwdGk5Z2QvVXE5aXZoQlNvdTZ6VmhxaXVpNFRWcDdHdm9KRFZwNlN1Z2JqU3VxQmsySUs1Mjcvd0U5aWpwTmpaaTlpbGpOL2xyeFRWcnFXb3FaM1VwYXl1Z0pRWjNLck0zNzZNMjcvTTJMK2RIZ2hyUXdwbFhtZ3FEMXdORHNUYm9ZUVoyb3pNMzZtRkVOamRpOTZNbmRqWml4dlRpSVN1aDdRWjNMemMyWXl3REJzc0J3cGxYZ2cwRGRpZ2lON3hudGlraUJTcHU1alZycVNvcmFUU281Q29yclFaMm96TTM2bUZFTmo1cDlpemxOblFqOWl1b05qQXJ4VFNsNUNvdTZ3WjNLNzAzNmk5MjVINEU5K0toTmpaaDkrUWdCU3Z2N1RVcUtHb2tJZ1ozSkRWMzcrVjNLbmNFOWk5a04vM3R4VFV1SmlvcmFUU2xZaGszNm1OM0tMdzJZUzUyb2ZrRTlpbnVOak9odCt5dU4vUGx4b1oyb3owMllDNTNiem8zNnFwM0tyVTJLZWQzS25FRTlpRXBOak9sOSt5bGRqVG85aTlyQlNvdTZqU2w1Q291NnpWdEl5dmxvZ1oyNGZ3MzZtTjI1MzBFOWk5Z2RqYWx0aWFqTmpUb3hUU3ZMU3BwcWdaMm9ERTM3K1YzS25BRTlpZXNOakN2dG1zcU43M2t4VFZycnl2dWFBWjNMZkYzcTJRM0tyQjJMK3gyNy9nSFJUVGdLaW9yb3pVdUppb3JhVFZycVN2b0pEVnJiUmszNVM5MjRUYzM1UzQzS2o0MkpXbEVON3dzOStlcmRqQWk5K2NqQlN2Z0lEVnJZQ3Ztb1FaM0wvazM1Q28zYUhZRTlpWm9kN3pqOWlrdEJTcHBxelRnNVJrMzZxeDNMN3gyTCt4MjcvZ0hRZ1dRQW9ZWFdoWERGeHdEY1Ntbzc1azJZeXgzS240RTlpdXRkam10dCtLdEJTdnZLM1VwcEY0SEZ3TkRtZ3FEMFFIMjRUYzJMdTkzSWJ3RTlpdXRkam10dGlrc0JRRmVoVFRoTFN2azV3WjNMemMzNjZ0RU43OGc5KzFzTjcwbzlpbGpOL2xyeFRWczdXb3VZM1Z0SXl2bG9nWjI0ZnczNm1OMm9ma0U5aW51TmpZajkrUWdCaGtBZGlKbU5qa3Q5aWVzQlNvcExIVmtyR29yclFaMjRMRjJKdUJFTmprdDk2QmdOajBteFRWdTZpb3JaRVozYTdJMkllTUVONzhnOSsxc043MG85aWxqTi9scnhUVGdLR290NHpTbFloazJMYWgzYmZFMkxleDNMN3gyTCt4MjcvZ0hSVFNnS0Nvcm9EVnFKQmszNk84M0piQjM2bTVFTmpQazlpc2pSU3VnNmpTZ0toazJZQzUyNVRzRTltaGlOamFuOStZckJTb3JvalNoclJrMzVhODI1N3QyS2VkM0tud0U5NkJ1ZC9YZ3Rtc3FOL3RneFRWamFDb3VaRFN1NUZrMzdlNDNMNzkzNm05RU43Mm45aWtpTm5TdTlpemhkL1B1OSt5bEJwazJJU2gyNTN3RTlpWWdOakFreFRTZ0x0azM0YVoyb1RSRTlpdXRkam10dGlrc0JTdWk3VFNrYWl2Z2JnWjJvYjUyWXlKRU4vVnA5bWdwQlNvcVlUU2tKQ3ZrcWdaM0tINTM3Q0IyNUg0RTkrS2hOamNzOWl6aGQvUHU5K3lsQnA0SEVRSEVoaGtFVWROUWxVd1ZsTkFFZzVrRVFoUkJBcTByS2U4RU43OHU5aWtqQlNvdUtqVnJwRmszNVM5MjVQWkR4dFJCQW9ZWFFoSkR0Nzh1OWlrakJTb3VLalZycEdvcnJRWjNhejQzNnFWMjZUWUU5aXZvZGpIc3Rpa3RCU3ZnSURWcllDdWdKUVozS3JNMzc2TTI3L00yTCtkSGhTdmlyRFV1b3lvanFEVnJZeW9yb0FaRkF4M0h3MEJCTi9scnhRU0FocHhCaEVaM0xmRjM3NkEzYUhZRTkrSnFOL3RoeGdaMjdiYzM3NmQyNy9oQWdRSjNLbkVFd1lNSEFGeEFSb0tDZC9scnhRVUFScDJDeEVaM2FIYzJLbUUzYUxNMzc2TTI3L00yTCtkSGhRU2Vtd1pBUU5xQXdYVnJiUmszNUNvMjVMNTM1UzRFTmpNcTlpZHNOalpoOSs3cUJoazJZZU0zYnZvM3JlcDNLN1IzNU81M0x6Y0V3WUozS25FRTk2T2lkL0x0OWlrcUJTdWdJSFV2NWhrMzdlNDNiZlkySkdGRU4vR3E5bTZzTi9HaDk2S2tCU29yYnpWcG9CazM3K2wzS3JoRTlpSmlOalRuOWlub04vWGw5aWtxQlNvdUpUVmxLV3BwcWdaM0pUVjJZT0YzS253RTltc3ROamVwOW1zbWQvUHU5K3lsQnBrMlllUjI2ZlkyWVM1RUJCeEh3UVBCeHB4MkpXbEVCbHhIUWNPRlJTdWk3M1NyWW1wcHFnWjJvYkgzNm01RU4vUG45K21uQlN1ZzZIVnRJeW9xclFaM0tITTM1UzkzS3JVMzdhSkVOak1xOWlqcEJTdWc2VFZ0cml2bG9nWjNML1kzN2FWM2FIYzJKMkpIQlNwcFpIVXE3QmtBaGtMM0pmNDJZUzlFTi8zczkrMnFkakFndGlraEJTb2xMVFZ0cm12bzVRWjJvYkgzNmlGMjVYWUU5aWh1TmpIc3QrcG1kL1B1OSt5bEJwNEhFUUhiRm9ZWFFoUkJBcW1xWlRXaUx0azJZeXgzS240RTlpYWpOamVweFRTbHBpb3VaRFVzWmg0SEZ3TkRtZ3FEMFFIM0lidjM1T0JIQlN2bkl6VGhabGszNk9KM0pERTM2bWhFTjc4dTkrZm5CU29rNkhWZ2JGazJJS3gzYTNSMzcrZDNMRDEzNm1ORU43OGc5aXhrTmpuanhUVmxLV291SmpWcmF4azJMYWgzTDdnMkwrY0VOblJxOStralJTb3BxSFNrSkdvcjRqU2thaGszNnFvM0s3dDNxR2gyb2ZrRTlpbnVOak9odCt5dU4vUGx4b1oyNlhjMzVPQkhCU3VnSnpTbzZpb3Jxd1oyb3pOMllhUTNhSFlFOW1zcU4vWmpod1VCUnAzQkJFUTNLbkVFOWlraU5uUXY5K1p1TmpaaDlpOHFCU29xWVRTa0pCazM2MjkzYTNRMzYyNUVOL1BuOSttbkJTdWc2SFZ0SXhzMkwrVjI2dm8zNm1CMjduMTM3NmRFQTF6SFFVTUdkL2hqeFRTZ0t5b3E3WFVwYXl2bW9RVkVOamZvOWlub05qYW54VFZ1NmlvclpFWjNKVEEySVNoM0tuY0U5aVlnTmprcGhUVGdMU3Z1WkhWdElXb3JyQVozTC9ZMzdhVjNhSHQyTCt4MjcvZ0hSVFZ0YitvbEl3VkVON3ppdCsydEJTdWdJSFV2NWhrMzd5aDNKREVHOTZLaGRuTG45bTZvTmplcHRpZXNOak1xeFFMQUIyb3BLVFZ0S2lvcnF3WjNML1kzNnFjRU43M2o5K2VsTi9MdHhUVnM3V3BxcDNWcllCazM0S3Qyb1RFRTltc3FOL1pqaFRTbHBpb3VaRFVzWml2bG9nWjI3YnczcnVWM2FIYzJZZVpFTmphdTlpemhkL1B1OSt5bEJwNEhFUUhiRm9ZWFFoUkJBcTByS2FZRU43OHU5aWtqQlNvaGFEVmdxaGszNVM5MjZyeER4dFJCQW9ZWFFoSkR0Lzl0OW16aU5qNXA5aWtpTmpac3hUVXFMQ29yWmdaRkF4M0h3MEJCQlNvdTZ6VmxMU29wS1RWdEtoa0Z3d01IQVIwQXhUU3Y3aXB2N2daM0wvWUU5aVBwTjcwc3hUVnM3V291WTBaMjU3czJKMmgzYkhFRTk2QmdOL0lzeGdaM2FIYzM1TzUyNVBJRXhBQkFoaDBBd1FaM2FIYzNxNjFFTmpQcnhUVnVLeW9yb0hWdTVDcHE3QVoyb0xJMlllWjNhSHQyTCt4MjcvZ0hSVFNzcXlvdVpEU3U1RjFBd1RWcmJSa0FRRVZCUUYyRTlpeHFOamdzOWl1b05qQXJ4VFN1NXl1aTRRWjI0VGMyS2VJRU43MHM5K3psZGpBZ2hUVnJyeW9yNGpTc3F4a0FRRVZDQVIwSGdZUEhBUjBBeFRUaFppdWc3RFZwNlNvdDZnWjI0TEEzcUdaMjVQZzJMdTlFTmprdDkrbmhkalp0eFRWaHFDb2dhalVwWjJ2dUx6U3U1QnFFOTZLbU4vWHI5K3pwQlJnQmhnSkJnT29wS1RWdEtoazM0S3Qyb1RFRTltc3FOL1pqaFRWcDVpb2xMUVozS3JNMzZLTkVCQndIdzBKQUJseEh3UUpBQlN1aHBqVGdMQ29wS1RWdEtoazM1U3AzSlBBMzVTNEVOL2psOWl4cUJTdWdiVFV0cFN1ZzdRWjNKVEYzNVN4M2FIdDJMK3gyNy9nSFJUVmphQ291WkRVcElpdnVhQVpCUmgyQVFBWjNMemMzNUM1M0tQVTM3Q2xFTmpSdTlpWnBkamtzaFRVcmFTdmxiRFZyYkJrMkllTjNLbncySnU1MjVYWUU5bWh0Tjc4dXhUU2liQ29sNlVaM2EzUjJMaTUzYUhjMkoySkVOakFrOStLdE5qa3NoVFZrS1d1aElqVnJiQmszNmlaM0pQRTNxR2gzTC9ZMll5SkVOLzBwOStudmQvUHU5K3lsQnA0SEVRSEVrazUiOwoKbGV0IGRlY3J5cHRlZERhdGEgPSBudWxsOwpsZXQgY3VycmVudENoYXJ0ID0gbnVsbDsKCmZ1bmN0aW9uIGRlY3J5cHQoZW5jcnlwdGVkLCBwYXNzd29yZCkgewogICAgdHJ5IHsKICAgICAgICBjb25zdCBiaW5hcnlTdHIgPSBhdG9iKGVuY3J5cHRlZCk7CiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5hcnlTdHIubGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeVN0ci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0ci5jaGFyQ29kZUF0KGkpOwogICAgICAgIH0KICAgICAgICBjb25zdCBrZXlCeXRlcyA9IFtdOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAga2V5Qnl0ZXMucHVzaChwYXNzd29yZC5jaGFyQ29kZUF0KGkgJSBwYXNzd29yZC5sZW5ndGgpKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZGVjcnlwdGVkQnl0ZXMgPSBuZXcgVWludDhBcnJheShieXRlcy5sZW5ndGgpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZGVjcnlwdGVkQnl0ZXNbaV0gPSBieXRlc1tpXSBeIGtleUJ5dGVzW2ldOwogICAgICAgIH0KICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpOwogICAgICAgIGNvbnN0IGpzb25TdHIgPSBkZWNvZGVyLmRlY29kZShkZWNyeXB0ZWRCeXRlcyk7CiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICB9Cn0KCmZ1bmN0aW9uIGF0dGVtcHRMb2dpbigpIHsKICAgIGNvbnN0IHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkSW5wdXQnKS52YWx1ZS50b1VwcGVyQ2FzZSgpOwogICAgY29uc3QgZXJyb3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkVycm9yJyk7CiAgICAKICAgIGlmICghcGFzc3dvcmQpIHsKICAgICAgICBlcnJvckVsLnRleHRDb250ZW50ID0gJ+yVlO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQnOwogICAgICAgIGVycm9yRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBjb25zdCBkYXRhID0gZGVjcnlwdChFTkNSWVBURURfREFUQSwgcGFzc3dvcmQpOwogICAgCiAgICBpZiAoZGF0YSAmJiBkYXRhLmNyeXB0bykgewogICAgICAgIGRlY3J5cHRlZERhdGEgPSBkYXRhOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2Rhc2hib2FyZEF1dGgnLCBwYXNzd29yZCk7CiAgICAgICAgc2hvd0Rhc2hib2FyZCgpOwogICAgfSBlbHNlIHsKICAgICAgICBlcnJvckVsLnRleHRDb250ZW50ID0gJ+yVlO2YuOqwgCDsmKzrsJTrpbTsp4Ag7JWK7Iq164uI64ukJzsKICAgICAgICBlcnJvckVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZElucHV0JykudmFsdWUgPSAnJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRJbnB1dCcpLmZvY3VzKCk7CiAgICB9Cn0KCmZ1bmN0aW9uIGNoZWNrU2F2ZWRBdXRoKCkgewogICAgY29uc3Qgc2F2ZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkYXNoYm9hcmRBdXRoJyk7CiAgICBpZiAoc2F2ZWQpIHsKICAgICAgICBjb25zdCBkYXRhID0gZGVjcnlwdChFTkNSWVBURURfREFUQSwgc2F2ZWQpOwogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY3J5cHRvKSB7CiAgICAgICAgICAgIGRlY3J5cHRlZERhdGEgPSBkYXRhOwogICAgICAgICAgICBzaG93RGFzaGJvYXJkKCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gbG9nb3V0KCkgewogICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnZGFzaGJvYXJkQXV0aCcpOwogICAgZGVjcnlwdGVkRGF0YSA9IG51bGw7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5TY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2hib2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7Cn0KCmZ1bmN0aW9uIHNob3dEYXNoYm9hcmQoKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5TY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2hib2FyZCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgcmVuZGVyQWxsKCk7Cn0KCmZ1bmN0aW9uIHRvZ2dsZVRoZW1lKCkgewogICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7CiAgICBjb25zdCBjdXJyZW50VGhlbWUgPSBib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpOwogICAgaWYgKGN1cnJlbnRUaGVtZSA9PT0gJ2xpZ2h0JykgewogICAgICAgIGJvZHkucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXRoZW1lJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgJ2RhcmsnKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnbGlnaHQnKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCAnbGlnaHQnKTsKICAgIH0KICAgIGlmIChjdXJyZW50Q2hhcnQpIHVwZGF0ZUNoYXJ0Q29sb3JzKCk7Cn0KCmZ1bmN0aW9uIGxvYWRUaGVtZSgpIHsKICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RoZW1lJykgfHwgJ2RhcmsnOwogICAgaWYgKHNhdmVkID09PSAnbGlnaHQnKSBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsICdsaWdodCcpOwp9CgpmdW5jdGlvbiB1cGRhdGVDaGFydENvbG9ycygpIHsKICAgIGNvbnN0IGlzTGlnaHQgPSBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpID09PSAnbGlnaHQnOwogICAgY29uc3QgdGV4dENvbG9yID0gaXNMaWdodCA/ICcjMWExYTJlJyA6ICcjZmZmJzsKICAgIGNvbnN0IGdyaWRDb2xvciA9IGlzTGlnaHQgPyAncmdiYSgwLDAsMCwwLjEpJyA6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMSknOwogICAgaWYgKGN1cnJlbnRDaGFydCkgewogICAgICAgIGN1cnJlbnRDaGFydC5vcHRpb25zLnNjYWxlcy54LnRpY2tzLmNvbG9yID0gdGV4dENvbG9yOwogICAgICAgIGN1cnJlbnRDaGFydC5vcHRpb25zLnNjYWxlcy55LnRpY2tzLmNvbG9yID0gdGV4dENvbG9yOwogICAgICAgIGN1cnJlbnRDaGFydC5vcHRpb25zLnNjYWxlcy54LmdyaWQuY29sb3IgPSBncmlkQ29sb3I7CiAgICAgICAgY3VycmVudENoYXJ0Lm9wdGlvbnMuc2NhbGVzLnkuZ3JpZC5jb2xvciA9IGdyaWRDb2xvcjsKICAgICAgICBjdXJyZW50Q2hhcnQudXBkYXRlKCk7CiAgICB9Cn0KCmZ1bmN0aW9uIHRvZ2dsZVNlY3Rpb24oaWQpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QudG9nZ2xlKCdjb2xsYXBzZWQnKTsKfQoKZnVuY3Rpb24gcmVuZGVyQWxsKCkgewogICAgaWYgKCFkZWNyeXB0ZWREYXRhKSByZXR1cm47CiAgICByZW5kZXJDYWxlbmRhcigpOwogICAgcmVuZGVyRnV0dXJlcygpOwogICAgcmVuZGVyQ2hhcnRUYWJzKCk7CiAgICByZW5kZXJDcnlwdG8oKTsKICAgIHJlbmRlckluZGljZXMoKTsKICAgIHJlbmRlckZlYXJHcmVlZCgpOwogICAgcmVuZGVyQW5hbHlzaXMoKTsKICAgIGxvYWRIZWF0bWFwKCk7CiAgICBsb2FkS29zcGlIZWF0bWFwKCk7Cn0KCmNvbnN0IGluZGljYXRvckluZm8gPSB7CiAgICAnUFBJJzogewogICAgICAgIGRlc2M6ICfsg53sgrDsnpDrrLzqsIDsp4DsiJgoUFBJKeuKlCDsg53sgrDsnpDqsIAg7YyQ66ek7ZWY64qUIOyDge2SiOqzvCDshJzruYTsiqTsnZgg6rCA6rKpIOuzgOuPmeydhCDsuKHsoJXtlanri4jri6QuJywKICAgICAgICB3aHk6ICfsl7DspIAoRmVkKeydmCDquIjrpqwg6rKw7KCV7JeQIOyngeygkeyggSDsmIHtlqXsnYQg66+47LmY66mwLCDquLDsl4Ug7IiY7J217ISx6rO8IO2Wpe2bhCDshozruYTsnpDrrLzqsIAg67Cp7Zal7J2EIOyYiOy4oe2VmOuKlCDtlbXsi6wg7KeA7ZGc7J6F64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+uLrOufrCDqsJXshLgsIOq4iOumrCDsnbjsg4Eg6riw64yA6rCQIOyDgeyKuSwg7KO87Iud7Iuc7J6lIOuLqOq4sCDtlZjrnb0g6rCA64qlLCDtgazrpr3thqAg7JW97IS4JywKICAgICAgICBiZWFyaXNoOiAn64us65+sIOyVveyEuCwg6riI66asIOyduO2VmCDquLDrjIDqsJAg7IOB7Iq5LCDso7zsi53si5zsnqUg7Zi47J6sLCDtgazrpr3thqAg6rCV7IS4JwogICAgfSwKICAgICdQTUknOiB7CiAgICAgICAgZGVzYzogJ+q1rOunpOq0gOumrOyekOyngOyImChQTUkp64qUIOygnOyhsOyXhS/shJzruYTsiqTsl4XsnZgg6rK96riwIOyDge2ZqeydhCDrgpjtg4DrgrTripQg7ISg7ZaJ7KeA7ZGc7J6F64uI64ukLiA1MCDsnbTsg4HsnbTrqbQg6rK96riwIO2ZleyepSwgNTAg66+466eM7J2066m0IOqyveq4sCDsiJjstpXsnYQg7J2Y66+47ZWp64uI64ukLicsCiAgICAgICAgd2h5OiAn6rK96riwIO2dkOumhOydhCDqsIDsnqUg67mg66W06rKMIOuwmOyYge2VmOuKlCDsp4DtkZzroZwsIEdEUCDshLHsnqXrpaDsnYQg7JiI7Lih7ZWY64qUIOuNsCDtlbXsi6zsoIHsnbgg7Jet7ZWg7J2EIO2VqeuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfqsr3soJwg7ISx7J6lIOq4sOuMgCwg7JyE7ZeY7J6Q7IKwIOyEoO2YuCwg7KO87IudL+2BrOumve2GoCDqsJXshLgnLAogICAgICAgIGJlYXJpc2g6ICfqsr3quLAg7Lmo7LK0IOyasOugpCwg7JWI7KCE7J6Q7IKwIOyEoO2YuCwg64us65+sL+q4iC/ssYTqtowg6rCV7IS4JwogICAgfSwKICAgICdDUEknOiB7CiAgICAgICAgZGVzYzogJ+yGjOu5hOyekOusvOqwgOyngOyImChDUEkp64qUIOqwgOqzhOqwgCDqtazrp6TtlZjripQg7IOB7ZKI6rO8IOyEnOu5hOyKpOydmCDqsIDqsqkg67OA64+Z7J2EIOy4oeygle2VqeuLiOuLpC4nLAogICAgICAgIHdoeTogJ+yXsOykgOydmCDthrXtmZTsoJXssYUg6rKw7KCV7JeQIOqwgOyepSDspJHsmpTtlZwg7KeA7ZGc7J2066mwLCDquIjrpqzsmYAg66qo65OgIOyekOyCsCDqsIDqsqnsl5Ag7KeB7KCR7KCBIOyYge2WpeydhCDrr7jsuanri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn6riI66asIOyduOyDgSDihpIg64us65+sIOqwleyEuCwg7KO87IudL+2BrOumve2GoCDslb3shLgnLAogICAgICAgIGJlYXJpc2g6ICfquIjrpqwg7J247ZWYIOq4sOuMgCDihpIg64us65+sIOyVveyEuCwg7KO87IudL+2BrOumve2GoCDqsJXshLgnCiAgICB9LAogICAgJ+qzoOyaqSc6IHsKICAgICAgICBkZXNjOiAn67mE64aN7JeFIOqzoOyaqeyngO2RnChORlAp64qUIOuvuOq1rSDrhbjrj5nsi5zsnqXsnZgg6rG06rCVIOyDge2DnOulvCDrgpjtg4Drg4Xri4jri6QuJywKICAgICAgICB3aHk6ICfsl7DspIDsnZgg65GQIOqwgOyngCDrqqntkZwg7KSRIO2VmOuCmOyduCDsmYTsoITqs6DsmqnsnYQg7KeB7KCRIOy4oeygle2VmOuKlCDsp4DtkZzsnoXri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn6rK97KCcIOqwleyEuCDsi6DtmLgsIOq4iOumrCDsnbjsg4Eg6rCA64ql7ISxLCDri6zrn6wg6rCV7IS4JywKICAgICAgICBiZWFyaXNoOiAn6rK96riwIOuRlO2ZlCDsmrDroKQsIOq4iOumrCDsnbjtlZgg6riw64yALCDsnITtl5jsnpDsgrAg7JW97IS4JwogICAgfSwKICAgICdGT01DJzogewogICAgICAgIGRlc2M6ICdGT01D64qUIOuvuOq1reydmCDquLDspIDquIjrpqzsmYAg7Ya17ZmU7KCV7LGF7J2EIOqysOygle2VmOuKlCDsl7DspIDsnZgg7ZW17IusIOydmOyCrOqysOyglSDquLDqtazsnoXri4jri6QuJywKICAgICAgICB3aHk6ICfsoIQg7IS46rOEIOq4iOycteyLnOyepeydmCDrsKntlqXsnYQg6rKw7KCV7KeT64qUIOqwgOyepSDspJHsmpTtlZwg7J2067Kk7Yq47J6F64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+q4iOumrCDsnbjsg4Ev66ek7YyM7KCBIOuwnOyWuCDihpIg64us65+sIOqwleyEuCwg7KO87IudL+2BrOumve2GoCDslb3shLgnLAogICAgICAgIGJlYXJpc2g6ICfquIjrpqwg7J247ZWYL+u5hOuRmOq4sO2MjOyggSDrsJzslrgg4oaSIOuLrOufrCDslb3shLgsIOyjvOyLnS/tgazrpr3thqAg6rCV7IS4JwogICAgfQp9OwoKZnVuY3Rpb24gZ2V0SW5kaWNhdG9ySW5mbyhuYW1lKSB7CiAgICBmb3IgKGNvbnN0IGt3IG9mIE9iamVjdC5rZXlzKGluZGljYXRvckluZm8pKSB7CiAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoa3cpKSByZXR1cm4gaW5kaWNhdG9ySW5mb1trd107CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIGRlc2M6ICfsnbQg7KeA7ZGc64qUIOuvuOq1rSDqsr3soJzsnZgg7Yq57KCVIOu2gOusuOydhCDsuKHsoJXtlZjripQg7KSR7JqU7ZWcIOqyveygnCDrjbDsnbTthLDsnoXri4jri6QuJywKICAgICAgICB3aHk6ICfsi5zsnqUg7LC47Jes7J6Q65Ok7J20IOyjvOuqqe2VmOuKlCDtlbXsi6wg7KeA7ZGc66GcLCDsl7DspIDsnZgg7Ya17ZmU7KCV7LGF6rO8IOyekOyCsCDqsIDqsqnsl5Ag7JiB7Zal7J2EIOuvuOy5qeuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfsmIjsg4Hrs7Tri6Qg6rCV7ZWcIOyImOy5mCDihpIg6rK97KCcIOuCmeq0gOuhoCcsCiAgICAgICAgYmVhcmlzaDogJ+yYiOyDgeuztOuLpCDslb3tlZwg7IiY7LmYIOKGkiDqsr3soJwg67mE6rSA66GgJwogICAgfTsKfQoKZnVuY3Rpb24gb3BlbkNhbGVuZGFyTW9kYWwoaWR4KSB7CiAgICBjb25zdCBpdGVtID0gZGVjcnlwdGVkRGF0YS5lY29ub21pY19jYWxlbmRhcltpZHhdOwogICAgaWYgKCFpdGVtKSByZXR1cm47CiAgICBjb25zdCBpbmZvID0gZ2V0SW5kaWNhdG9ySW5mbyhpdGVtLmV2ZW50KTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRpdGxlJykudGV4dENvbnRlbnQgPSAn4q2Q4q2Q4q2QICcgKyBpdGVtLmV2ZW50OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsVGltZScpLnRleHRDb250ZW50ID0gaXRlbS5kYXRlICsgJyAnICsgaXRlbS50aW1lOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRm9yZWNhc3QnKS50ZXh0Q29udGVudCA9IGl0ZW0uZm9yZWNhc3QgfHwgJy0nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsUHJldmlvdXMnKS50ZXh0Q29udGVudCA9IGl0ZW0ucHJldmlvdXMgfHwgJy0nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsRGVzYycpLnRleHRDb250ZW50ID0gaXRlbS5kZXNjcmlwdGlvbiB8fCBpbmZvLmRlc2M7CiAgICBsZXQgaW50ZXJwcmV0ID0gJyc7CiAgICBpZiAoaXRlbS5mb3JlY2FzdCAmJiBpdGVtLmZvcmVjYXN0ICE9PSAnLScgJiYgaXRlbS5wcmV2aW91cyAmJiBpdGVtLnByZXZpb3VzICE9PSAnLScpIHsKICAgICAgICBjb25zdCBmID0gcGFyc2VGbG9hdChpdGVtLmZvcmVjYXN0LnJlcGxhY2UoL1teMC05Li1dL2csICcnKSk7CiAgICAgICAgY29uc3QgcCA9IHBhcnNlRmxvYXQoaXRlbS5wcmV2aW91cy5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJykpOwogICAgICAgIGlmICghaXNOYU4oZikgJiYgIWlzTmFOKHApKSB7CiAgICAgICAgICAgIGludGVycHJldCA9IGYgPiBwID8gJ+yYiOy4oey5mOqwgCDsnbTsoITsuZjrs7Tri6Qg64aS7Iq164uI64ukLicgOiBmIDwgcCA/ICfsmIjsuKHsuZjqsIAg7J207KCE7LmY67O064ukIOuCruyKteuLiOuLpC4nIDogJ+yYiOy4oey5mOqwgCDsnbTsoITsuZjsmYAg64+Z7J287ZWp64uI64ukLic7CiAgICAgICAgfQogICAgfQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsSW50ZXJwcmV0JykudGV4dENvbnRlbnQgPSBpbnRlcnByZXQgfHwgJ+uNsOydtO2EsCDtmZXsnbgg7KSRJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJ1bGxpc2gnKS50ZXh0Q29udGVudCA9IGluZm8uYnVsbGlzaDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJlYXJpc2gnKS50ZXh0Q29udGVudCA9IGluZm8uYmVhcmlzaDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFdoeScpLnRleHRDb250ZW50ID0gaW5mby53aHk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJNb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwp9CgpmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyTW9kYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKfQoKZnVuY3Rpb24gcmVuZGVyQ2FsZW5kYXIoKSB7CiAgICBjb25zdCBjYWwgPSBkZWNyeXB0ZWREYXRhLmVjb25vbWljX2NhbGVuZGFyIHx8IFtdOwogICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJCb2R5Jyk7CiAgICBpZiAoIWNhbC5sZW5ndGgpIHsKICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoycmVtOyI+7JiI7KCV65CcIOqyveygnOyngO2RnOqwgCDsl4bsirXri4jri6Q8L3RkPjwvdHI+JzsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgY29uc3Qga3N0ID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDkqNjAqNjAwMDApOwogICAgY29uc3QgdG9kYXlTdHIgPSAoa3N0LmdldE1vbnRoKCkrMSkgKyAnLycgKyBrc3QuZ2V0RGF0ZSgpOwogICAgdGJvZHkuaW5uZXJIVE1MID0gY2FsLm1hcCgoaXRlbSwgaWR4KSA9PiB7CiAgICAgICAgY29uc3QgaW1wID0gaXRlbS5pbXBvcnRhbmNlID09PSAnaGlnaCcgPyAn4q2Q4q2Q4q2QJyA6ICfirZDirZAnOwogICAgICAgIGNvbnN0IGlzTmV4dCA9IGl0ZW0uZGF0ZSAhPT0gdG9kYXlTdHI7CiAgICAgICAgY29uc3QgYmcgPSBpc05leHQgPyAnYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpOycgOiAnJzsKICAgICAgICByZXR1cm4gJzx0ciBzdHlsZT0iJytiZysnIiBvbmNsaWNrPSJvcGVuQ2FsZW5kYXJNb2RhbCgnK2lkeCsnKSI+PHRkPicraXRlbS5kYXRlKyc8L3RkPjx0ZCBjbGFzcz0iZXZlbnQtdGltZSI+JytpdGVtLnRpbWUrJzwvdGQ+PHRkPicraXRlbS5ldmVudCsnPC90ZD48dGQ+JysoaXRlbS5mb3JlY2FzdHx8Jy0nKSsnPC90ZD48dGQ+JysoaXRlbS5wcmV2aW91c3x8Jy0nKSsnPC90ZD48dGQgc3R5bGU9ImNvbG9yOnZhcigtLXllbGxvdykiPicraW1wKyc8L3RkPjwvdHI+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiByZW5kZXJGdXR1cmVzKCkgewogICAgY29uc3QgZiA9IGRlY3J5cHRlZERhdGEuZnV0dXJlc19kYXRhIHx8IHt9OwogICAgaWYgKGYubG9uZ19zaG9ydF9yYXRpbykgewogICAgICAgIGNvbnN0IGxzID0gZi5sb25nX3Nob3J0X3JhdGlvOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsc1JhdGlvJykudGV4dENvbnRlbnQgPSBscy5yYXRpby50b0ZpeGVkKDIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsc0RldGFpbCcpLnRleHRDb250ZW50ID0gJ+uhsSAnK2xzLmxvbmcudG9GaXhlZCgxKSsnJSAvIOyIjyAnK2xzLnNob3J0LnRvRml4ZWQoMSkrJyUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb25nQmFyJykuc3R5bGUud2lkdGggPSBscy5sb25nKyclJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9uZ0JhcicpLnRleHRDb250ZW50ID0gJ+uhsSAnK2xzLmxvbmcudG9GaXhlZCgxKSsnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0QmFyJykuc3R5bGUud2lkdGggPSBscy5zaG9ydCsnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3J0QmFyJykudGV4dENvbnRlbnQgPSAn7IiPICcrbHMuc2hvcnQudG9GaXhlZCgxKSsnJSc7CiAgICB9CiAgICBpZiAoZi5mdW5kaW5nX3JhdGUgIT09IG51bGwgJiYgZi5mdW5kaW5nX3JhdGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IGZyID0gZi5mdW5kaW5nX3JhdGU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdSYXRlJykudGV4dENvbnRlbnQgPSAoZnI+PTA/JysnOicnKStmci50b0ZpeGVkKDQpKyclJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ1JhdGUnKS5zdHlsZS5jb2xvciA9IGZyPj0wPyd2YXIoLS1ncmVlbiknOid2YXIoLS1yZWQpJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ0Rlc2MnKS50ZXh0Q29udGVudCA9IGZyPj0wPyfrobHsnbQg7IiP7JeQ6rKMIOyngOu2iCc6J+yIj+ydtCDrobHsl5Dqsowg7KeA67aIJzsKICAgIH0KICAgIGlmIChmLm9wZW5faW50ZXJlc3QpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlbkludGVyZXN0JykudGV4dENvbnRlbnQgPSBmLm9wZW5faW50ZXJlc3QudG9Mb2NhbGVTdHJpbmcoKSsnIEJUQyc7CiAgICB9CiAgICBpZiAoZi5mdW5kaW5nX3JhdGVzICYmIGYuZnVuZGluZ19yYXRlcy5sZW5ndGgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVuZGluZ1RhYmxlJykuaW5uZXJIVE1MID0gJzx0cj4nK2YuZnVuZGluZ19yYXRlcy5tYXAoeCA9PiB7CiAgICAgICAgICAgIGNvbnN0IGMgPSB4LnJhdGU+PTA/J3ZhcigtLWdyZWVuKSc6J3ZhcigtLXJlZCknOwogICAgICAgICAgICByZXR1cm4gJzx0ZD48ZGl2IGNsYXNzPSJzeW1ib2wiPicreC5zeW1ib2wrJzwvZGl2PjxkaXYgc3R5bGU9ImNvbG9yOicrYysnIj4nKyh4LnJhdGU+PTA/JysnOicnKSt4LnJhdGUudG9GaXhlZCg0KSsnJTwvZGl2PjwvdGQ+JzsKICAgICAgICB9KS5qb2luKCcnKSsnPC90cj4nOwogICAgfQp9CgpsZXQgY3VycmVudFR2Q2hhcnQgPSAnbmFzZGFxJzsKCmZ1bmN0aW9uIHJlbmRlckNoYXJ0VGFicygpIHsKICAgIGxvYWRUcmFkaW5nVmlld0NoYXJ0QnlTeW1ib2woJ0ZPUkVYQ09NOk5TWFVTRCcpOwp9CgpmdW5jdGlvbiByZW5kZXJDcnlwdG8oKSB7CiAgICBjb25zdCBjcnlwdG8gPSBkZWNyeXB0ZWREYXRhLmNyeXB0byB8fCBbXTsKICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3J5cHRvR3JpZCcpOwogICAgZ3JpZC5pbm5lckhUTUwgPSBjcnlwdG8ubWFwKGMgPT4gewogICAgICAgIGNvbnN0IGNscyA9IGMuY2hhbmdlID49IDAgPyAndXAnIDogJ2Rvd24nOwogICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iY3J5cHRvLWNhcmQgJytjbHMrJyI+PGRpdiBjbGFzcz0iY3J5cHRvLXN5bWJvbCI+JytjLnN5bWJvbCsnPC9kaXY+PGRpdiBjbGFzcz0iY3J5cHRvLW5hbWUiPicrYy5uYW1lKyc8L2Rpdj48ZGl2IGNsYXNzPSJjcnlwdG8tcHJpY2UiPiQnK2MucHJpY2UudG9Mb2NhbGVTdHJpbmcoKSsnPC9kaXY+PGRpdiBjbGFzcz0iY3J5cHRvLWNoYW5nZSI+JysoYy5jaGFuZ2U+PTA/JysnOicnKStjLmNoYW5nZS50b0ZpeGVkKDIpKyclPC9kaXY+PC9kaXY+JzsKICAgIH0pLmpvaW4oJycpOwp9CgpmdW5jdGlvbiByZW5kZXJJbmRpY2VzKCkgewogICAgLy8g7LCo7Yq47JeQIO2RnOyLnO2VoCDsooXrqqkg66ek7ZWRCiAgICBjb25zdCBjaGFydEl0ZW1zID0gWwogICAgICAgIHsga2V5OiAnbmFzZGFxMTAwJywgbmFtZTogJ+uCmOyKpOuLpTEwMCcsIHR2U3ltYm9sOiAnRk9SRVhDT006TlNYVVNEJyB9LAogICAgICAgIHsga2V5OiAnZ29sZCcsIG5hbWU6ICfqs6jrk5wnLCB0dlN5bWJvbDogJ09BTkRBOlhBVVVTRCcgfSwKICAgICAgICB7IGtleTogJ2J0YycsIG5hbWU6ICfruYTtirjsvZTsnbgnLCB0dlN5bWJvbDogJ0JJTkFOQ0U6QlRDVVNEVCcgfSwKICAgICAgICB7IGtleTogJ3VzZGtydycsIG5hbWU6ICfsm5Av64us65+sJywgdHZTeW1ib2w6ICdGWF9JREM6VVNES1JXJyB9LAogICAgICAgIHsga2V5OiAndml4JywgbmFtZTogJ1ZJWCAo67OA64+Z7ISxKScsIHR2U3ltYm9sOiAnUEVQUEVSU1RPTkU6VklYJyB9CiAgICBdOwogICAgCiAgICBjb25zdCB1cyA9IGRlY3J5cHRlZERhdGEudXNfaW5kaWNlcyB8fCBbXTsKICAgIGNvbnN0IGNyeXB0byA9IGRlY3J5cHRlZERhdGEuY3J5cHRvIHx8IFtdOwogICAgCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5kaWNlc1RhYmxlJykuaW5uZXJIVE1MID0gY2hhcnRJdGVtcy5tYXAoKGl0ZW0sIGlkeCkgPT4gewogICAgICAgIGxldCBwcmljZSA9ICctJzsKICAgICAgICBsZXQgY2hhbmdlID0gMDsKICAgICAgICBsZXQgY2hhbmdlU3RyID0gJy0nOwogICAgICAgIAogICAgICAgIC8vIOuNsOydtO2EsOyXkOyEnCDqsIDqsqkg7LC+6riwCiAgICAgICAgaWYgKGl0ZW0ua2V5ID09PSAnYnRjJykgewogICAgICAgICAgICBjb25zdCBidGMgPSBjcnlwdG8uZmluZChjID0+IGMuc3ltYm9sID09PSAnQlRDJyk7CiAgICAgICAgICAgIGlmIChidGMpIHsKICAgICAgICAgICAgICAgIHByaWNlID0gJyQnICsgYnRjLnByaWNlLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICBjaGFuZ2UgPSBidGMuY2hhbmdlOwogICAgICAgICAgICAgICAgY2hhbmdlU3RyID0gKGNoYW5nZSA+PSAwID8gJysnIDogJycpICsgY2hhbmdlLnRvRml4ZWQoMikgKyAnJSc7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBmb3VuZCA9IHVzLmZpbmQoaSA9PiBpLmtleSA9PT0gaXRlbS5rZXkpOwogICAgICAgICAgICBpZiAoZm91bmQpIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gJ3VzZGtydycpIHsKICAgICAgICAgICAgICAgICAgICBwcmljZSA9IGZvdW5kLnByaWNlLnRvTG9jYWxlU3RyaW5nKCkgKyAn7JuQJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5rZXkgPT09ICdnb2xkJykgewogICAgICAgICAgICAgICAgICAgIHByaWNlID0gJyQnICsgZm91bmQucHJpY2UudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcHJpY2UgPSBmb3VuZC5wcmljZS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2hhbmdlID0gZm91bmQuY2hhbmdlOwogICAgICAgICAgICAgICAgY2hhbmdlU3RyID0gKGNoYW5nZSA+PSAwID8gJysnIDogJycpICsgY2hhbmdlLnRvRml4ZWQoMikgKyAnJSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgY29uc3QgY2xzID0gY2hhbmdlID49IDAgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJzsKICAgICAgICBjb25zdCBhY3RpdmVDbGFzcyA9IGlkeCA9PT0gMCA/ICcgYWN0aXZlJyA6ICcnOwogICAgICAgIAogICAgICAgIHJldHVybiAnPHRyIGNsYXNzPSInK2FjdGl2ZUNsYXNzKyciIG9uY2xpY2s9InNlbGVjdENoYXJ0Um93KHRoaXMsIFwnJytpdGVtLnR2U3ltYm9sKydcJykiPjx0ZD4nK2l0ZW0ubmFtZSsnPC90ZD48dGQ+JytwcmljZSsnPC90ZD48dGQgY2xhc3M9IicrY2xzKyciPicrY2hhbmdlU3RyKyc8L3RkPjwvdHI+JzsKICAgIH0pLmpvaW4oJycpOwogICAgCiAgICBjb25zdCBrciA9IGRlY3J5cHRlZERhdGEua3JfaW5kaWNlcyB8fCBbXTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrclRhYmxlJykuaW5uZXJIVE1MID0ga3IubWFwKGkgPT4gewogICAgICAgIGNvbnN0IGNscyA9IGkuY2hhbmdlID49IDAgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJzsKICAgICAgICByZXR1cm4gJzx0cj48dGQ+JytpLm5hbWUrJzwvdGQ+PHRkPicraS5wcmljZS50b0xvY2FsZVN0cmluZygpKyc8L3RkPjx0ZCBjbGFzcz0iJytjbHMrJyI+JysoaS5jaGFuZ2U+PTA/JysnOicnKStpLmNoYW5nZS50b0ZpeGVkKDIpKyclPC90ZD48L3RyPic7CiAgICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gc2VsZWN0Q2hhcnRSb3cocm93LCBzeW1ib2wpIHsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGFydC1zZWxlY3QtdGFibGUgdGJvZHkgdHInKS5mb3JFYWNoKHIgPT4gci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICByb3cuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICBsb2FkVHJhZGluZ1ZpZXdDaGFydEJ5U3ltYm9sKHN5bWJvbCk7Cn0KCmZ1bmN0aW9uIGxvYWRUcmFkaW5nVmlld0NoYXJ0QnlTeW1ib2woc3ltYm9sKSB7CiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHZDaGFydENvbnRhaW5lcicpOwogICAgY29uc3QgaXNMaWdodCA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJykgPT09ICdsaWdodCc7CiAgICBjb25zdCB0aGVtZSA9IGlzTGlnaHQgPyAnbGlnaHQnIDogJ2RhcmsnOwogICAgCiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgaWQ9InRyYWRpbmd2aWV3X2NoYXJ0Ij48L2Rpdj4nOwogICAgCiAgICBuZXcgVHJhZGluZ1ZpZXcud2lkZ2V0KHsKICAgICAgICAid2lkdGgiOiAiMTAwJSIsCiAgICAgICAgImhlaWdodCI6IDQwMCwKICAgICAgICAic3ltYm9sIjogc3ltYm9sLAogICAgICAgICJpbnRlcnZhbCI6ICI2MCIsCiAgICAgICAgInRpbWV6b25lIjogIkFzaWEvU2VvdWwiLAogICAgICAgICJ0aGVtZSI6IHRoZW1lLAogICAgICAgICJzdHlsZSI6ICIxIiwKICAgICAgICAibG9jYWxlIjogImtyIiwKICAgICAgICAidG9vbGJhcl9iZyI6ICIjZjFmM2Y2IiwKICAgICAgICAiZW5hYmxlX3B1Ymxpc2hpbmciOiBmYWxzZSwKICAgICAgICAiaGlkZV90b3BfdG9vbGJhciI6IGZhbHNlLAogICAgICAgICJoaWRlX2xlZ2VuZCI6IGZhbHNlLAogICAgICAgICJzYXZlX2ltYWdlIjogZmFsc2UsCiAgICAgICAgImNvbnRhaW5lcl9pZCI6ICJ0cmFkaW5ndmlld19jaGFydCIsCiAgICAgICAgImhpZGVfdm9sdW1lIjogdHJ1ZQogICAgfSk7Cn0KCmZ1bmN0aW9uIHJlbmRlckZlYXJHcmVlZCgpIHsKICAgIGNvbnN0IGZnID0gZGVjcnlwdGVkRGF0YS5mZWFyX2dyZWVkIHx8IHt2YWx1ZTogNTB9OwogICAgY29uc3QgdmFsID0gZmcudmFsdWU7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmdWYWx1ZScpLnRleHRDb250ZW50ID0gdmFsOwogICAgY29uc3QgbGFiZWwgPSB2YWwgPD0gMjUgPyAn6re564+E7J2YIOqzte2PrCcgOiB2YWwgPD0gNDUgPyAn6rO17Y+sJyA6IHZhbCA8PSA1NSA/ICfspJHrpr0nIDogdmFsIDw9IDc1ID8gJ+2DkOyalScgOiAn6re564+E7J2YIO2DkOyalSc7CiAgICBjb25zdCBjbHMgPSB2YWwgPD0gNDUgPyAnZmVhcicgOiB2YWwgPD0gNTUgPyAnbmV1dHJhbCcgOiAnZ3JlZWQnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZnTGFiZWwnKS50ZXh0Q29udGVudCA9IGxhYmVsOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZnTGFiZWwnKS5jbGFzc05hbWUgPSAnZmctbGFiZWwgJyArIGNsczsKICAgIAogICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZnR2F1Z2UnKTsKICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgY29uc3Qgc2l6ZSA9IDE0MDsKICAgIGNhbnZhcy53aWR0aCA9IHNpemU7CiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTsKICAgIGNvbnN0IGNlbnRlciA9IHNpemUgLyAyOwogICAgY29uc3QgcmFkaXVzID0gNTU7CiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHNpemUsIHNpemUpOwogICAgY3R4LmJlZ2luUGF0aCgpOwogICAgY3R4LmFyYyhjZW50ZXIsIGNlbnRlciwgcmFkaXVzLCAwLjc1ICogTWF0aC5QSSwgMC4yNSAqIE1hdGguUEkpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gJyMyYTJhM2EnOwogICAgY3R4LmxpbmVXaWR0aCA9IDEyOwogICAgY3R4LmxpbmVDYXAgPSAncm91bmQnOwogICAgY3R4LnN0cm9rZSgpOwogICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgc2l6ZSwgMCk7CiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJyNmZjQ3NTcnKTsKICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjUsICcjZmZhNTAyJyk7CiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgJyMyZWQ1NzMnKTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGNvbnN0IGVuZEFuZ2xlID0gMC43NSAqIE1hdGguUEkgKyAodmFsIC8gMTAwKSAqIDEuNSAqIE1hdGguUEk7CiAgICBjdHguYXJjKGNlbnRlciwgY2VudGVyLCByYWRpdXMsIDAuNzUgKiBNYXRoLlBJLCBlbmRBbmdsZSk7CiAgICBjdHguc3Ryb2tlU3R5bGUgPSBncmFkaWVudDsKICAgIGN0eC5saW5lV2lkdGggPSAxMjsKICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJzsKICAgIGN0eC5zdHJva2UoKTsKfQoKZnVuY3Rpb24gbG9hZEhlYXRtYXAoKSB7CiAgICBjb25zdCBpc0xpZ2h0ID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKSA9PT0gJ2xpZ2h0JzsKICAgIGNvbnN0IHRoZW1lID0gaXNMaWdodCA/ICdsaWdodCcgOiAnZGFyayc7CiAgICAKICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWF0bWFwQ29udGFpbmVyJyk7CiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9InRyYWRpbmd2aWV3LXdpZGdldC1jb250YWluZXIiPjxkaXYgY2xhc3M9InRyYWRpbmd2aWV3LXdpZGdldC1jb250YWluZXJfX3dpZGdldCI+PC9kaXY+PC9kaXY+JzsKICAgIAogICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vczMudHJhZGluZ3ZpZXcuY29tL2V4dGVybmFsLWVtYmVkZGluZy9lbWJlZC13aWRnZXQtc3RvY2staGVhdG1hcC5qcyc7CiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlOwogICAgc2NyaXB0LmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAiZGF0YVNvdXJjZSI6ICJOQVNEQVExMDAiLAogICAgICAgICJibG9ja1NpemUiOiAibWFya2V0X2NhcF9iYXNpYyIsCiAgICAgICAgImJsb2NrQ29sb3IiOiAiY2hhbmdlIiwKICAgICAgICAiZ3JvdXBpbmciOiAic2VjdG9yIiwKICAgICAgICAibG9jYWxlIjogImtyIiwKICAgICAgICAic3ltYm9sVXJsIjogIiIsCiAgICAgICAgImNvbG9yVGhlbWUiOiB0aGVtZSwKICAgICAgICAiZXhjaGFuZ2VzIjogW10sCiAgICAgICAgImhhc1RvcEJhciI6IGZhbHNlLAogICAgICAgICJpc0RhdGFTZXRFbmFibGVkIjogZmFsc2UsCiAgICAgICAgImlzWm9vbUVuYWJsZWQiOiB0cnVlLAogICAgICAgICJoYXNTeW1ib2xUb29sdGlwIjogdHJ1ZSwKICAgICAgICAiaXNNb25vU2l6ZSI6IGZhbHNlLAogICAgICAgICJ3aWR0aCI6ICIxMDAlIiwKICAgICAgICAiaGVpZ2h0IjogIjEwMCUiCiAgICB9KTsKICAgIAogICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKfQoKZnVuY3Rpb24gbG9hZEtvc3BpSGVhdG1hcCgpIHsKICAgIGNvbnN0IGlzTGlnaHQgPSBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpID09PSAnbGlnaHQnOwogICAgY29uc3QgdGhlbWUgPSBpc0xpZ2h0ID8gJ2xpZ2h0JyA6ICdkYXJrJzsKICAgIAogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tvc3BpSGVhdG1hcENvbnRhaW5lcicpOwogICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJ0cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyIj48ZGl2IGNsYXNzPSJ0cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyX193aWRnZXQiPjwvZGl2PjwvZGl2Pic7CiAgICAKICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgc2NyaXB0LnNyYyA9ICdodHRwczovL3MzLnRyYWRpbmd2aWV3LmNvbS9leHRlcm5hbC1lbWJlZGRpbmcvZW1iZWQtd2lkZ2V0LXN0b2NrLWhlYXRtYXAuanMnOwogICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIHNjcmlwdC5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgImRhdGFTb3VyY2UiOiAiS09TUEkiLAogICAgICAgICJibG9ja1NpemUiOiAibWFya2V0X2NhcF9iYXNpYyIsCiAgICAgICAgImJsb2NrQ29sb3IiOiAiY2hhbmdlIiwKICAgICAgICAiZ3JvdXBpbmciOiAic2VjdG9yIiwKICAgICAgICAibG9jYWxlIjogImtyIiwKICAgICAgICAic3ltYm9sVXJsIjogIiIsCiAgICAgICAgImNvbG9yVGhlbWUiOiB0aGVtZSwKICAgICAgICAiZXhjaGFuZ2VzIjogWyJLUlgiXSwKICAgICAgICAiaGFzVG9wQmFyIjogZmFsc2UsCiAgICAgICAgImlzRGF0YVNldEVuYWJsZWQiOiBmYWxzZSwKICAgICAgICAiaXNab29tRW5hYmxlZCI6IHRydWUsCiAgICAgICAgImhhc1N5bWJvbFRvb2x0aXAiOiB0cnVlLAogICAgICAgICJpc01vbm9TaXplIjogZmFsc2UsCiAgICAgICAgIndpZHRoIjogIjEwMCUiLAogICAgICAgICJoZWlnaHQiOiAiMTAwJSIKICAgIH0pOwogICAgCiAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnRyYWRpbmd2aWV3LXdpZGdldC1jb250YWluZXInKS5hcHBlbmRDaGlsZChzY3JpcHQpOwp9CgpmdW5jdGlvbiByZW5kZXJBbmFseXNpcygpIHsKICAgIGNvbnN0IGFuYWx5c2lzID0gZGVjcnlwdGVkRGF0YS5hbmFseXNpcyB8fCB7fTsKICAgIAogICAgLy8g7ZWc7KSEIOy9lOupmO2KuAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29uZUxpbmVyJykudGV4dENvbnRlbnQgPSBhbmFseXNpcy5vbmVfbGluZXIgfHwgJ/Cfk4og7Iuc7J6lIOu2hOyEneydhCDrtojrn6zsmKTripQg7KSRLi4uJzsKICAgIAogICAgLy8g6rCBIOyEueyFmOuzhCDrtoTshJ0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c01hcmtldEFuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMudXNfbWFya2V0IHx8ICc8cD7rtoTshJ0g642w7J207YSwIOyXhuydjDwvcD4nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyeXB0b0FuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMuY3J5cHRvIHx8ICc8cD7rtoTshJ0g642w7J207YSwIOyXhuydjDwvcD4nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1vZGl0aWVzQW5hbHlzaXMnKS5pbm5lckhUTUwgPSBhbmFseXNpcy5jb21tb2RpdGllcyB8fCAnPHA+67aE7ISdIOuNsOydtO2EsCDsl4bsnYw8L3A+JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb3JlYU1hcmtldEFuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMua29yZWFfbWFya2V0IHx8ICc8cD7rtoTshJ0g642w7J207YSwIOyXhuydjDwvcD4nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cmF0ZWd5QW5hbHlzaXMnKS5pbm5lckhUTUwgPSBhbmFseXNpcy5zdHJhdGVneSB8fCAnPHA+67aE7ISdIOuNsOydtO2EsCDsl4bsnYw8L3A+JzsKfQoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIGNsb3NlTW9kYWwoKTsKICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5TY3JlZW4nKS5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpIGF0dGVtcHRMb2dpbigpOwogICAgCiAgICAvLyDqsJzrsJzsnpAg64+E6rWsIOywqOuLqAogICAgaWYgKGUua2V5ID09PSAnRjEyJykgeyBlLnByZXZlbnREZWZhdWx0KCk7IHJldHVybiBmYWxzZTsgfQogICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gJ0knIHx8IGUua2V5ID09PSAnaScpKSB7IGUucHJldmVudERlZmF1bHQoKTsgcmV0dXJuIGZhbHNlOyB9CiAgICBpZiAoZS5jdHJsS2V5ICYmIGUuc2hpZnRLZXkgJiYgKGUua2V5ID09PSAnSicgfHwgZS5rZXkgPT09ICdqJykpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KICAgIGlmIChlLmN0cmxLZXkgJiYgZS5zaGlmdEtleSAmJiAoZS5rZXkgPT09ICdDJyB8fCBlLmtleSA9PT0gJ2MnKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IHJldHVybiBmYWxzZTsgfQogICAgaWYgKGUuY3RybEtleSAmJiAoZS5rZXkgPT09ICdVJyB8fCBlLmtleSA9PT0gJ3UnKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IHJldHVybiBmYWxzZTsgfQp9KTsKCi8vIOyYpOuluOyqvSDtgbTrpq0g7LCo64uoCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgcmV0dXJuIGZhbHNlOwp9KTsKCi8vIO2FjeyKpO2KuCDshKDtg50g7LCo64uoCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgZnVuY3Rpb24oZSkgewogICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgIT09ICdJTlBVVCcpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9KTsKCi8vIOuTnOuemOq3uCDssKjri6gKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24oZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgcmV0dXJuIGZhbHNlOwp9KTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhck1vZGFsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMpIGNsb3NlTW9kYWwoKTsKfSk7Cgpsb2FkVGhlbWUoKTsKaWYgKCFjaGVja1NhdmVkQXV0aCgpKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5TY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwp9Cg=="))))</script>
</body>
</html>