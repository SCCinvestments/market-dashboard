<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg-primary:#0a0a0f;--bg-secondary:#12121a;--bg-card:#1a1a25;--border:#2a2a3a;--text:#fff;--text-secondary:#8a8a9a;--red:#ff4757;--green:#2ed573;--blue:#3742fa;--yellow:#ffa502;--orange:#ff9f43}
[data-theme="light"]{--bg-primary:#f5f5f7;--bg-secondary:#ffffff;--bg-card:#ffffff;--border:#e0e0e0;--text:#1a1a2e;--text-secondary:#6b6b80}
[data-theme="light"] .section{box-shadow:0 2px 12px rgba(0,0,0,0.08)}
[data-theme="light"] .crypto-card{box-shadow:0 2px 8px rgba(0,0,0,0.06)}
[data-theme="light"] .modal{box-shadow:0 4px 24px rgba(0,0,0,0.15)}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg-primary);color:var(--text);line-height:1.6;transition:background 0.3s,color 0.3s}

/* Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ */
.login-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--bg-primary);display:none;justify-content:center;align-items:center;z-index:9999}
.login-box{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;padding:3rem;max-width:400px;width:90%;text-align:center}
.login-logo{font-size:3rem;margin-bottom:1rem}
.login-title{font-size:1.5rem;font-weight:700;margin-bottom:0.5rem}
.login-subtitle{color:var(--text-secondary);margin-bottom:2rem;font-size:0.9rem}
.login-input{width:100%;padding:1rem;font-size:1.1rem;background:var(--bg-secondary);border:2px solid var(--border);border-radius:12px;color:var(--text);text-align:center;letter-spacing:0.3rem;font-weight:700;margin-bottom:1rem}
.login-input:focus{outline:none;border-color:var(--blue)}
.login-input::placeholder{letter-spacing:normal;font-weight:400}
.login-btn{width:100%;padding:1rem;font-size:1rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px;color:#fff;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s}
.login-btn:hover{transform:translateY(-2px);box-shadow:0 4px 15px rgba(102,126,234,0.4)}
.login-error{color:var(--red);margin-top:1rem;font-size:0.9rem;display:none}

/* Ìó§Îçî */
.header{background:var(--bg-secondary);padding:1rem 2rem;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100}
.header-content{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
.header-left{display:flex;align-items:center;gap:1.5rem}
.logo{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.update-time{color:var(--text-secondary);font-size:0.85rem;display:flex;align-items:center;gap:0.5rem}
.live-dot{width:8px;height:8px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.header-right{display:flex;align-items:center;gap:1rem}
.theme-toggle{background:var(--bg-card);border:1px solid var(--border);border-radius:50px;padding:0.4rem;display:flex;align-items:center;gap:0.25rem;cursor:pointer}
.theme-toggle span{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:1.1rem;transition:all 0.3s}
.theme-toggle .sun{background:transparent}
.theme-toggle .moon{background:var(--blue);box-shadow:0 2px 8px rgba(55,66,250,0.4)}
[data-theme="light"] .theme-toggle .sun{background:var(--orange);box-shadow:0 2px 8px rgba(255,165,2,0.4)}
[data-theme="light"] .theme-toggle .moon{background:transparent;box-shadow:none}
.logout-btn{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1rem;color:var(--text-secondary);font-size:0.85rem;cursor:pointer;transition:all 0.2s}
.logout-btn:hover{border-color:var(--red);color:var(--red)}

/* Î©îÏù∏ ÏΩòÌÖêÏ∏† */
.container{max-width:1400px;margin:0 auto;padding:2rem}
.section{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;margin-bottom:1.5rem;overflow:hidden}
.section-header{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5rem;cursor:pointer;border-bottom:1px solid var(--border)}
.section-header:hover{background:rgba(255,255,255,0.02)}
.section-title{font-size:1.1rem;font-weight:700;display:flex;align-items:center;gap:0.75rem}
.section-title::before{content:'';width:4px;height:20px;background:var(--red);border-radius:2px}
.section-title.blue::before{background:var(--blue)}
.section-title.green::before{background:var(--green)}
.section-title.yellow::before{background:var(--yellow)}
.section-title.orange::before{background:var(--orange)}
.section-title.red::before{background:var(--red)}
.one-liner{background:linear-gradient(135deg,rgba(102,126,234,0.15),rgba(118,75,162,0.15));border:1px solid rgba(102,126,234,0.3);border-radius:12px;padding:1.25rem 1.5rem;margin-bottom:1.5rem;font-size:1.1rem;font-weight:600;text-align:center}
.futures-summary{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.toggle-btn{color:var(--text-secondary);font-size:0.85rem}
.section.collapsed .toggle-btn{transform:rotate(180deg)}
.section-content{padding:1.5rem}
.section.collapsed .section-content{display:none}

/* ÌÖåÏù¥Î∏î */
.table,.calendar-table{width:100%;border-collapse:collapse}
.table th,.table td,.calendar-table th,.calendar-table td{padding:0.75rem 1rem;text-align:left;border-bottom:1px solid var(--border)}
.table th,.calendar-table th{background:var(--bg-secondary);font-weight:600;font-size:0.85rem;color:var(--text-secondary)}
.calendar-table tbody tr{cursor:pointer;transition:all 0.2s}
.calendar-table tbody tr:hover{background:rgba(55,66,250,0.15);transform:scale(1.01)}
.event-time{color:var(--blue);font-weight:600}
.positive{color:var(--green)}
.negative{color:var(--red)}

/* ÏïîÌò∏ÌôîÌèê Ïπ¥Îìú */
.crypto-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}
.crypto-card{padding:1.25rem;border-radius:12px;text-align:center}
.crypto-card.up{background:linear-gradient(135deg,rgba(46,213,115,0.15),rgba(46,213,115,0.05));border:1px solid rgba(46,213,115,0.3)}
.crypto-card.down{background:linear-gradient(135deg,rgba(255,71,87,0.15),rgba(255,71,87,0.05));border:1px solid rgba(255,71,87,0.3)}
.crypto-symbol{font-size:1.25rem;font-weight:900}
.crypto-name{font-size:0.75rem;color:var(--text-secondary)}
.crypto-price{font-size:0.9rem;color:var(--text-secondary)}
.crypto-change{font-weight:700;font-size:1.1rem}
.crypto-card.up .crypto-change{color:var(--green)}
.crypto-card.down .crypto-change{color:var(--red)}

/* Í≥µÌè¨ÌÉêÏöï */
.fear-greed-container{display:flex;align-items:center;gap:2rem;background:var(--bg-secondary);padding:1.5rem;border-radius:12px;margin-top:1.5rem}
.fg-gauge{position:relative;width:140px;height:140px}
.fg-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;font-weight:900}
.fg-info h4{font-size:1.25rem;margin-bottom:0.5rem}
.fg-label{display:inline-block;padding:0.35rem 1rem;border-radius:20px;font-size:0.85rem;font-weight:600;margin-top:0.75rem}
.fg-label.fear{background:rgba(255,71,87,0.2);color:var(--red)}
.fg-label.neutral{background:rgba(138,138,154,0.2);color:var(--text-secondary)}
.fg-label.greed{background:rgba(255,165,2,0.2);color:var(--yellow)}

/* Ï∞®Ìä∏ */
.chart-tabs{display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap}
.chart-tab{padding:0.6rem 1.2rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;color:var(--text-secondary);font-size:0.9rem;font-weight:500;cursor:pointer}
.chart-tab:hover{border-color:var(--blue);color:var(--text)}
.chart-tab.active{background:var(--blue);border-color:var(--blue);color:#fff}
.chart-tab .change{font-size:0.75rem;margin-left:0.5rem}
.chart-tab .change.positive{color:var(--green)}
.chart-tab .change.negative{color:var(--red)}
.chart-tab.active .change{color:rgba(255,255,255,0.9)}
.chart-container{position:relative;height:350px;margin-bottom:1rem}
.tv-chart-container{position:relative;height:400px;margin-bottom:1rem;border-radius:8px;overflow:hidden}
.heatmap-container{position:relative;height:500px;margin-bottom:1.5rem;border-radius:8px;overflow:hidden}
.chart-select-table tbody tr{cursor:pointer;transition:all 0.2s}
.chart-select-table tbody tr:hover{background:rgba(55,66,250,0.15)}
.chart-select-table tbody tr.active{background:rgba(55,66,250,0.25);border-left:3px solid var(--blue)}

/* ÏÑ†Î¨º */
.futures-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
.futures-card{background:var(--bg-secondary);border-radius:12px;padding:1.25rem;text-align:center}
.futures-card h5{color:var(--text-secondary);font-size:0.8rem;margin-bottom:0.5rem}
.futures-card .value{font-size:1.5rem;font-weight:700}
.futures-card .sub{font-size:0.8rem;color:var(--text-secondary);margin-top:0.25rem}
.long-short-bar{display:flex;height:30px;border-radius:6px;overflow:hidden;margin:1rem 0}
.long-bar{background:linear-gradient(90deg,#2ed573,#7bed9f);display:flex;align-items:center;justify-content:center;color:#000;font-weight:600;font-size:0.8rem}
.short-bar{background:linear-gradient(90deg,#ff6b81,#ff4757);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:0.8rem}
.funding-table{width:100%;margin-top:1rem}
.funding-table td{padding:0.5rem;text-align:center;border-bottom:1px solid var(--border)}
.funding-table .symbol{font-weight:700}

/* Î∂ÑÏÑù */
.grid-2{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
.analysis-content{color:var(--text-secondary);font-size:0.95rem}
.analysis-content h3{color:var(--text);font-size:1rem;font-weight:700;margin:1.5rem 0 0.75rem;display:flex;align-items:center;gap:0.5rem}
.analysis-content h3:first-child{margin-top:0}
.analysis-content h3::before{content:'‚ñ∏';color:var(--blue)}
.analysis-content p{margin-bottom:1rem;line-height:1.8}

/* Î™®Îã¨ */
.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:none;justify-content:center;align-items:center;z-index:1000;padding:1rem}
.modal-overlay.active{display:flex}
.modal{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto}
.modal-header{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.modal-header h3{font-size:1.1rem;font-weight:700;color:var(--yellow)}
.modal-close{background:none;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer}
.modal-body{padding:1.5rem}
.modal-section{margin-bottom:1.25rem}
.modal-section h4{font-size:0.9rem;color:var(--blue);margin-bottom:0.5rem;font-weight:600}
.modal-section p{color:var(--text-secondary);font-size:0.9rem;line-height:1.7}
.modal-meta{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1rem;padding:1rem;background:var(--bg-secondary);border-radius:8px}
.modal-meta-item{flex:1;min-width:80px}
.modal-meta-item span{display:block;font-size:0.75rem;color:var(--text-secondary)}
.modal-meta-item strong{font-size:1rem}
.scenario-box{padding:0.75rem;border-radius:8px;margin-bottom:0.5rem;font-size:0.85rem}
.scenario-box.bullish{background:rgba(46,213,115,0.1);border-left:3px solid var(--green)}
.scenario-box.bearish{background:rgba(255,71,87,0.1);border-left:3px solid var(--red)}
.scenario-label{font-weight:600;margin-bottom:0.25rem}

.footer{text-align:center;padding:2rem;color:var(--text-secondary);font-size:0.85rem;border-top:1px solid var(--border);margin-top:2rem}

@media(max-width:768px){
.container{padding:1rem}
.header-content{justify-content:center;text-align:center}
.fear-greed-container{flex-direction:column;text-align:center}
.crypto-grid{grid-template-columns:repeat(2,1fr)}
.futures-grid{grid-template-columns:1fr}
.grid-2{grid-template-columns:1fr}
.login-box{padding:2rem}
}
</style>
</head>
<body>

<!-- Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ -->
<div class="login-screen" id="loginScreen">
<div class="login-box">
<div class="login-logo">üîê</div>
<h1 class="login-title">AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</h1>
<p class="login-subtitle">Ïú†Î£å ÌöåÏõê Ï†ÑÏö© ÏÑúÎπÑÏä§ÏûÖÎãàÎã§</p>
<input type="text" id="passwordInput" class="login-input" placeholder="Ïò§ÎäòÏùò ÏïîÌò∏ ÏûÖÎ†•" maxlength="6" autocomplete="off">
<button class="login-btn" onclick="attemptLogin()">Ï†ëÏÜçÌïòÍ∏∞</button>
<p class="login-error" id="loginError"></p>
</div>
</div>

<!-- ÎåÄÏãúÎ≥¥Îìú -->
<div id="dashboard" style="display:none;">
<header class="header">
<div class="header-content">
<div class="header-left">
<div class="logo">üöÄ AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú</div>
<div class="update-time"><span class="live-dot"></span>Îç∞ÏùºÎ¶¨ Î¶¨Ìè¨Ìä∏ ¬∑ 2026ÎÖÑ 01Ïõî 31Ïùº 13:51 KST</div>
</div>
<div class="header-right">
<div class="theme-toggle" onclick="toggleTheme()" title="ÌÖåÎßà Î≥ÄÍ≤Ω">
<span class="sun">‚òÄÔ∏è</span>
<span class="moon">üåô</span>
</div>
</div>
</div>
</header>

<main class="container">

<!-- ÌïúÏ§Ñ ÏΩîÎ©òÌä∏ -->
<div class="one-liner" id="oneLiner">üìä ÏãúÏû• Î∂ÑÏÑùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë...</div>

<!-- Í∏ÄÎ°úÎ≤å ÏãúÏû• -->
<section class="section" id="chartSection">
<div class="section-header" onclick="toggleSection('chartSection')">
<h2 class="section-title">üìà Í∏ÄÎ°úÎ≤å ÏãúÏû•</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="tv-chart-container" id="tvChartContainer">
<div id="tradingview_chart"></div>
</div>
<table class="table chart-select-table">
<thead><tr><th>Ï¢ÖÎ™©</th><th>09:30 Í∏∞Ï§ÄÍ∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="indicesTable"></tbody>
</table>
</div>
</section>

<!-- ÎØ∏Íµ≠ Í≤ΩÏ†úÏßÄÌëú ÏùºÏ†ï -->
<section class="section" id="calendarSection">
<div class="section-header" onclick="toggleSection('calendarSection')">
<h2 class="section-title orange">üìÖ ÎØ∏Íµ≠ Í≤ΩÏ†úÏßÄÌëú ÏùºÏ†ï</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<table class="calendar-table">
<thead><tr><th>ÎÇ†Ïßú</th><th>ÏãúÍ∞Ñ(KST)</th><th>Ïù¥Î≤§Ìä∏</th><th>ÏòàÏ∏°</th><th>Ïù¥Ï†Ñ</th><th>Ï§ëÏöîÎèÑ</th></tr></thead>
<tbody id="calendarBody"></tbody>
</table>
</div>
</section>

<!-- ÎØ∏Íµ≠ Ï¶ùÏãú Î∂ÑÏÑù -->
<section class="section" id="usMarketSection">
<div class="section-header" onclick="toggleSection('usMarketSection')">
<h2 class="section-title blue">üá∫üá∏ ÎØ∏Íµ≠ Ï¶ùÏãú Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="heatmap-container" id="heatmapContainer">
<div id="tradingview_heatmap"></div>
</div>
<div class="analysis-content" id="usMarketAnalysis"></div>
</div>
</section>

<!-- ÏïîÌò∏ÌôîÌèê Î∂ÑÏÑù -->
<section class="section" id="cryptoSection">
<div class="section-header" onclick="toggleSection('cryptoSection')">
<h2 class="section-title yellow">ü™ô ÏïîÌò∏ÌôîÌèê Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="crypto-grid" id="cryptoGrid"></div>
<div class="fear-greed-container">
<div class="fg-gauge"><canvas id="fgGauge"></canvas><div class="fg-value" id="fgValue">50</div></div>
<div class="fg-info">
<h4>Í≥µÌè¨ & ÌÉêÏöï ÏßÄÏàò</h4>
<p>ÏãúÏû• Ïã¨Î¶¨Î•º ÎÇòÌÉÄÎÇ¥Îäî Ï¢ÖÌï© ÏßÄÌëú</p>
<span class="fg-label" id="fgLabel">Ï§ëÎ¶Ω</span>
</div>
</div>
<div class="futures-summary">
<div class="futures-grid">
<div class="futures-card"><h5>Î°±/Ïàè ÎπÑÏú®</h5><div class="value" id="lsRatio">-</div><div class="sub" id="lsDetail">-</div></div>
<div class="futures-card"><h5>ÌéÄÎî©ÎπÑ (8H)</h5><div class="value" id="fundingRate">-</div><div class="sub" id="fundingDesc">-</div></div>
<div class="futures-card"><h5>ÎØ∏Í≤∞Ï†úÏïΩÏ†ï</h5><div class="value" id="openInterest">-</div><div class="sub">Open Interest</div></div>
</div>
<div class="long-short-bar"><div class="long-bar" id="longBar" style="width:50%">Î°± 50%</div><div class="short-bar" id="shortBar" style="width:50%">Ïàè 50%</div></div>
<table class="funding-table" id="fundingTable"></table>
</div>
<div class="analysis-content" id="cryptoAnalysis" style="margin-top:1.5rem;"></div>
</div>
</section>

<!-- ÏõêÏûêÏû¨ Î∂ÑÏÑù -->
<section class="section" id="commoditiesSection">
<div class="section-header" onclick="toggleSection('commoditiesSection')">
<h2 class="section-title">ü•á ÏõêÏûêÏû¨ Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="analysis-content" id="commoditiesAnalysis"></div>
</div>
</section>

<!-- Íµ≠ÎÇ¥ Ï¶ùÏãú Î∂ÑÏÑù -->
<section class="section" id="krSection">
<div class="section-header" onclick="toggleSection('krSection')">
<h2 class="section-title green">üá∞üá∑ Íµ≠ÎÇ¥ Ï¶ùÏãú Î∂ÑÏÑù</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="heatmap-container" id="kospiHeatmapContainer">
<div class="tradingview-widget-container"><div class="tradingview-widget-container__widget"></div></div>
</div>
<table class="table" style="margin-bottom:1.5rem;">
<thead><tr><th>ÏßÄÏàò</th><th>09:30 Í∏∞Ï§ÄÍ∞Ä</th><th>Îì±ÎùΩÎ•†</th></tr></thead>
<tbody id="krTable"></tbody>
</table>
<div class="analysis-content" id="koreaMarketAnalysis"></div>
</div>
</section>

<!-- Ìà¨Ïûê Ï†ÑÎûµ -->
<section class="section" id="strategySection">
<div class="section-header" onclick="toggleSection('strategySection')">
<h2 class="section-title red">üí° Ìà¨Ïûê Ï†ÑÎûµ</h2>
<span class="toggle-btn">‚ñ≤</span>
</div>
<div class="section-content">
<div class="analysis-content" id="strategyAnalysis"></div>
</div>
</section>

</main>

<footer class="footer">
<p>‚ö†Ô∏è Î≥∏ Ï†ïÎ≥¥Îäî Ìà¨Ïûê Í∂åÏú†Í∞Ä ÏïÑÎãàÎ©∞, Ìà¨Ïûê ÌåêÎã®Ïùò Ï±ÖÏûÑÏùÄ Î≥∏Ïù∏ÏóêÍ≤å ÏûàÏäµÎãàÎã§.</p>
<p style="margin-top:0.5rem">¬© 2026 AI ÎßàÏºì ÎåÄÏãúÎ≥¥Îìú ¬∑ Powered by Claude AI</p>
</footer>
</div>

<!-- Î™®Îã¨ -->
<div class="modal-overlay" id="calendarModal">
<div class="modal">
<div class="modal-header">
<h3 id="modalTitle">‚≠ê‚≠ê‚≠ê Í≤ΩÏ†úÏßÄÌëú ÏÉÅÏÑ∏</h3>
<button class="modal-close" onclick="closeModal()">&times;</button>
</div>
<div class="modal-body">
<div class="modal-meta">
<div class="modal-meta-item"><span>ÏãúÍ∞Ñ(KST)</span><strong id="modalTime">-</strong></div>
<div class="modal-meta-item"><span>ÏòàÏ∏°</span><strong id="modalForecast">-</strong></div>
<div class="modal-meta-item"><span>Ïù¥Ï†Ñ</span><strong id="modalPrevious">-</strong></div>
</div>
<div class="modal-section"><h4>üìä ÏßÄÌëú ÏÑ§Î™Ö</h4><p id="modalDesc">-</p></div>
<div class="modal-section"><h4>üéØ ÏòàÏ∏°Ïπò Ìï¥ÏÑù</h4><p id="modalInterpret">-</p></div>
<div class="modal-section">
<h4>üìà ÏãúÎÇòÎ¶¨Ïò§ Î∂ÑÏÑù</h4>
<div class="scenario-box bullish"><div class="scenario-label">üü¢ ÏòàÏ∏°Ïπò ÏÉÅÌöå Ïãú</div><div id="modalBullish">-</div></div>
<div class="scenario-box bearish"><div class="scenario-label">üî¥ ÏòàÏ∏°Ïπò ÌïòÌöå Ïãú</div><div id="modalBearish">-</div></div>
</div>
<div class="modal-section"><h4>‚≠ê Ï§ëÏöîÎèÑÍ∞Ä ÎÜíÏùÄ Ïù¥Ïú†</h4><p id="modalWhy">-</p></div>
</div>
</div>
</div>

<script>eval(decodeURIComponent(escape(atob("CmNvbnN0IEVOQ1JZUFRFRF9EQVRBID0gIlNCWk1RRkFsUjFGZGIxVXdFUTRaRWdaMEFRTFN0YkJrQXdYVnE2QmtBQVhWclloa0FnY0RCUVZrZUdkdEVoaGtFVUZKVkZVd1ZsQm1SRjBwVmtkTlVWazBFUTRaRWdaMEFRSVVBQVZwQUFWdEFRZCtCZ1VEQUFKcUFRTU9BUVozR0FRQUNnUjBFUmdaRWxjMlNrUk5YeForRTI5Q0VrYzlYbFpXWEJaK0V4WjdaSGRtSHhRYlhsVXBWaFlERUJhdmlyRFV1b3lvanFEVnJZeG1IeFFiUUVZdFVGRWJDaFI4QUF3T0JoaGtFVmRSVVZvalZoWURFQVZxQVFKRUhCUS9FVWRBWFZZclh4WURFQllCWjN3YkhCUm1YVlZVVlJaK0V4YlZyWUN2dnFEU2xwaW9xTFFiSEJSbVEwWlFVMUZtQ1JRTEJnMTJIUVFCSEJSbVVGeFlYbE1oRVE0WkhRWnFBUWRFSEJRL0VVZEFYVllyWHhZREVCWWNZV1FiSEJSbVhWVlVWUlorRXhiU2xwaXBwN2diSEJSbVEwWlFVMUZtQ1JRSUhnTndIeFFiVTF3bFhWTmNFZzVrSGdVWEJBWTVIeFJDRWtjOVhsWldYQlorRXhacWYzaG1IeFFiWGxVcFZoWURFQmFvdGFEU3JZaXZzYXdiSEJSbVEwWlFVMUZtQ1JRSUFReHFBQmdaRWxjc1VscGVWUlorRXdZWEJRVTVIeFJDRWtjOVhsWldYQlorRXhaN2ZuWm1IeFFiWGxVcFZoWURFQllHZlhZYkhCUm1RMFpRVTFGbUNSUUJCUVJxQ3dJVkVCWW5XMVZYVjFGbUNSUUpIZ1YzVGhnWlN4WTNTbGxiWDFobUNSUWJkSHNEZGhZVkVCWXFVbGxjRWc1a0VkKzJ0TmpqczlpRXBOalppeFlWRUJZMFFWMWFWUlorRXdRWEFRVm9FeFphV0ZVcVZGRWJDaFJwQXhvSkJra1pIeFFiVmxFbFFXdGVRbEVoVnhZREVFOW1SVlZWUlZGbUNSUUxBQmhrRVZoWVVsRW9FUTRaRW5FOFIwWmNYVkZrZFZGWVFoWTVIeFFiUlVjYldscGRXVmNoUUJZREVHOC9FVjljU1JaK0V4WktRQUYwQXhZVkVCWXFVbGxjRWc1a0VXY2ZZQlJ4QXdRYkhCUm1RMFpRVTFGbUNSUVBDUWQ5SFFRS0hCUm1VRnhZWGxNaEVRNFpIUVJxQndkRUhCUS9FVjljU1JaK0V4WmRYME5tSHhRYlhsVXBWaFlERUJhdnVKRFZxb1Nva29EVnVwQm1IeFFiUUVZdFVGRWJDaFJ3Q3d3QUFocHdCQmdaRWxjc1VscGVWUlorRXhrSkhnZHlUaGdaU3hZdlZrMGJDaFJtWFZWS1ZGVTFFUmdaRWxvbFhsRWJDaFJtMkxhaDNMN2cyTCtjRWhoa0VVUkxXVmNoRVE0WkFnZHdCUVVYQ0Fab0V4WmFXRlVxVkZFYkNoUnBBeG9BQkVsb0UwOGJXMUU5RVE0WkVsb2xRRkJZUVFWMEF4WVZFQllxVWxsY0VnNWtFZCs3cU5qT2w5K3lsUVYwQXhZVkVCWTBRVjFhVlJaK0V3WU1CUUYySFFjQUhCUm1VRnhZWGxNaEVRNFpIUVZxQVF4RUhCUS9FVjljU1JaK0V4WlBXVXhtSHhRYlhsVXBWaFlERUJZU2Vtd2JIQlJtUTBaUVUxRm1DUlFJQnhwMEFoZ1pFbGNzVWxwZVZSWitFd1FYQndNNUh4UkNFbDhoU2hZREVCWWpYRmhkRWhoa0VWcFlYVkZtQ1JRYjJvZnMyS2VsRWhoa0VVUkxXVmNoRVE0WkJRUnlCQm9NSEJSbVVGeFlYbE1oRVE0WkhRRnFBQU5FSEJRL0VWOWNTUlorRXhaS1dWZ3lWa1liSEJSbVhWVlVWUlorRXhiVnJiUm1IeFFiUUVZdFVGRWJDaFI5Q3hvTUhCUm1VRnhZWGxNaEVRNFpIUVYzSFEwTFRSaGtTQlpTVlUxbUNSUWJSMEF0RVJnWkVsb2xYbEViQ2hSbVpHQndFTmpZazk2SnNCWm9FeFpKUWwwblZoWURFQUp4SFFFTUhCUm1VRnhZWGxNaEVRNFpBQnAyVGhnWlN4WXZWazBiQ2hSbVYweEFFaGhrRVZwWVhWRm1DUlFiMjcvbzJLdVYzS244MkxtSTNMN2dFUmdaRWtRMldsZGNFZzVrQ2dNWEFRRm9FeFphV0ZVcVZGRWJDaFIwSFFVUFRSaGtTQlpTVlUxbUNSUWJSVWNnV0VaT0VoaGtFVnBZWFZGbUNSUWIzSy9VSE4reW5OL2JueFlWRUJZMFFWMWFWUlorRXdVTkJBRnFBZ01WRUJZblcxVlhWMUZtQ1JRSUhnUjhUaGdaU3hZdlZrMGJDaFJtUmtjSUFFMW1IeFFiWGxVcFZoWURFQmF2bkl6VGhabGtBZ1RTdGJDdm40Z1oyb3pNMkpLVkVoaGtFVVJMV1ZjaEVRNFpCQnAyQmhnWkVsY3NVbHBlVlJaK0V3UVhCUVk1YmhnWkVsODJiRjFYVkYwblZrY2JDaFFmU0JaU1ZVMW1DUlFiVzFzM1ExMGJIQlJtWFZWVVZSWitFeGJWamFDb3VaRFVwSWhtSHhRYlFFWXRVRkViQ2hSeEFRWU5IZ2R5SHhRYlUxd2xYVk5jRWc1a0F4b0pCa2xvRTA4YlcxRTlFUTRaRWw4clFGQllRUlpvRXhaWFVWa2hFUTRaRXRqNXA5aXpsTi9QbGhZVkVCWTBRVjFhVlJaK0V3VUlCQTFxQndBVkVCWW5XMVZYVjFGbUNSUUlIZ0E1YmhnWkVsWXdVR3RSV1Vjd1hFWkFFZzVrU0JaVlVWWWhYMGNiQ2hRZkVRUUlId1oyRVJnWkVnUjFIQVlLRWhoa0VRUUlId1p3RVJnWkVnUjFIQVlNRWhoa0VRUUlId1p5RVJnWkVnUjFIQVlPRWhoa0VRUUlId1o4RVJnWkVnUjFIQVlBRWhoa0VRUUlId2QwRVJnWkVnUjFIQWNJRWhoa0VRUUlId2QxRVdrVkVCWTBRVjFhVlVkbUNSUmlDQTEzQmdBWEFCaGtDdzBOQkFkcUF4Z1pDQTF3QWdZWEFCaGtDdzBJQndWcUF4Z1pDQUp4Qnd3WEFCaGtDd3dLQUF4cUF4Z1pDQTEyQXdBWEFCaGtDdzBJQmdacUF4Z1pDQUJ4QkFRWEFCaGtDd0FJQkFacUF4Z1pDQWQ4Q2djWEFHazVIeFFiVlZjclhWdFVXVmNiVUZWVlZWb2dVa1liQ2hRZmJoZ1pFbEl4UjBGTFZVY2JWMVZOVVJaK0UwOGJYRnNxVkd0S1dGczJSMnRMVVVBdFhCWURFRm94WDFnVkVCWWlSbHBkV1ZvamJFWllSRkZtQ1JSWFJWZ29IeFFiWDBRaFhXdFFYa0FoUVZGS1JCWitFMXBNWEZob0V4WmZSVm9nV2xwZWIwWWxSMUZLRWc1a2FHbEVIQlJtVWxwWVhFMDNXa2NiQ2hRL0VWdFhWV3NvV2xwY1FoWitFeFlKQWRqZnB4UUtBZGpaanhSRkVOYlp0OXVCdnhTdWhJM1Z1NWlwcHFnWjJvZngzcnVWM0wvbzJKS1YzSzNFRTltOHZObkZuOWlhakJTb3BvblZ0SXl2a3FnWjNML1kzNnFjRU5qa3Q5K0pxQlNvcjdEVmhxRm1IeFFiUlVjYlhsVkxXMUV3RVE0WkVnZ3NCd3JKcjZmT0U5NkJ1TmpaanhUU240eXVocGtaM0pMWjM3K2xFTm5jdDltZ21RaHJXd0FIYkZwNFF3clRpTHlvcm9nWjI1djgyWUdVRU5qaXJ0aXlyTi9PcHhUVmtMQ3ZnNnpWa0xXb3I0alNrYWhrM3FHaDI2bjUzN0NCMjVINEU5K0toTmpaaDk2S2tCU29yYnpWdW9HdnVMelN1NUJxRTJjZllCUnhBd1RWcmJSa0JSZ0FBdzFxQXdmVnJJaXZrcWdaM0pUQTM2bUYyN2pFMkkyOUVBUnFCd2NjRU5uUnE5K2tqZG5TdTlpbGpOL3RneGdaMjdiYzM3NmQyNy9oMzZtNUVBWjNId0FQQVJwOEFkK1lyQlIwSFEwTkZSU3BwcXpTclltcHBielZ1b0d2dUx6U3U1QnFFOW16aWRuYXV4VFNzcXlvdVpEU3U1RjFBd1RWcmJSa0FRRVZCUUYySFFjQTI1WFlFd1VYQWd4aEU5NkJ1ZC9aanRtc3FOalRueFRUaUlTb3U1VFZrNGhrMzVDbzNML28zNm1oRU5qbGc5aVpwZGpaaHhUVnJZQ29wWURWbDdTdWdKUVozS3JNMzc2TTI3L00yTCtkSGhTdnVKRFZxb1Nva29EVnVwQ3Z1YUFaQkF4b0N3MExIZ0J6MkpXbEVOakhzdCsxc05qa3N0aWxqTi9scnhUVnRyaXB2Sm5Wcll4a0F4b0tCaEZrM3FHaDI2bjUzNk9wRU43emk5aUtsTmpPaHQreXVOL1BseG9aMjRmRTJMdWczTEQxRTlpZXNOak1xOWlraUJRU2VtelN1cUJrQWdNWEFBV3ZrcWdaQUJwekJCRVozTGZGMzc2QTNhSGMySjJKRU5qUHI5aW5sUlN2aGJ6VnBieXVnNlRWcllCazJMK2QzTExJRTlpZnJkNzBzOW12dU5qWWo5K1FnQmhrQWdUU3RiQ3ZuNGdaMm96TTJKS1YyNzdRRXdBWEFnRmhIeFRTdTVpdnJKalZyWXl2dm9YVnVwQ3Z1YUFaQ1FOcUFnSFNsWWhrMll5SjI1WFozcUdoMm9ma0U5aW51TmpPaHQreXVOL1BseG9GSDBSNmIxcGxYZ2dzQndySnI2Zk1FOWk5aWRuQWc5K0t0QlN2dkszVXBwRjRIRndORG1ncUQwUUgzS3pnMkw2aEVONzhnOWl4a05qbmo5NkpzQlN1ZzdUVnJwRmszcldKRU5uSHM5NkxtZGpadHhUU2dLK29yNGpTbVlSazJMYWgzTDdnMkwrYzNLbmNFOW1zcU4vWmp0aWt0QlNva0lqU3Y3Q3BwcXpUZzVSazM2cXgzTDd4MkwreDI3L2dIUlRTZ0t5dnZMRFZnb0JrMzdDQTNiRDAzNk9wM0xEWUU5aXVwTi85dDkrdHBOalJ0OTZKc0JSMkhRVWNFTm5ScTkra2pkblN1OWlsak4vdGd4Z1pjWGtBMkx1OUVBVnFDeEVaMm96TjJLbUUzYUxNMzc2TTI3L00yTCtkSGhTdmlySFV0Ymlwc3BnWjNKRFYzNk9wM0xEWTJMNnRFTmpSazltdHZOalpoeFFJSGdGaEh4VFNsN3lvcm9EVXNaaXZrcWpWdHJpcHA3RFV1b3l1ZzdRWkFScDJGaFRVcGF5dnJvblVwYXl2bW9RWjNLSDUzN0NCMjVINEU5K0toTmpjczlpemhkL1B1OSt5bEJwazJJU2gyNTN3RTlpdW9OL0F1OWllc0JTb3Q0M1V0SVN2dWFBWjNMZkYyTGk1M0pURjM2aUYyNVhZRTk2TG5OamxnOW1zckJTdm1aelZ1b0dvcnJBWjI0ZnczNm1OMjUzMEU5aXVvZGpDbzkrVG1OLzl2OWlraEJSMEhRd2NFTmpIc3RpemlkblN1OWl6aGQvUHU5K3lsQnBrMll5eDNLangzNWVGMjZmZzM2bTVFTm5jajlpWWdOakFpOStjakJTdnNhelVzN1N2c1lEU21ZUmtlV1RTbXB5dWdvRFZyWUJrQXhvS0ZSU3BwcXpTclltcHBxZ1oyNFRjMkoyTkVOLzF0dG00bk5qY2w5K0J2TmpSdDkrUXBOL2luOWlBaE4vT3B4UUpIZ1poRTlpNnNkak9pdG12dU5qT2h0K3l1Ti9QbHhvRkgwUjZiMXBsWGdnc0J3cmJxcFZrMll5eDNLbjRFOWlhak5qZXB4VFZyWUNvdWJ3RkgxeHdEV2hYREVSNjM2eWQyNzdjRTlpeXJOamFsdGlrcUJTcHBvSFZ1NWhrMzZtTjNMN00yTDZ0RU5qVGc5aWRzTmpacXhUVXRvR3BxcURWa0tHb2dyRVoyNExNM3EyczNML2czN0NJM0tyQjJMK3gyNy9nSFJUVmhhaXVoSWdaM0tuODNxQzEyNVRNMzZtTjNMSGNFOWllc05uVnI5NkpzQlNvcTd6VnM3V3ZnSURTdTVCazJMS3Iyb2JJRTkrN3FOamNsOStRaE5qQXJ4VFRpTHl2bFpnWjNLbjgzcUdoRU43OGc5KzFzTjcwbzlpa2hCU29yN0RWaHFHdm82elRnNVJrMzZxeDNLTHdFOWk5Z2RqYWx0aWFqQlNvbDZYVnU1aW9ycXdaMjVQZzJMdTkzTEQ4MllTNUVOL0dxOW02c04vR3E5NktrQlNvcmJ6VnVvR3Z1THpTdTVCcUU5K2hvTm5ScnhUVmxLV3VocG5UZzRpb3Jxd1oyNWp3MzZPVUVON3dzOStabUJTdWk0RFZycEd1ZzZUVnJZQmszNnFWMjRMRTM3ZTQzYUhjMkoyTjNMRFlFOTZCc04vbHI5K0x2QlN1Z0lIVGlMMnZsS25WcDZSazM2bWgzSlh3Mkx1OTJvVEVFOSsvb3RqWnN4VFRpSVNvdTVUVms0aXZvSkRWcllCazNyNkEzYXJNRTkrUHNOL1BoOWlrdEJTdmc2L1RnNVJrMzZxeDNMN3gyTCt4MjcvZ0hSVFZwYkNvcVl6U3I1aGsySUs5Mm96MEU5aXlsTmprc2hUU2dLaXBvcWdaM0wvWTM1SzEzS25BRTlpc3J0L1ZvOTZLa0JTb3JvalNoclJrMll5SjNLUEIyS2VkM0tuY0U5NkpzTmpaaDkrMHFOak9seFRVcGF5cHBaRVozSlgwMzVTc0VOamVnOStabE43MHN4VFZ1NmlvclpFWjNML28ySktWMjVINEU5aWx0Tmp5cHRpeXJObkdsOTZLa0JTb3JielZwb0JrMkwrUjJvejAzNVM0M0tqNDJKV2xFTi8zczkrMnFkakFndGlraEJTb2xMVFZ0cm12bzVRWjJvYkgzNmlGMjVYWUU5aWh1TmpIc3QrcG1kL1B1OSt5bEJwNEhFUUhFaGhrRVZkTFNVUXdYQllERUJaNFd3QUh3S3ZRaFJUVGlMeW9yb2daMjQzQTNyNkIzSW5RMzZtQkVObmN0OW1nbVFocld3QUhiRnA0UXdyVGlMeW9yb2daMjQzQTNyNkIzSW5RMzZtQjNLbkVFeEFCQXhoOEJBTFZwNlNvdDZnWjJvWDAyS3FoMjZUYzJKMkpFTmprdDlpa2pOL0lzOStBdEJSdkFob0xCaEdvcnF3WjNMZkYzNzZBM0xEODJKR0ZFTi8zaDlpa2hONzNreFRWcnJ5b3VZSFN1N3l2dUpBWEVCQjhCeGdKQUFSazJZT0YzSWJjMzZPcDNMRFlFOWlac05uUm50aWt0QlN2ZzYvVGc1UmszNnF4M0tqNDJKMkpIQlNwcHF6U2dKMWszNU81M0pQRTM3Q1ozS25FRXhBQkFoaHhBd1FaM0x6YzM1QzUzS2o0MkpXbEVObklvOSt5bU4vVW10K3l1Ti9QbHhvWjNhekEzNnFWRU43MHM5NkxtUlNvdTZ6VmxMU29wS1RWdEtoazNxNlkyNGZ3M3FHaDI1MzBFOStKbWRuU2x0aTlnZGpadHhUU21weW9zTDNVcGF5dnVhQVoyb0hvMllTOTNLajQySldsRU4vM2g5aW50ZC9QdTkreWxCcDRIRVFIYkZvWVhRaFJCQXEwckxpeEVONzh1OWlrakJTb3ByalV1b3lvanFEVnJZeGsyTHVnM2FMaER4dFJCQW9ZWFFoSkR0alJ2OW16aU5qNXA5aWtpQlNvdUtqVnJwR29yclFaM2F6NDM1V0ozTEQ4MkpHRkVOL0dxOW02c04vR2g5NktrQlNvcmJ6VnVvR3Z1THpTdTVCcUU5aWtoTi9KcDkrZm5OamZzOWlrc0JSZ0FSZ1BDUVpxQXd6U2thaGszNVM5M0tuNDJMaTUyNDNBRXhrTEhnWjNGaFRVcGF5dnJvblVwYXl2bW9RWjNLSDUzN0NCMjVINEU5K0toTmpaaDk2S2tCU29yYnpUZzVSb0U5aS9wTi9aajkrN3FOL09weFFkQVFWOEhRZlZwNlNvdDZnWkd3WnFCZ1VjRU5qSHN0aXppZG5ScTkrUWdCU3VnNkhWdEl5dmxvZ1ozS2prMzVPNTNhSGMyWWVaRU5qYXU5aXpoZC9QdTkreWxCcGsySktWM2FESTM2bTVFQkIxSFFNTjI1WFlFeGtJSGdCMkZoVFZ0cmlwdkprWjNhSGMyS21FM2FIWUU5aTZzZG5IcjlpbnRkL1B1OSt5bEJwNEhFUUhiRm9ZWFFoUkJBcTByS2V3RU43OHU5aWtqQlNvdDVUU25JaGszNytsM0tyaER4dFJCQW9ZWFFoSkR0NzNodG0ybk5uSG85aWpwZGpqczlpeHFONzBzeFFMQU5qWnR4VFRpSVN2a3FuVXBheXZtb1FaMm9QOTJMdTkzS25jRTk2S2hkbkxueFRWczdXcHNLalNsWWhrMkxhaDNiZkUyTGFOMm9ma0U5aW51TmpTaHhUVnU2aW9yWkVaM0wvbzJKS1Yyb1RFRTkrZWxOamVneFRTaHJTb2s2SFZrTFdvcmJIU3U3eXZ1SkFYRUhZUWNCVFV2clN2cDUzU2liQ3VnN1FaQUJwMEF3UUpGZC9scnhUVmxLV3ZsWW5Wa0xXb3JvRFNtWVJvRTkrV2lONzJnOWlack5qUmp0aVpwZGpaaHhRSkVIWVFjTitZckJTcG9xalZ1Nml2bzZ6VnBvQmszN0NaMjVqNEU5NklnTi9hcTkrbXVkalpoeFRWa0tpcHBxalZrTFdvcm93WjNMZkYzcTJRM0tyQjJMK3gyNy9nSFJUU3U1eXVpNFRWa0xXb3I0alNrYWl2dWFBWjI0ZkUyTHVnM0xEMUU5aVBwZGpDdnhUVGhaaXVnN0RWcklpdmtxZ1ozS3pNMzdlNDI2VHQyTCt4MjcvZ0hRZ1dRQXBtSHhRYlUxc3BYbHRkV1VBdFZrY2JDaFJtRDF3TkRzVGJsck1aMm96TTM2bUZFTjc4dXh4K1gxZ2dHaFRVcUxDcHFwMEZIMXh3RFdoWERFUjYyWXl4RU5uY3Q5aW5uTjcwc3hRZEJSaDBCUU1YQmQvbHJ4VFZrTENvcm9qU3ZMU3ZpckFaSFFGcUFBTWNFTjc4dXQra2pkakFpOStjakJTdmdJRFZyWUN1Z0pRWjNLck0zNzZNMjcvTTJMK2RIaFN2dUpqU3I1aW9yb3pTdllXb3VaQVpDUU5xQWdIVnFiUmsySnVCMm9IcEV3VUoyN0hBMkppRkVONzh1OStmbkJSd0hRWU1GUlNvdTZ6VmxMU29wS1RWdEtoazJZeXgzS1BVRTkrMXNOblJyeFRTbDVDdms1SFN2N0N1ZzdRWjJvVFUzN0sxM2FIYzJKMkpFTm5Nbjlpbm9OamFvOStxbE5qWnF4VFNsNUN2dkxBWjNLSFIySlNjM0tud0U5aWVvZGpnb3QrcHFONzNreFRWcnJ5dnVhQVozTGZGM3EyUTNLckIyTCt4MjcvZ0hRZ1dRQW9ZWFdoWERGeHdEY1NtbGJ4azJZeXgzS240RTlpa3NCdW9xS1RWckpSazNxeTkzYTN0RHh0UkJBb1lYUWhKRHRqWnM5aWtzQlJnQ2d3WEJkL2xyeFRWa0xDb3JvalN2TFN2aXJBWkhRVjNIUTBMRlJTcHZKblNyWW1wcHF6U21ZUmsyWXl4MjRmdzJMK2RFTi9KcHhUVXNZUmszcUdoMjZuNTNydVUzS25BRTk2QmdOL2xydG12dU5qT2h0K3l1Ti9QbHhvWjI0VGMySjJORUdNUWVoVFZxNlNvcjVUU3VxQmtGd0lNSGdGeDJKV2xFTmprdDlpa2pOL0lzOStBdEJSdkF4b0xBQkZrMzdLMTNidnBFOWk2c2RqT2l0bXNxTi90Z3hUVnM3V3Z2N1RWa0xXb3I0alNrYWhrMzZHeDNKVFIzNVM0M0tuOEU5K1RtTmpPaHRpa3RCU3ZnSURWcllDdWdKUVozS3JNMzc2TTI3L00yTCtkSGdoclF3cGxYbWdxRDF3TkR0YmVraFRUaUx5b3JvZ1ozSmY0MzY2dEVOalpoOWl6dUFocld3QUhiRnA0UXdyVGlMeW9yb2daM0svVTM2cXAzS3JvRTlpeXJOamFsdGl1b05qQXI5K3pwQlN1aExUVGlMeW90YmtaM0pUQTJJU2gzS25jRTk2QnVkL1pqdGlraEJTb2tJalZxcUJrMzZtTjNMN00ySldsRU4veXM5NkpzZC9VcTk2S2tCU29yYnpWdW9HdnVMelN1NUJxRTkrV2lON3huaFRUaUx5dmxaZ1ozSlRSMzRXOEVOL3l1OW1ncGRqUGw5aTlnZDczanhUU3U1aXZySmdaMm9UUjM3Q0Iyb1RFRTlpZXNOakN2dCtwcU4vdGg5aTlyQlNvcHJ6VmtMQ29yYVRWc29Tb3I0alNrYWlvdDZqVnJheGsyWXl4Mm9mNEU5aWtzTmpacXhUU2w1Q3ZrNUhTdjdDdWc3UVozYlhvMllhMUVONzBvOWkvdk5uUnJ4VFRncmVvcjRqU2thaGsySUs5M0xEWjJLU1EyNy9NMkwrZEhoU3B1WTNVcnJ4azM2bTUzS25jRTk2TGpkamVneFRWc29Tb3BMSFZxcDFrMzd5aDNLN1FFOStvcE5uZHB4VFZxb1N2azVEVGliaW9sTFFaMm9iOTM0MmgyNTN3MzdDbEVOL1ZveFRWcnFTdmxZdlZ1S3hrM3FHaDI2bjUySkdaM0tuQUU5NkJnTi9scnRtc3FONzNreFRWcnJ5b3VZSFN1N3l2dUpBWERCczBEUllWRUJZdlhFWmNVV3NwVWtaU1ZVQm1DUlFiREZ4d0RjU210NFMwckxPT0VONzh1OWlrakJTb2pxRFZ1cENwcDRnVzNJblEzNzZkMjcvaEU5bWh0Tm5kbWdnV1dBQjZiMW9GUUFxdWk3elZyWWhrMzRtdDNMN2czcUNGMjc3UUV3RVZBZ1p3SFFjUFFFQ3ZrcWdaM0pUQTM2bUYyN2pFMkkyOUVCOTBIUVFQRlJTb3RialV2NWxrMzdlNDNMNzkzcUdoMjUzMEU5K0toTm5SbXQ2UHZOalRvOWk5ckJTdWdvVFNycXl2bzZ6VGc1UmszNnF4M0w3eDJMK3gyNy9nSFJUVmphQ291WkRTdTVHb3JyUVpBUmgxQncwWEJBQTBSOStZckJSdkFob05BQkZrMzdlNDNMNzkzcUdoMjUzMEU5aTZzZC9JczlpWnNkallqOStZckJTdWc2SFZ0SXl2bG9nWjI0ZnczNm1OMm9ma0U5aW51TmpPaHQreXVOL1BseG9aM0svVUhOK3luTi9ibnhUVXFheW9yNXpWcmJSa0FoZ05CQUZxQWdQVnE2U29yckFaMm96MDJKV2szYUhjMkoySkVOak1xOWlQck5qbmo5aXVvQlNvcTdYVXBwR29yckFaMjV2ODM0Mmgyb2ZrRTlpbnVOak9odCt5dU4vUGx4b0ZIMFI2YjFwbFhnZ3NCd3JKcjZiMEU5NkJ1TmpaanhUVnFZeXVocG5Wcll4cjJZeUoyb0RFRTlpeHFONzh1Z2dXV0FCNmIxb0ZRQXFvcW96VGhabW9yb3daM2J6bzM2cXAzS3JVMktlZDNLbkVFOTZCdU5qWmp4VFZqYUNvdVpEVXBJaW9wS1RWdEtoazJKT2QzTHpjMzdDQjI1SDRFOStLaE5qWmg5NktrQlNvcmJ6VnJJaXZtb1FWRU5uT2l0bW51QlN1aTRUVnVKU29rSWdaM0pEVjM3K1YzS2o0MkpXbEVOak1yOStlbE5qTXE5K2NqQlN1aTRUU2thbXBwcXpUZzVSazM2cXgzTDd4MkwreDI3L2dIUlRUaUlTdWg3VFV1SmlvcmFUVnJxU3ZvSkRWcmJSazM0bXQzTDdnMkwrY0VOalByOWlubGRqVG85aTlyQlNvazdYVGg0Mm9rN1hWcll4azJKT2QzTHpjMzdDQjI1SDRFOSs3cU5uSHM5KzdoTi90Z3hUVmxLV290YmpVcUtHb2tJalZwNlJrMkxpNTNhSFlFOTZOc05qUG45aWt0QlN2dGFiVnJZQ3VnSlFaM0tyTTM3Nk0yNy9NMkwrZEhnaHJRd3BsWG1ncUQxd05Ec1Rib0w0WjJvek0zNm1GRU5qVHR0aWJ0ZC8zdHhUU3Y2MnBwWkVGSDF4d0RXaFhERVI2MklTaDI3dkEzNGFOM0tQQjM1YTgzS25FRTk2QnVOalpqeFRVcUlpb2tvVFZ0SXl2bG9nWjI0ZnczNm1OMjUzMEU5NkpyTi8zdDlpYnRkL3VtdCtLdEJTb2c1elNnN0NwcXFEVGdMUmsyTGFoM2JmRTJMYWgyb2ZrRTlpbnVOak9odCt5dU4vUGx4b1pBdGowbTlpWnROampzeFRUaExTdms1elZrNGl2b0pEVnJiUmszNVM5Mm96MDM0U1JFTmpNcTlpanBCU3VpNFRTdkxTdWc2VFZySWl2a3FnWjJvVFIzN0NCMjVINEU5aWVzTmpDdnRtc3FONzNreFRWcnJ5b3I0alNtWVJvRTkrSnBOalpoOWlobE5qVHR0aWJ0ZGpac3hUVnU1U29wb2taMm9UWTJJU2xFTmpDdjlpeXJkNzNqeFRVcFp5dWlLd1ozTGZGMzc2QTNMRDgySkdGRU4vM2g5aWtoTjcza3hUVnJyeW91WUhTdTd5dnVKQVhFSDBRMzdDbDI0M0EzNzZkM0szRUU5Nkx2TmphdDlpYWpOL1hsOWlraEJTb2pxRFZ1cEN2dUpFWjNMZkYzNzZBM0tuQUU5aWFqTi9MdDltc3FONzNreFRWcnJ5b3VZSFN1N3l2dUpBWERCczBEUllWRUJZM1IwWllSRkVqU2hZREVCWjRXd0FId0t2WHRoVFRpTHlvcm9nWjNML1kzNnFjRU5qa3Q5K2VyUWhyV3dBSGJGcDRRd3JUaUx5b3JvZ1ozTC9ZMzZxYzNLbkVFOW1oak5qbGc5aTlpTi9oanhUU2c0Q29yb0RUZzVSazM2cXgzTDd4MkwreDI3L2dIUlJ2ZVd4a0FnTVhBQVdvcnJRWjI0ZkUyTHVnM0xEMTM2bU5FTi9QbDlpL3ZCU29zTFhWdW8ycHBxZ1ozTHpjMzVDNTNLbncySjJKSEJTdWdJSFV2NWlwc0tUVnFxR29sTFRWdUt4a0FRVFZyYlJrMllPQTI3dkEyWWVNM2J2b0U5Nk1uTjcwdDlpbGpOL2xyeFRVdUppb3JhVFZ1NWl2bFpqVGdMUmszNmk5M0lMUjJLU2xFTmpIc3RtNnJOamF0dCt5dU4vUGx4b1oyNDNBM3I2QjNJblEzNm1CM0tud0V4QUJBeGg4QkFMVnJJaXZrcWdaR3dWcUFRSWNFTmpIc3RpemlkblJxOStRZ0JTdmxaalZ1cENwc3BqVnFKeGszNnFwM0xiMEU5aWRvUlNvcjVUVnJZaXBwcXpUZ3JoazJZU3MzTEQ4MkpHRkVOLzNoOWlraE4vT3B4VFNnS3l2bW9BVkVOL0dxOWl6bE4vUGxnVUpBTmpac3hRTEJSaHhCZ1lYQXcydmtxZ1pIUVZxQVF3Y0VOblJxOStramRuU3U5aXpoZC9QdTkreWxCcGszcjZBM2FyTUU5NkttTi9Ycjk2SnNCUmdCaGdKQmdOcUJ0K1lyQlJwQmhvS0J4RmsyWXl3MjZuNTNxR2xFTjcyc05pa3NCU3Z1SmpTcjVpdWc2SFZ0SXlvcXJRWjNML2cySmlGM0tyVTM3YUpFTi9qbDkrMnRCU29wcUhTa0pHb3JyQVozTC9ZMzdhVjNhSHQyTCt4MjcvZ0hSVFZqYUNvdVpEVXBJaGtCaGdMQWdCcUFBSVpHQjkwSFFRUEZSMm9yclFaM0xmRjJMaTUzSlRGMzZpRjI1WFlFOWlzdU5qa3B0aTlpTi9oanhUVnJKU29sTFRVcGF5dWdKUVozS3JNMzZLTkhCU3BwWkhVcTdCa0Foa0wzSmY0MllTOUVOLzNzOSsycWRqQWdoVFVxYUd2djdUVnFiUmszcUdSMm8vY0U5aTlrTi8zdDlpWnNSU29rNlhUaDRpb3JvQVozYUhBMzY2dDNhSFlFOWl5ck43OGc5K1lyQlNwdjZUU3U1eXZvNTNTdTd5dnVKQVhEQnMwRFdoWGJGcDRXd0FIMHE3azNJeTJFTjc4dTlpa2pCU29rSWpWcXFCazJKS1YzTDdnM3JXVkRCc3NCd3BsWGdnMERkaUxtOWpqaXhnWjI3L28yS3VWM0tuODJMbUkzTDdnRXcwT0hnVnhFOWl4cU5qZ3M5aXVvTmpBcjlpa3FCU3Z1SmpTcjVoazJZU3MzTEQ4MllTNUVOalBrOW1rbGQ3eG5oVFZycVNvc1lUVGc0aGszNitwM0tyVTM2cVZFTjcwczk2TG1kalRveFRWbDdTb3RiblZrTFdvcm93WjNLSFIySVNzM0tuQUU5NkpzTm5ScTk2S2tCU29yYnpWdW9HdnVMelN1NUJxRTkrb3FOamppeGdaMjdiYzM3NmQyNy9oQWdRSjNLbmNFeGtJSGdaOEZoVFVwYXl2cm9uVnJiUmsyWXlKM0x6azM1ZUZFTi8waTkrY3FOalRvOWlraE5qQnF4VFNoclN2dUlEVGc0aGsyWXl4MjVMb0U5aTZzZGpPaWhUVnFvU3ZrNURTbFloazJJU2gzS3pGM3FHaDJvZmtFOWludU5qU2h4VFZocUN1ZzdRWjNKWDAzNVNzRU43MHM5K3psZGpBZ3Rpa2hCU29yYnpWdW9HdnVMelN1NUJxRTlpOHU5amppeGdaMm9mczJLZWwzS25jRXhrTUhnZHpGaFRUaUwydnJvblZyYlJrMzZtQjNhREkySlN4M0tudzM3R2hFTm5UbDlpZXNCU291NnpWcXFCazJZU3AzTExJMzYyNUVOblJtOTZDcUJTb3ByelZrTENvcmFUVnNvUmszN0NaM2F6ODJMdTlFTi8zczltZ3BOL2hqeFRTc3F5cHNMVFNzb0N2bW9RVkVOalpoOSt6cEJTb2s3RFNnS3lvazdYVnJZeGsySktWM0w3ZzNyV1ZFTmphbzlpN2dCU29yWmpVdjcydWc3VFNrYWhrMzZtTjNLTHczNU94RU5qTXF4VFZycnlvdVlIU3U3eXZ1SkFYREJzMERXaFhiRnA0V3dBSHdLdldraFRUaUx5b3JvZ1ozSUxRMzRhbEVOamt0OStuaFFocld3QUhiRnA0UXdyU2liQ3B1WXpWamFDb3JvelZyYlJrRnd3S0hBeHpCUlRUaDRpb2dhelZwNlNvdDZnWjJvVFIzN0NCMjVINEU5K0toTmpaaDk2S2tCU29yYnpWcklpdnNhd1ZFQkI4QmhnSkFBUmszNVM1M2FIcDM3Q1pFTi9MdjltMXZCU29wSmpTaHJTdmxvZ1ozSmY0MzcrbDNhSGMySjJKRU4veXQ5bXNrQlN2bEpEVnVLeXZsb2daMm9MSTM2cWMzYUh0MkwreDI3L2dIUlRTc3F5b3VaRFN1NUYxQXdUVnJiUmtBUUVWQlFGMkU5aXhxTmpnczlpdW9OakFyeFRWaHFDdWc3UVozYUhjMkttRUVOalByeFFMQlJoMEF3VFZ0SlJrMllPRjNJYmMzNk9wM0xEWUU5K2VsTmpNcXhUVGlJU3BxYmpTbFloazJMR0IyNVRnMkllRkVOL2p2OW1zbWQvUHU5K3lsQnBrMlllUjI2ZlkyTDZ0RUJCeEh3UVBCOWpUbzlpOXJCU3VpNzNTcllsazNxKzlFQkJ4SHdRSkFCU29sTFRWbDdTb3Q1UVozYkhJMzc2ZDNiNzhFOTZKc04vT2x0aTlnZGpaaHhUU3RxYW9wckFaMjcvczJZeUpFTjd3czkrZXJkalpoeFRWa0xXb2s3elVwWjJ2dUx6U3U1QnFFOWlFcE5qT2w5bXRqTi9PcHhRTUhBWjJCeFRWdUt5b2w3VFZwNlNvdDZnWjNMZkYyTGk1M0pURkU5aXN1TmprcHRpOWlOL2hqeFRTZzRDb3JvRFRnNVJrMzZxeDNLTHdIeFFNSEFaMEF4VFZsN1NvbExUVnRKUmszNmlaM0pQRUU5aXlyQlNvcVlUU3I3Mm9rSWdaM0pEVjM3K1ZFTmpBazkrS3RCU3ZsSkRWdUt5dmxvZ1oyb2ZrMkpTZDNhSGMyS1NoSEJTcHE3RFRpTHhrMkkyOTNKRFYzNm05RU5uTHV0aS92Ti8zaDkreWxCU3Z0YWJUZ3JoazM2aVozSlBFM3FHWkVONzJzTmlrdEJTdWhialZycEdwcHAzU3U3eXZ1SkFYREJzMERSWkVUUT09IjsKCmxldCBkZWNyeXB0ZWREYXRhID0gbnVsbDsKbGV0IGN1cnJlbnRDaGFydCA9IG51bGw7CgpmdW5jdGlvbiBkZWNyeXB0KGVuY3J5cHRlZCwgcGFzc3dvcmQpIHsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgYmluYXJ5U3RyID0gYXRvYihlbmNyeXB0ZWQpOwogICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5U3RyLmxlbmd0aCk7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHIuY2hhckNvZGVBdChpKTsKICAgICAgICB9CiAgICAgICAgY29uc3Qga2V5Qnl0ZXMgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGtleUJ5dGVzLnB1c2gocGFzc3dvcmQuY2hhckNvZGVBdChpICUgcGFzc3dvcmQubGVuZ3RoKSk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGRlY3J5cHRlZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMubGVuZ3RoKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGRlY3J5cHRlZEJ5dGVzW2ldID0gYnl0ZXNbaV0gXiBrZXlCeXRlc1tpXTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTsKICAgICAgICBjb25zdCBqc29uU3RyID0gZGVjb2Rlci5kZWNvZGUoZGVjcnlwdGVkQnl0ZXMpOwogICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9CgpmdW5jdGlvbiBhdHRlbXB0TG9naW4oKSB7CiAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZElucHV0JykudmFsdWUudG9VcHBlckNhc2UoKTsKICAgIGNvbnN0IGVycm9yRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5FcnJvcicpOwogICAgCiAgICBpZiAoIXBhc3N3b3JkKSB7CiAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9ICfslZTtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqUJzsKICAgICAgICBlcnJvckVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgY29uc3QgZGF0YSA9IGRlY3J5cHQoRU5DUllQVEVEX0RBVEEsIHBhc3N3b3JkKTsKICAgIAogICAgaWYgKGRhdGEgJiYgZGF0YS5jcnlwdG8pIHsKICAgICAgICBkZWNyeXB0ZWREYXRhID0gZGF0YTsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdkYXNoYm9hcmRBdXRoJywgcGFzc3dvcmQpOwogICAgICAgIHNob3dEYXNoYm9hcmQoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZXJyb3JFbC50ZXh0Q29udGVudCA9ICfslZTtmLjqsIAg7Jis67CU66W07KeAIOyViuyKteuLiOuLpCc7CiAgICAgICAgZXJyb3JFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRJbnB1dCcpLnZhbHVlID0gJyc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkSW5wdXQnKS5mb2N1cygpOwogICAgfQp9CgpmdW5jdGlvbiBjaGVja1NhdmVkQXV0aCgpIHsKICAgIGNvbnN0IHNhdmVkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZGFzaGJvYXJkQXV0aCcpOwogICAgaWYgKHNhdmVkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IGRlY3J5cHQoRU5DUllQVEVEX0RBVEEsIHNhdmVkKTsKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNyeXB0bykgewogICAgICAgICAgICBkZWNyeXB0ZWREYXRhID0gZGF0YTsKICAgICAgICAgICAgc2hvd0Rhc2hib2FyZCgpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGxvZ291dCgpIHsKICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2Rhc2hib2FyZEF1dGgnKTsKICAgIGRlY3J5cHRlZERhdGEgPSBudWxsOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwp9CgpmdW5jdGlvbiBzaG93RGFzaGJvYXJkKCkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIHJlbmRlckFsbCgpOwp9CgpmdW5jdGlvbiB0b2dnbGVUaGVtZSgpIHsKICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5OwogICAgY29uc3QgY3VycmVudFRoZW1lID0gYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKTsKICAgIGlmIChjdXJyZW50VGhlbWUgPT09ICdsaWdodCcpIHsKICAgICAgICBib2R5LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS10aGVtZScpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsICdkYXJrJyk7CiAgICB9IGVsc2UgewogICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgJ2xpZ2h0Jyk7CiAgICB9CiAgICBpZiAoY3VycmVudENoYXJ0KSB1cGRhdGVDaGFydENvbG9ycygpOwp9CgpmdW5jdGlvbiBsb2FkVGhlbWUoKSB7CiAgICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpIHx8ICdkYXJrJzsKICAgIGlmIChzYXZlZCA9PT0gJ2xpZ2h0JykgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnLCAnbGlnaHQnKTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2hhcnRDb2xvcnMoKSB7CiAgICBjb25zdCBpc0xpZ2h0ID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKSA9PT0gJ2xpZ2h0JzsKICAgIGNvbnN0IHRleHRDb2xvciA9IGlzTGlnaHQgPyAnIzFhMWEyZScgOiAnI2ZmZic7CiAgICBjb25zdCBncmlkQ29sb3IgPSBpc0xpZ2h0ID8gJ3JnYmEoMCwwLDAsMC4xKScgOiAncmdiYSgyNTUsMjU1LDI1NSwwLjEpJzsKICAgIGlmIChjdXJyZW50Q2hhcnQpIHsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueC50aWNrcy5jb2xvciA9IHRleHRDb2xvcjsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueS50aWNrcy5jb2xvciA9IHRleHRDb2xvcjsKICAgICAgICBjdXJyZW50Q2hhcnQub3B0aW9ucy5zY2FsZXMueC5ncmlkLmNvbG9yID0gZ3JpZENvbG9yOwogICAgICAgIGN1cnJlbnRDaGFydC5vcHRpb25zLnNjYWxlcy55LmdyaWQuY29sb3IgPSBncmlkQ29sb3I7CiAgICAgICAgY3VycmVudENoYXJ0LnVwZGF0ZSgpOwogICAgfQp9CgpmdW5jdGlvbiB0b2dnbGVTZWN0aW9uKGlkKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LnRvZ2dsZSgnY29sbGFwc2VkJyk7Cn0KCmZ1bmN0aW9uIHJlbmRlckFsbCgpIHsKICAgIGlmICghZGVjcnlwdGVkRGF0YSkgcmV0dXJuOwogICAgcmVuZGVyQ2FsZW5kYXIoKTsKICAgIHJlbmRlckZ1dHVyZXMoKTsKICAgIHJlbmRlckNoYXJ0VGFicygpOwogICAgcmVuZGVyQ3J5cHRvKCk7CiAgICByZW5kZXJJbmRpY2VzKCk7CiAgICByZW5kZXJGZWFyR3JlZWQoKTsKICAgIHJlbmRlckFuYWx5c2lzKCk7CiAgICBsb2FkSGVhdG1hcCgpOwogICAgbG9hZEtvc3BpSGVhdG1hcCgpOwp9Cgpjb25zdCBpbmRpY2F0b3JJbmZvID0gewogICAgJ1BQSSc6IHsKICAgICAgICBkZXNjOiAn7IOd7IKw7J6Q66y86rCA7KeA7IiYKFBQSSnripQg7IOd7IKw7J6Q6rCAIO2MkOunpO2VmOuKlCDsg4Htkojqs7wg7ISc67mE7Iqk7J2YIOqwgOqyqSDrs4Drj5nsnYQg7Lih7KCV7ZWp64uI64ukLicsCiAgICAgICAgd2h5OiAn7Jew7KSAKEZlZCnsnZgg6riI66asIOqysOygleyXkCDsp4HsoJHsoIEg7JiB7Zal7J2EIOuvuOy5mOupsCwg6riw7JeFIOyImOydteyEseqzvCDtlqXtm4Qg7IaM67mE7J6Q66y86rCAIOuwqe2WpeydhCDsmIjsuKHtlZjripQg7ZW17IusIOyngO2RnOyeheuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfri6zrn6wg6rCV7IS4LCDquIjrpqwg7J247IOBIOq4sOuMgOqwkCDsg4HsirksIOyjvOyLneyLnOyepSDri6jquLAg7ZWY6529IOqwgOuKpSwg7YGs66a97YagIOyVveyEuCcsCiAgICAgICAgYmVhcmlzaDogJ+uLrOufrCDslb3shLgsIOq4iOumrCDsnbjtlZgg6riw64yA6rCQIOyDgeyKuSwg7KO87Iud7Iuc7J6lIO2YuOyerCwg7YGs66a97YagIOqwleyEuCcKICAgIH0sCiAgICAnUE1JJzogewogICAgICAgIGRlc2M6ICfqtazrp6TqtIDrpqzsnpDsp4DsiJgoUE1JKeuKlCDsoJzsobDsl4Uv7ISc67mE7Iqk7JeF7J2YIOqyveq4sCDsg4HtmansnYQg64KY7YOA64K064qUIOyEoO2WieyngO2RnOyeheuLiOuLpC4gNTAg7J207IOB7J2066m0IOqyveq4sCDtmZXsnqUsIDUwIOuvuOunjOydtOuptCDqsr3quLAg7IiY7LaV7J2EIOydmOuvuO2VqeuLiOuLpC4nLAogICAgICAgIHdoeTogJ+qyveq4sCDtnZDrpoTsnYQg6rCA7J6lIOu5oOultOqyjCDrsJjsmIHtlZjripQg7KeA7ZGc66GcLCBHRFAg7ISx7J6l66Wg7J2EIOyYiOy4oe2VmOuKlCDrjbAg7ZW17Ius7KCB7J24IOyXre2VoOydhCDtlanri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn6rK97KCcIOyEseyepSDquLDrjIAsIOychO2XmOyekOyCsCDshKDtmLgsIOyjvOyLnS/tgazrpr3thqAg6rCV7IS4JywKICAgICAgICBiZWFyaXNoOiAn6rK96riwIOy5qOyytCDsmrDroKQsIOyViOyghOyekOyCsCDshKDtmLgsIOuLrOufrC/quIgv7LGE6raMIOqwleyEuCcKICAgIH0sCiAgICAnQ1BJJzogewogICAgICAgIGRlc2M6ICfshozruYTsnpDrrLzqsIDsp4DsiJgoQ1BJKeuKlCDqsIDqs4TqsIAg6rWs66ek7ZWY64qUIOyDge2SiOqzvCDshJzruYTsiqTsnZgg6rCA6rKpIOuzgOuPmeydhCDsuKHsoJXtlanri4jri6QuJywKICAgICAgICB3aHk6ICfsl7DspIDsnZgg7Ya17ZmU7KCV7LGFIOqysOygleyXkCDqsIDsnqUg7KSR7JqU7ZWcIOyngO2RnOydtOupsCwg6riI66as7JmAIOuqqOuToCDsnpDsgrAg6rCA6rKp7JeQIOyngeygkeyggSDsmIHtlqXsnYQg66+47Lmp64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+q4iOumrCDsnbjsg4Eg4oaSIOuLrOufrCDqsJXshLgsIOyjvOyLnS/tgazrpr3thqAg7JW97IS4JywKICAgICAgICBiZWFyaXNoOiAn6riI66asIOyduO2VmCDquLDrjIAg4oaSIOuLrOufrCDslb3shLgsIOyjvOyLnS/tgazrpr3thqAg6rCV7IS4JwogICAgfSwKICAgICfqs6DsmqknOiB7CiAgICAgICAgZGVzYzogJ+u5hOuGjeyXhSDqs6Dsmqnsp4DtkZwoTkZQKeuKlCDrr7jqta0g64W464+Z7Iuc7J6l7J2YIOqxtOqwlSDsg4Htg5zrpbwg64KY7YOA64OF64uI64ukLicsCiAgICAgICAgd2h5OiAn7Jew7KSA7J2YIOuRkCDqsIDsp4Ag66qp7ZGcIOykkSDtlZjrgpjsnbgg7JmE7KCE6rOg7Jqp7J2EIOyngeygkSDsuKHsoJXtlZjripQg7KeA7ZGc7J6F64uI64ukLicsCiAgICAgICAgYnVsbGlzaDogJ+qyveygnCDqsJXshLgg7Iug7Zi4LCDquIjrpqwg7J247IOBIOqwgOuKpeyEsSwg64us65+sIOqwleyEuCcsCiAgICAgICAgYmVhcmlzaDogJ+qyveq4sCDrkZTtmZQg7Jqw66CkLCDquIjrpqwg7J247ZWYIOq4sOuMgCwg7JyE7ZeY7J6Q7IKwIOyVveyEuCcKICAgIH0sCiAgICAnRk9NQyc6IHsKICAgICAgICBkZXNjOiAnRk9NQ+uKlCDrr7jqta3snZgg6riw7KSA6riI66as7JmAIO2Gte2ZlOygleyxheydhCDqsrDsoJXtlZjripQg7Jew7KSA7J2YIO2VteyLrCDsnZjsgqzqsrDsoJUg6riw6rWs7J6F64uI64ukLicsCiAgICAgICAgd2h5OiAn7KCEIOyEuOqzhCDquIjsnLXsi5zsnqXsnZgg67Cp7Zal7J2EIOqysOygleynk+uKlCDqsIDsnqUg7KSR7JqU7ZWcIOydtOuypO2KuOyeheuLiOuLpC4nLAogICAgICAgIGJ1bGxpc2g6ICfquIjrpqwg7J247IOBL+unpO2MjOyggSDrsJzslrgg4oaSIOuLrOufrCDqsJXshLgsIOyjvOyLnS/tgazrpr3thqAg7JW97IS4JywKICAgICAgICBiZWFyaXNoOiAn6riI66asIOyduO2VmC/ruYTrkZjquLDtjIzsoIEg67Cc7Ja4IOKGkiDri6zrn6wg7JW97IS4LCDso7zsi50v7YGs66a97YagIOqwleyEuCcKICAgIH0KfTsKCmZ1bmN0aW9uIGdldEluZGljYXRvckluZm8obmFtZSkgewogICAgZm9yIChjb25zdCBrdyBvZiBPYmplY3Qua2V5cyhpbmRpY2F0b3JJbmZvKSkgewogICAgICAgIGlmIChuYW1lLmluY2x1ZGVzKGt3KSkgcmV0dXJuIGluZGljYXRvckluZm9ba3ddOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgICBkZXNjOiAn7J20IOyngO2RnOuKlCDrr7jqta0g6rK97KCc7J2YIO2KueyglSDrtoDrrLjsnYQg7Lih7KCV7ZWY64qUIOykkeyalO2VnCDqsr3soJwg642w7J207YSw7J6F64uI64ukLicsCiAgICAgICAgd2h5OiAn7Iuc7J6lIOywuOyXrOyekOuTpOydtCDso7zrqqntlZjripQg7ZW17IusIOyngO2RnOuhnCwg7Jew7KSA7J2YIO2Gte2ZlOygleyxheqzvCDsnpDsgrAg6rCA6rKp7JeQIOyYge2WpeydhCDrr7jsuanri4jri6QuJywKICAgICAgICBidWxsaXNoOiAn7JiI7IOB67O064ukIOqwle2VnCDsiJjsuZgg4oaSIOqyveygnCDrgpnqtIDroaAnLAogICAgICAgIGJlYXJpc2g6ICfsmIjsg4Hrs7Tri6Qg7JW97ZWcIOyImOy5mCDihpIg6rK97KCcIOu5hOq0gOuhoCcKICAgIH07Cn0KCmZ1bmN0aW9uIG9wZW5DYWxlbmRhck1vZGFsKGlkeCkgewogICAgY29uc3QgaXRlbSA9IGRlY3J5cHRlZERhdGEuZWNvbm9taWNfY2FsZW5kYXJbaWR4XTsKICAgIGlmICghaXRlbSkgcmV0dXJuOwogICAgY29uc3QgaW5mbyA9IGdldEluZGljYXRvckluZm8oaXRlbS5ldmVudCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxUaXRsZScpLnRleHRDb250ZW50ID0gJ+KtkOKtkOKtkCAnICsgaXRlbS5ldmVudDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFRpbWUnKS50ZXh0Q29udGVudCA9IGl0ZW0uZGF0ZSArICcgJyArIGl0ZW0udGltZTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEZvcmVjYXN0JykudGV4dENvbnRlbnQgPSBpdGVtLmZvcmVjYXN0IHx8ICctJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbFByZXZpb3VzJykudGV4dENvbnRlbnQgPSBpdGVtLnByZXZpb3VzIHx8ICctJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbERlc2MnKS50ZXh0Q29udGVudCA9IGl0ZW0uZGVzY3JpcHRpb24gfHwgaW5mby5kZXNjOwogICAgbGV0IGludGVycHJldCA9ICcnOwogICAgaWYgKGl0ZW0uZm9yZWNhc3QgJiYgaXRlbS5mb3JlY2FzdCAhPT0gJy0nICYmIGl0ZW0ucHJldmlvdXMgJiYgaXRlbS5wcmV2aW91cyAhPT0gJy0nKSB7CiAgICAgICAgY29uc3QgZiA9IHBhcnNlRmxvYXQoaXRlbS5mb3JlY2FzdC5yZXBsYWNlKC9bXjAtOS4tXS9nLCAnJykpOwogICAgICAgIGNvbnN0IHAgPSBwYXJzZUZsb2F0KGl0ZW0ucHJldmlvdXMucmVwbGFjZSgvW14wLTkuLV0vZywgJycpKTsKICAgICAgICBpZiAoIWlzTmFOKGYpICYmICFpc05hTihwKSkgewogICAgICAgICAgICBpbnRlcnByZXQgPSBmID4gcCA/ICfsmIjsuKHsuZjqsIAg7J207KCE7LmY67O064ukIOuGkuyKteuLiOuLpC4nIDogZiA8IHAgPyAn7JiI7Lih7LmY6rCAIOydtOyghOy5mOuztOuLpCDrgq7sirXri4jri6QuJyA6ICfsmIjsuKHsuZjqsIAg7J207KCE7LmY7JmAIOuPmeydvO2VqeuLiOuLpC4nOwogICAgICAgIH0KICAgIH0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEludGVycHJldCcpLnRleHRDb250ZW50ID0gaW50ZXJwcmV0IHx8ICfrjbDsnbTthLAg7ZmV7J24IOykkSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxCdWxsaXNoJykudGV4dENvbnRlbnQgPSBpbmZvLmJ1bGxpc2g7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxCZWFyaXNoJykudGV4dENvbnRlbnQgPSBpbmZvLmJlYXJpc2g7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxXaHknKS50ZXh0Q29udGVudCA9IGluZm8ud2h5OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKfQoKZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhck1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7Cn0KCmZ1bmN0aW9uIHJlbmRlckNhbGVuZGFyKCkgewogICAgY29uc3QgY2FsID0gZGVjcnlwdGVkRGF0YS5lY29ub21pY19jYWxlbmRhciB8fCBbXTsKICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyQm9keScpOwogICAgaWYgKCFjYWwubGVuZ3RoKSB7CiAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MnJlbTsiPuyYiOygleuQnCDqsr3soJzsp4DtkZzqsIAg7JeG7Iq164uI64ukPC90ZD48L3RyPic7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgIGNvbnN0IGtzdCA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyA5KjYwKjYwMDAwKTsKICAgIGNvbnN0IHRvZGF5U3RyID0gKGtzdC5nZXRNb250aCgpKzEpICsgJy8nICsga3N0LmdldERhdGUoKTsKICAgIHRib2R5LmlubmVySFRNTCA9IGNhbC5tYXAoKGl0ZW0sIGlkeCkgPT4gewogICAgICAgIGNvbnN0IGltcCA9IGl0ZW0uaW1wb3J0YW5jZSA9PT0gJ2hpZ2gnID8gJ+KtkOKtkOKtkCcgOiAn4q2Q4q2QJzsKICAgICAgICBjb25zdCBpc05leHQgPSBpdGVtLmRhdGUgIT09IHRvZGF5U3RyOwogICAgICAgIGNvbnN0IGJnID0gaXNOZXh0ID8gJ2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwwLjAzKTsnIDogJyc7CiAgICAgICAgcmV0dXJuICc8dHIgc3R5bGU9IicrYmcrJyIgb25jbGljaz0ib3BlbkNhbGVuZGFyTW9kYWwoJytpZHgrJykiPjx0ZD4nK2l0ZW0uZGF0ZSsnPC90ZD48dGQgY2xhc3M9ImV2ZW50LXRpbWUiPicraXRlbS50aW1lKyc8L3RkPjx0ZD4nK2l0ZW0uZXZlbnQrJzwvdGQ+PHRkPicrKGl0ZW0uZm9yZWNhc3R8fCctJykrJzwvdGQ+PHRkPicrKGl0ZW0ucHJldmlvdXN8fCctJykrJzwvdGQ+PHRkIHN0eWxlPSJjb2xvcjp2YXIoLS15ZWxsb3cpIj4nK2ltcCsnPC90ZD48L3RyPic7CiAgICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gcmVuZGVyRnV0dXJlcygpIHsKICAgIGNvbnN0IGYgPSBkZWNyeXB0ZWREYXRhLmZ1dHVyZXNfZGF0YSB8fCB7fTsKICAgIGlmIChmLmxvbmdfc2hvcnRfcmF0aW8pIHsKICAgICAgICBjb25zdCBscyA9IGYubG9uZ19zaG9ydF9yYXRpbzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbHNSYXRpbycpLnRleHRDb250ZW50ID0gbHMucmF0aW8udG9GaXhlZCgyKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbHNEZXRhaWwnKS50ZXh0Q29udGVudCA9ICfrobEgJytscy5sb25nLnRvRml4ZWQoMSkrJyUgLyDsiI8gJytscy5zaG9ydC50b0ZpeGVkKDEpKyclJzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9uZ0JhcicpLnN0eWxlLndpZHRoID0gbHMubG9uZysnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvbmdCYXInKS50ZXh0Q29udGVudCA9ICfrobEgJytscy5sb25nLnRvRml4ZWQoMSkrJyUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9ydEJhcicpLnN0eWxlLndpZHRoID0gbHMuc2hvcnQrJyUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9ydEJhcicpLnRleHRDb250ZW50ID0gJ+yIjyAnK2xzLnNob3J0LnRvRml4ZWQoMSkrJyUnOwogICAgfQogICAgaWYgKGYuZnVuZGluZ19yYXRlICE9PSBudWxsICYmIGYuZnVuZGluZ19yYXRlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zdCBmciA9IGYuZnVuZGluZ19yYXRlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdW5kaW5nUmF0ZScpLnRleHRDb250ZW50ID0gKGZyPj0wPycrJzonJykrZnIudG9GaXhlZCg0KSsnJSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdSYXRlJykuc3R5bGUuY29sb3IgPSBmcj49MD8ndmFyKC0tZ3JlZW4pJzondmFyKC0tcmVkKSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdEZXNjJykudGV4dENvbnRlbnQgPSBmcj49MD8n66Gx7J20IOyIj+yXkOqyjCDsp4DrtognOifsiI/snbQg66Gx7JeQ6rKMIOyngOu2iCc7CiAgICB9CiAgICBpZiAoZi5vcGVuX2ludGVyZXN0KSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW5JbnRlcmVzdCcpLnRleHRDb250ZW50ID0gZi5vcGVuX2ludGVyZXN0LnRvTG9jYWxlU3RyaW5nKCkrJyBCVEMnOwogICAgfQogICAgaWYgKGYuZnVuZGluZ19yYXRlcyAmJiBmLmZ1bmRpbmdfcmF0ZXMubGVuZ3RoKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bmRpbmdUYWJsZScpLmlubmVySFRNTCA9ICc8dHI+JytmLmZ1bmRpbmdfcmF0ZXMubWFwKHggPT4gewogICAgICAgICAgICBjb25zdCBjID0geC5yYXRlPj0wPyd2YXIoLS1ncmVlbiknOid2YXIoLS1yZWQpJzsKICAgICAgICAgICAgcmV0dXJuICc8dGQ+PGRpdiBjbGFzcz0ic3ltYm9sIj4nK3guc3ltYm9sKyc8L2Rpdj48ZGl2IHN0eWxlPSJjb2xvcjonK2MrJyI+JysoeC5yYXRlPj0wPycrJzonJykreC5yYXRlLnRvRml4ZWQoNCkrJyU8L2Rpdj48L3RkPic7CiAgICAgICAgfSkuam9pbignJykrJzwvdHI+JzsKICAgIH0KfQoKbGV0IGN1cnJlbnRUdkNoYXJ0ID0gJ25hc2RhcSc7CgpmdW5jdGlvbiByZW5kZXJDaGFydFRhYnMoKSB7CiAgICBsb2FkVHJhZGluZ1ZpZXdDaGFydEJ5U3ltYm9sKCdGT1JFWENPTTpOU1hVU0QnKTsKfQoKZnVuY3Rpb24gcmVuZGVyQ3J5cHRvKCkgewogICAgY29uc3QgY3J5cHRvID0gZGVjcnlwdGVkRGF0YS5jcnlwdG8gfHwgW107CiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyeXB0b0dyaWQnKTsKICAgIGdyaWQuaW5uZXJIVE1MID0gY3J5cHRvLm1hcChjID0+IHsKICAgICAgICBjb25zdCBjbHMgPSBjLmNoYW5nZSA+PSAwID8gJ3VwJyA6ICdkb3duJzsKICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9ImNyeXB0by1jYXJkICcrY2xzKyciPjxkaXYgY2xhc3M9ImNyeXB0by1zeW1ib2wiPicrYy5zeW1ib2wrJzwvZGl2PjxkaXYgY2xhc3M9ImNyeXB0by1uYW1lIj4nK2MubmFtZSsnPC9kaXY+PGRpdiBjbGFzcz0iY3J5cHRvLXByaWNlIj4kJytjLnByaWNlLnRvTG9jYWxlU3RyaW5nKCkrJzwvZGl2PjxkaXYgY2xhc3M9ImNyeXB0by1jaGFuZ2UiPicrKGMuY2hhbmdlPj0wPycrJzonJykrYy5jaGFuZ2UudG9GaXhlZCgyKSsnJTwvZGl2PjwvZGl2Pic7CiAgICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gcmVuZGVySW5kaWNlcygpIHsKICAgIC8vIOywqO2KuOyXkCDtkZzsi5ztlaAg7KKF66qpIOunpO2VkQogICAgY29uc3QgY2hhcnRJdGVtcyA9IFsKICAgICAgICB7IGtleTogJ25hc2RhcTEwMCcsIG5hbWU6ICfrgpjsiqTri6UxMDAnLCB0dlN5bWJvbDogJ0ZPUkVYQ09NOk5TWFVTRCcgfSwKICAgICAgICB7IGtleTogJ2dvbGQnLCBuYW1lOiAn6rOo65OcJywgdHZTeW1ib2w6ICdPQU5EQTpYQVVVU0QnIH0sCiAgICAgICAgeyBrZXk6ICdidGMnLCBuYW1lOiAn67mE7Yq47L2U7J24JywgdHZTeW1ib2w6ICdCSU5BTkNFOkJUQ1VTRFQnIH0sCiAgICAgICAgeyBrZXk6ICd1c2RrcncnLCBuYW1lOiAn7JuQL+uLrOufrCcsIHR2U3ltYm9sOiAnRlhfSURDOlVTREtSVycgfSwKICAgICAgICB7IGtleTogJ3ZpeCcsIG5hbWU6ICdWSVggKOuzgOuPmeyEsSknLCB0dlN5bWJvbDogJ1BFUFBFUlNUT05FOlZJWCcgfQogICAgXTsKICAgIAogICAgY29uc3QgdXMgPSBkZWNyeXB0ZWREYXRhLnVzX2luZGljZXMgfHwgW107CiAgICBjb25zdCBjcnlwdG8gPSBkZWNyeXB0ZWREYXRhLmNyeXB0byB8fCBbXTsKICAgIAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGljZXNUYWJsZScpLmlubmVySFRNTCA9IGNoYXJ0SXRlbXMubWFwKChpdGVtLCBpZHgpID0+IHsKICAgICAgICBsZXQgcHJpY2UgPSAnLSc7CiAgICAgICAgbGV0IGNoYW5nZSA9IDA7CiAgICAgICAgbGV0IGNoYW5nZVN0ciA9ICctJzsKICAgICAgICAKICAgICAgICAvLyDrjbDsnbTthLDsl5DshJwg6rCA6rKpIOywvuq4sAogICAgICAgIGlmIChpdGVtLmtleSA9PT0gJ2J0YycpIHsKICAgICAgICAgICAgY29uc3QgYnRjID0gY3J5cHRvLmZpbmQoYyA9PiBjLnN5bWJvbCA9PT0gJ0JUQycpOwogICAgICAgICAgICBpZiAoYnRjKSB7CiAgICAgICAgICAgICAgICBwcmljZSA9ICckJyArIGJ0Yy5wcmljZS50b0xvY2FsZVN0cmluZygpOwogICAgICAgICAgICAgICAgY2hhbmdlID0gYnRjLmNoYW5nZTsKICAgICAgICAgICAgICAgIGNoYW5nZVN0ciA9IChjaGFuZ2UgPj0gMCA/ICcrJyA6ICcnKSArIGNoYW5nZS50b0ZpeGVkKDIpICsgJyUnOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgZm91bmQgPSB1cy5maW5kKGkgPT4gaS5rZXkgPT09IGl0ZW0ua2V5KTsKICAgICAgICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgICAgICAgICBpZiAoaXRlbS5rZXkgPT09ICd1c2RrcncnKSB7CiAgICAgICAgICAgICAgICAgICAgcHJpY2UgPSBmb3VuZC5wcmljZS50b0xvY2FsZVN0cmluZygpICsgJ+ybkCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ua2V5ID09PSAnZ29sZCcpIHsKICAgICAgICAgICAgICAgICAgICBwcmljZSA9ICckJyArIGZvdW5kLnByaWNlLnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByaWNlID0gZm91bmQucHJpY2UudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNoYW5nZSA9IGZvdW5kLmNoYW5nZTsKICAgICAgICAgICAgICAgIGNoYW5nZVN0ciA9IChjaGFuZ2UgPj0gMCA/ICcrJyA6ICcnKSArIGNoYW5nZS50b0ZpeGVkKDIpICsgJyUnOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGNvbnN0IGNscyA9IGNoYW5nZSA+PSAwID8gJ3Bvc2l0aXZlJyA6ICduZWdhdGl2ZSc7CiAgICAgICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBpZHggPT09IDAgPyAnIGFjdGl2ZScgOiAnJzsKICAgICAgICAKICAgICAgICByZXR1cm4gJzx0ciBjbGFzcz0iJythY3RpdmVDbGFzcysnIiBvbmNsaWNrPSJzZWxlY3RDaGFydFJvdyh0aGlzLCBcJycraXRlbS50dlN5bWJvbCsnXCcpIj48dGQ+JytpdGVtLm5hbWUrJzwvdGQ+PHRkPicrcHJpY2UrJzwvdGQ+PHRkIGNsYXNzPSInK2NscysnIj4nK2NoYW5nZVN0cisnPC90ZD48L3RyPic7CiAgICB9KS5qb2luKCcnKTsKICAgIAogICAgY29uc3Qga3IgPSBkZWNyeXB0ZWREYXRhLmtyX2luZGljZXMgfHwgW107CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3JUYWJsZScpLmlubmVySFRNTCA9IGtyLm1hcChpID0+IHsKICAgICAgICBjb25zdCBjbHMgPSBpLmNoYW5nZSA+PSAwID8gJ3Bvc2l0aXZlJyA6ICduZWdhdGl2ZSc7CiAgICAgICAgcmV0dXJuICc8dHI+PHRkPicraS5uYW1lKyc8L3RkPjx0ZD4nK2kucHJpY2UudG9Mb2NhbGVTdHJpbmcoKSsnPC90ZD48dGQgY2xhc3M9IicrY2xzKyciPicrKGkuY2hhbmdlPj0wPycrJzonJykraS5jaGFuZ2UudG9GaXhlZCgyKSsnJTwvdGQ+PC90cj4nOwogICAgfSkuam9pbignJyk7Cn0KCmZ1bmN0aW9uIHNlbGVjdENoYXJ0Um93KHJvdywgc3ltYm9sKSB7CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hhcnQtc2VsZWN0LXRhYmxlIHRib2R5IHRyJykuZm9yRWFjaChyID0+IHIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpOwogICAgcm93LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgbG9hZFRyYWRpbmdWaWV3Q2hhcnRCeVN5bWJvbChzeW1ib2wpOwp9CgpmdW5jdGlvbiBsb2FkVHJhZGluZ1ZpZXdDaGFydEJ5U3ltYm9sKHN5bWJvbCkgewogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R2Q2hhcnRDb250YWluZXInKTsKICAgIGNvbnN0IGlzTGlnaHQgPSBkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScpID09PSAnbGlnaHQnOwogICAgY29uc3QgdGhlbWUgPSBpc0xpZ2h0ID8gJ2xpZ2h0JyA6ICdkYXJrJzsKICAgIAogICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IGlkPSJ0cmFkaW5ndmlld19jaGFydCI+PC9kaXY+JzsKICAgIAogICAgbmV3IFRyYWRpbmdWaWV3LndpZGdldCh7CiAgICAgICAgIndpZHRoIjogIjEwMCUiLAogICAgICAgICJoZWlnaHQiOiA0MDAsCiAgICAgICAgInN5bWJvbCI6IHN5bWJvbCwKICAgICAgICAiaW50ZXJ2YWwiOiAiNjAiLAogICAgICAgICJ0aW1lem9uZSI6ICJBc2lhL1Nlb3VsIiwKICAgICAgICAidGhlbWUiOiB0aGVtZSwKICAgICAgICAic3R5bGUiOiAiMSIsCiAgICAgICAgImxvY2FsZSI6ICJrciIsCiAgICAgICAgInRvb2xiYXJfYmciOiAiI2YxZjNmNiIsCiAgICAgICAgImVuYWJsZV9wdWJsaXNoaW5nIjogZmFsc2UsCiAgICAgICAgImhpZGVfdG9wX3Rvb2xiYXIiOiBmYWxzZSwKICAgICAgICAiaGlkZV9sZWdlbmQiOiBmYWxzZSwKICAgICAgICAic2F2ZV9pbWFnZSI6IGZhbHNlLAogICAgICAgICJjb250YWluZXJfaWQiOiAidHJhZGluZ3ZpZXdfY2hhcnQiLAogICAgICAgICJoaWRlX3ZvbHVtZSI6IHRydWUKICAgIH0pOwp9CgpmdW5jdGlvbiByZW5kZXJGZWFyR3JlZWQoKSB7CiAgICBjb25zdCBmZyA9IGRlY3J5cHRlZERhdGEuZmVhcl9ncmVlZCB8fCB7dmFsdWU6IDUwfTsKICAgIGNvbnN0IHZhbCA9IGZnLnZhbHVlOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZnVmFsdWUnKS50ZXh0Q29udGVudCA9IHZhbDsKICAgIGNvbnN0IGxhYmVsID0gdmFsIDw9IDI1ID8gJ+q3ueuPhOydmCDqs7Xtj6wnIDogdmFsIDw9IDQ1ID8gJ+qzte2PrCcgOiB2YWwgPD0gNTUgPyAn7KSR66a9JyA6IHZhbCA8PSA3NSA/ICftg5DsmpUnIDogJ+q3ueuPhOydmCDtg5DsmpUnOwogICAgY29uc3QgY2xzID0gdmFsIDw9IDQ1ID8gJ2ZlYXInIDogdmFsIDw9IDU1ID8gJ25ldXRyYWwnIDogJ2dyZWVkJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0xhYmVsJykudGV4dENvbnRlbnQgPSBsYWJlbDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0xhYmVsJykuY2xhc3NOYW1lID0gJ2ZnLWxhYmVsICcgKyBjbHM7CiAgICAKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZ0dhdWdlJyk7CiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGNvbnN0IHNpemUgPSAxNDA7CiAgICBjYW52YXMud2lkdGggPSBzaXplOwogICAgY2FudmFzLmhlaWdodCA9IHNpemU7CiAgICBjb25zdCBjZW50ZXIgPSBzaXplIC8gMjsKICAgIGNvbnN0IHJhZGl1cyA9IDU1OwogICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzaXplLCBzaXplKTsKICAgIGN0eC5iZWdpblBhdGgoKTsKICAgIGN0eC5hcmMoY2VudGVyLCBjZW50ZXIsIHJhZGl1cywgMC43NSAqIE1hdGguUEksIDAuMjUgKiBNYXRoLlBJKTsKICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjMmEyYTNhJzsKICAgIGN0eC5saW5lV2lkdGggPSAxMjsKICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJzsKICAgIGN0eC5zdHJva2UoKTsKICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIHNpemUsIDApOwogICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICcjZmY0NzU3Jyk7CiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC41LCAnI2ZmYTUwMicpOwogICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICcjMmVkNTczJyk7CiAgICBjdHguYmVnaW5QYXRoKCk7CiAgICBjb25zdCBlbmRBbmdsZSA9IDAuNzUgKiBNYXRoLlBJICsgKHZhbCAvIDEwMCkgKiAxLjUgKiBNYXRoLlBJOwogICAgY3R4LmFyYyhjZW50ZXIsIGNlbnRlciwgcmFkaXVzLCAwLjc1ICogTWF0aC5QSSwgZW5kQW5nbGUpOwogICAgY3R4LnN0cm9rZVN0eWxlID0gZ3JhZGllbnQ7CiAgICBjdHgubGluZVdpZHRoID0gMTI7CiAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7CiAgICBjdHguc3Ryb2tlKCk7Cn0KCmZ1bmN0aW9uIGxvYWRIZWF0bWFwKCkgewogICAgY29uc3QgaXNMaWdodCA9IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJykgPT09ICdsaWdodCc7CiAgICBjb25zdCB0aGVtZSA9IGlzTGlnaHQgPyAnbGlnaHQnIDogJ2RhcmsnOwogICAgCiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhdG1hcENvbnRhaW5lcicpOwogICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJ0cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyIj48ZGl2IGNsYXNzPSJ0cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyX193aWRnZXQiPjwvZGl2PjwvZGl2Pic7CiAgICAKICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgc2NyaXB0LnNyYyA9ICdodHRwczovL3MzLnRyYWRpbmd2aWV3LmNvbS9leHRlcm5hbC1lbWJlZGRpbmcvZW1iZWQtd2lkZ2V0LXN0b2NrLWhlYXRtYXAuanMnOwogICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIHNjcmlwdC5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgImRhdGFTb3VyY2UiOiAiTkFTREFRMTAwIiwKICAgICAgICAiYmxvY2tTaXplIjogIm1hcmtldF9jYXBfYmFzaWMiLAogICAgICAgICJibG9ja0NvbG9yIjogImNoYW5nZSIsCiAgICAgICAgImdyb3VwaW5nIjogInNlY3RvciIsCiAgICAgICAgImxvY2FsZSI6ICJrciIsCiAgICAgICAgInN5bWJvbFVybCI6ICIiLAogICAgICAgICJjb2xvclRoZW1lIjogdGhlbWUsCiAgICAgICAgImV4Y2hhbmdlcyI6IFtdLAogICAgICAgICJoYXNUb3BCYXIiOiBmYWxzZSwKICAgICAgICAiaXNEYXRhU2V0RW5hYmxlZCI6IGZhbHNlLAogICAgICAgICJpc1pvb21FbmFibGVkIjogdHJ1ZSwKICAgICAgICAiaGFzU3ltYm9sVG9vbHRpcCI6IHRydWUsCiAgICAgICAgImlzTW9ub1NpemUiOiBmYWxzZSwKICAgICAgICAid2lkdGgiOiAiMTAwJSIsCiAgICAgICAgImhlaWdodCI6ICIxMDAlIgogICAgfSk7CiAgICAKICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudHJhZGluZ3ZpZXctd2lkZ2V0LWNvbnRhaW5lcicpLmFwcGVuZENoaWxkKHNjcmlwdCk7Cn0KCmZ1bmN0aW9uIGxvYWRLb3NwaUhlYXRtYXAoKSB7CiAgICBjb25zdCBpc0xpZ2h0ID0gZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGhlbWUnKSA9PT0gJ2xpZ2h0JzsKICAgIGNvbnN0IHRoZW1lID0gaXNMaWdodCA/ICdsaWdodCcgOiAnZGFyayc7CiAgICAKICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrb3NwaUhlYXRtYXBDb250YWluZXInKTsKICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0idHJhZGluZ3ZpZXctd2lkZ2V0LWNvbnRhaW5lciI+PGRpdiBjbGFzcz0idHJhZGluZ3ZpZXctd2lkZ2V0LWNvbnRhaW5lcl9fd2lkZ2V0Ij48L2Rpdj48L2Rpdj4nOwogICAgCiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9zMy50cmFkaW5ndmlldy5jb20vZXh0ZXJuYWwtZW1iZWRkaW5nL2VtYmVkLXdpZGdldC1zdG9jay1oZWF0bWFwLmpzJzsKICAgIHNjcmlwdC5hc3luYyA9IHRydWU7CiAgICBzY3JpcHQuaW5uZXJIVE1MID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICJkYXRhU291cmNlIjogIktPU1BJIiwKICAgICAgICAiYmxvY2tTaXplIjogIm1hcmtldF9jYXBfYmFzaWMiLAogICAgICAgICJibG9ja0NvbG9yIjogImNoYW5nZSIsCiAgICAgICAgImdyb3VwaW5nIjogInNlY3RvciIsCiAgICAgICAgImxvY2FsZSI6ICJrciIsCiAgICAgICAgInN5bWJvbFVybCI6ICIiLAogICAgICAgICJjb2xvclRoZW1lIjogdGhlbWUsCiAgICAgICAgImV4Y2hhbmdlcyI6IFsiS1JYIl0sCiAgICAgICAgImhhc1RvcEJhciI6IGZhbHNlLAogICAgICAgICJpc0RhdGFTZXRFbmFibGVkIjogZmFsc2UsCiAgICAgICAgImlzWm9vbUVuYWJsZWQiOiB0cnVlLAogICAgICAgICJoYXNTeW1ib2xUb29sdGlwIjogdHJ1ZSwKICAgICAgICAiaXNNb25vU2l6ZSI6IGZhbHNlLAogICAgICAgICJ3aWR0aCI6ICIxMDAlIiwKICAgICAgICAiaGVpZ2h0IjogIjEwMCUiCiAgICB9KTsKICAgIAogICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50cmFkaW5ndmlldy13aWRnZXQtY29udGFpbmVyJykuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKfQoKZnVuY3Rpb24gcmVuZGVyQW5hbHlzaXMoKSB7CiAgICBjb25zdCBhbmFseXNpcyA9IGRlY3J5cHRlZERhdGEuYW5hbHlzaXMgfHwge307CiAgICAKICAgIC8vIO2VnOykhCDsvZTrqZjtirgKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvbmVMaW5lcicpLnRleHRDb250ZW50ID0gYW5hbHlzaXMub25lX2xpbmVyIHx8ICfwn5OKIOyLnOyepSDrtoTshJ3snYQg67aI65+s7Jik64qUIOykkS4uLic7CiAgICAKICAgIC8vIOqwgSDshLnshZjrs4Qg67aE7ISdCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNNYXJrZXRBbmFseXNpcycpLmlubmVySFRNTCA9IGFuYWx5c2lzLnVzX21hcmtldCB8fCAnPHA+67aE7ISdIOuNsOydtO2EsCDsl4bsnYw8L3A+JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcnlwdG9BbmFseXNpcycpLmlubmVySFRNTCA9IGFuYWx5c2lzLmNyeXB0byB8fCAnPHA+67aE7ISdIOuNsOydtO2EsCDsl4bsnYw8L3A+JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tb2RpdGllc0FuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMuY29tbW9kaXRpZXMgfHwgJzxwPuu2hOyEnSDrjbDsnbTthLAg7JeG7J2MPC9wPic7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna29yZWFNYXJrZXRBbmFseXNpcycpLmlubmVySFRNTCA9IGFuYWx5c2lzLmtvcmVhX21hcmtldCB8fCAnPHA+67aE7ISdIOuNsOydtO2EsCDsl4bsnYw8L3A+JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJhdGVneUFuYWx5c2lzJykuaW5uZXJIVE1MID0gYW5hbHlzaXMuc3RyYXRlZ3kgfHwgJzxwPuu2hOyEnSDrjbDsnbTthLAg7JeG7J2MPC9wPic7Cn0KCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7CiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSBjbG9zZU1vZGFsKCk7CiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSBhdHRlbXB0TG9naW4oKTsKICAgIAogICAgLy8g6rCc67Cc7J6QIOuPhOq1rCDssKjri6gKICAgIGlmIChlLmtleSA9PT0gJ0YxMicpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KICAgIGlmIChlLmN0cmxLZXkgJiYgZS5zaGlmdEtleSAmJiAoZS5rZXkgPT09ICdJJyB8fCBlLmtleSA9PT0gJ2knKSkgeyBlLnByZXZlbnREZWZhdWx0KCk7IHJldHVybiBmYWxzZTsgfQogICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gJ0onIHx8IGUua2V5ID09PSAnaicpKSB7IGUucHJldmVudERlZmF1bHQoKTsgcmV0dXJuIGZhbHNlOyB9CiAgICBpZiAoZS5jdHJsS2V5ICYmIGUuc2hpZnRLZXkgJiYgKGUua2V5ID09PSAnQycgfHwgZS5rZXkgPT09ICdjJykpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KICAgIGlmIChlLmN0cmxLZXkgJiYgKGUua2V5ID09PSAnVScgfHwgZS5rZXkgPT09ICd1JykpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyByZXR1cm4gZmFsc2U7IH0KfSk7CgovLyDsmKTrpbjsqr0g7YG066atIOywqOuLqApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybiBmYWxzZTsKfSk7CgovLyDthY3siqTtirgg7ISg7YOdIOywqOuLqApkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnSU5QVVQnKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfSk7CgovLyDrk5zrnpjqt7gg7LCo64uoCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHJldHVybiBmYWxzZTsKfSk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXJNb2RhbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkgewogICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzKSBjbG9zZU1vZGFsKCk7Cn0pOwoKbG9hZFRoZW1lKCk7CmlmICghY2hlY2tTYXZlZEF1dGgoKSkgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKfQo="))))</script>
</body>
</html>